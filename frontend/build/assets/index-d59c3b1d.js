var Eg=Object.defineProperty;var Cg=(e,t,l)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var Xt=(e,t,l)=>(Cg(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}})();function wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={},Rg={get exports(){return fe},set exports(e){fe=e}},fo={},rn={},Ag={get exports(){return rn},set exports(e){rn=e}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),kg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Ug=Symbol.for("react.memo"),Lg=Symbol.for("react.lazy"),Gd=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f_=Object.assign,d_={};function Gr(e,t,l){this.props=e,this.context=t,this.refs=d_,this.updater=l||c_}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=Gr.prototype;function ic(e,t,l){this.props=e,this.context=t,this.refs=d_,this.updater=l||c_}var sc=ic.prototype=new h_;sc.constructor=ic;f_(sc,Gr.prototype);sc.isPureReactComponent=!0;var Kd=Array.isArray,p_=Object.prototype.hasOwnProperty,oc={current:null},__={key:!0,ref:!0,__self:!0,__source:!0};function v_(e,t,l){var i,s={},u=null,n=null;if(t!=null)for(i in t.ref!==void 0&&(n=t.ref),t.key!==void 0&&(u=""+t.key),t)p_.call(t,i)&&!__.hasOwnProperty(i)&&(s[i]=t[i]);var d=arguments.length-2;if(d===1)s.children=l;else if(1<d){for(var h=Array(d),c=0;c<d;c++)h[c]=arguments[c+2];s.children=h}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)s[i]===void 0&&(s[i]=d[i]);return{$$typeof:ti,type:e,key:u,ref:n,props:s,_owner:oc.current}}function Fg(e,t){return{$$typeof:ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ti}function Hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var Qd=/\/+/g;function ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hg(""+e.key):t.toString(36)}function is(e,t,l,i,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var n=!1;if(e===null)n=!0;else switch(u){case"string":case"number":n=!0;break;case"object":switch(e.$$typeof){case ti:case Ig:n=!0}}if(n)return n=e,s=s(n),e=i===""?"."+ru(n,0):i,Kd(s)?(l="",e!=null&&(l=e.replace(Qd,"$&/")+"/"),is(s,t,l,"",function(c){return c})):s!=null&&(uc(s)&&(s=Fg(s,l+(!s.key||n&&n.key===s.key?"":(""+s.key).replace(Qd,"$&/")+"/")+e)),t.push(s)),1;if(n=0,i=i===""?".":i+":",Kd(e))for(var d=0;d<e.length;d++){u=e[d];var h=i+ru(u,d);n+=is(u,t,l,h,s)}else if(h=Mg(e),typeof h=="function")for(e=h.call(e),d=0;!(u=e.next()).done;)u=u.value,h=i+ru(u,d++),n+=is(u,t,l,h,s);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return n}function Ni(e,t,l){if(e==null)return e;var i=[],s=0;return is(e,i,"","",function(u){return t.call(l,u,s++)}),i}function $g(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ss={transition:null},jg={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ss,ReactCurrentOwner:oc};se.Children={map:Ni,forEach:function(e,t,l){Ni(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!uc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Gr;se.Fragment=kg;se.Profiler=Ng;se.PureComponent=ic;se.StrictMode=Og;se.Suspense=Dg;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;se.cloneElement=function(e,t,l){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f_({},e.props),s=e.key,u=e.ref,n=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,n=oc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)p_.call(t,h)&&!__.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=l;else if(1<h){d=Array(h);for(var c=0;c<h;c++)d[c]=arguments[c+2];i.children=d}return{$$typeof:ti,type:e.type,key:s,ref:u,props:i,_owner:n}};se.createContext=function(e){return e={$$typeof:Pg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xg,_context:e},e.Consumer=e};se.createElement=v_;se.createFactory=function(e){var t=v_.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:bg,render:e}};se.isValidElement=uc;se.lazy=function(e){return{$$typeof:Lg,_payload:{_status:-1,_result:e},_init:$g}};se.memo=function(e,t){return{$$typeof:Ug,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=ss.transition;ss.transition={};try{e()}finally{ss.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return lt.current.useCallback(e,t)};se.useContext=function(e){return lt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};se.useEffect=function(e,t){return lt.current.useEffect(e,t)};se.useId=function(){return lt.current.useId()};se.useImperativeHandle=function(e,t,l){return lt.current.useImperativeHandle(e,t,l)};se.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return lt.current.useMemo(e,t)};se.useReducer=function(e,t,l){return lt.current.useReducer(e,t,l)};se.useRef=function(e){return lt.current.useRef(e)};se.useState=function(e){return lt.current.useState(e)};se.useSyncExternalStore=function(e,t,l){return lt.current.useSyncExternalStore(e,t,l)};se.useTransition=function(){return lt.current.useTransition()};se.version="18.2.0";(function(e){e.exports=se})(Ag);const zg=wg(rn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=rn,Bg=Symbol.for("react.element"),Vg=Symbol.for("react.fragment"),Wg=Object.prototype.hasOwnProperty,Gg=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kg={key:!0,ref:!0,__self:!0,__source:!0};function m_(e,t,l){var i,s={},u=null,n=null;l!==void 0&&(u=""+l),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(n=t.ref);for(i in t)Wg.call(t,i)&&!Kg.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Bg,type:e,key:u,ref:n,props:s,_owner:Gg.current}}fo.Fragment=Vg;fo.jsx=m_;fo.jsxs=m_;(function(e){e.exports=fo})(Rg);var Ju={},Zu={},Qg={get exports(){return Zu},set exports(e){Zu=e}},yt={},ea={},Yg={get exports(){return ea},set exports(e){ea=e}},g_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,X){var te=W.length;W.push(X);e:for(;0<te;){var ce=te-1>>>1,J=W[ce];if(0<s(J,X))W[ce]=X,W[te]=J,te=ce;else break e}}function l(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var X=W[0],te=W.pop();if(te!==X){W[0]=te;e:for(var ce=0,J=W.length,St=J>>>1;ce<St;){var et=2*(ce+1)-1,Et=W[et],Ke=et+1,ue=W[Ke];if(0>s(Et,te))Ke<J&&0>s(ue,Et)?(W[ce]=ue,W[Ke]=te,ce=Ke):(W[ce]=Et,W[et]=te,ce=et);else if(Ke<J&&0>s(ue,te))W[ce]=ue,W[Ke]=te,ce=Ke;else break e}}return X}function s(W,X){var te=W.sortIndex-X.sortIndex;return te!==0?te:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var n=Date,d=n.now();e.unstable_now=function(){return n.now()-d}}var h=[],c=[],_=1,v=null,g=3,S=!1,C=!1,A=!1,H=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var X=l(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=W)i(c),X.sortIndex=X.expirationTime,t(h,X);else break;X=l(c)}}function x(W){if(A=!1,w(W),!C)if(l(h)!==null)C=!0,O(L);else{var X=l(c);X!==null&&F(x,X.startTime-W)}}function L(W,X){C=!1,A&&(A=!1,E(I),I=-1),S=!0;var te=g;try{for(w(X),v=l(h);v!==null&&(!(v.expirationTime>X)||W&&!Ne());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,g=v.priorityLevel;var J=ce(v.expirationTime<=X);X=e.unstable_now(),typeof J=="function"?v.callback=J:v===l(h)&&i(h),w(X)}else i(h);v=l(h)}if(v!==null)var St=!0;else{var et=l(c);et!==null&&F(x,et.startTime-X),St=!1}return St}finally{v=null,g=te,S=!1}}var q=!1,z=null,I=-1,P=5,ee=-1;function Ne(){return!(e.unstable_now()-ee<P)}function Me(){if(z!==null){var W=e.unstable_now();ee=W;var X=!0;try{X=z(!0,W)}finally{X?le():(q=!1,z=null)}}else q=!1}var le;if(typeof T=="function")le=function(){T(Me)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,j=M.port2;M.port1.onmessage=Me,le=function(){j.postMessage(null)}}else le=function(){H(Me,0)};function O(W){z=W,q||(q=!0,le())}function F(W,X){I=H(function(){W(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,O(L))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return l(h)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var te=g;g=X;try{return W()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=g;g=W;try{return X()}finally{g=te}},e.unstable_scheduleCallback=function(W,X,te){var ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=te+J,W={id:_++,callback:X,priorityLevel:W,startTime:te,expirationTime:J,sortIndex:-1},te>ce?(W.sortIndex=te,t(c,W),l(h)===null&&W===l(c)&&(A?(E(I),I=-1):A=!0,F(x,te-ce))):(W.sortIndex=J,t(h,W),C||S||(C=!0,O(L))),W},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(W){var X=g;return function(){var te=g;g=X;try{return W.apply(this,arguments)}finally{g=te}}}})(g_);(function(e){e.exports=g_})(Yg);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=rn,gt=ea;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T_=new Set,Ul={};function cr(e,t){Fr(e,t),Fr(e+"Capture",t)}function Fr(e,t){for(Ul[e]=t,e=0;e<t.length;e++)T_.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yd={},Xd={};function Jg(e){return ta.call(Xd,e)?!0:ta.call(Yd,e)?!1:Xg.test(e)?Xd[e]=!0:(Yd[e]=!0,!1)}function Zg(e,t,l,i){if(l!==null&&l.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ey(e,t,l,i){if(t===null||typeof t>"u"||Zg(e,t,l,i))return!0;if(i)return!1;if(l!==null)switch(l.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,l,i,s,u,n){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=l,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=n}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,cc);Ge[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,cc);Ge[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,cc);Ge[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function fc(e,t,l,i){var s=Ge.hasOwnProperty(t)?Ge[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ey(t,l,s,i)&&(l=null),i||s===null?Jg(t)&&(l===null?e.removeAttribute(t):e.setAttribute(t,""+l)):s.mustUseProperty?e[s.propertyName]=l===null?s.type===3?!1:"":l:(t=s.attributeName,i=s.attributeNamespace,l===null?e.removeAttribute(t):(s=s.type,l=s===3||s===4&&l===!0?"":""+l,i?e.setAttributeNS(i,t,l):e.setAttribute(t,l))))}var dn=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),E_=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),ra=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,lu;function Sl(e){if(lu===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);lu=t&&t[1]||""}return`
`+lu+e}var iu=!1;function su(e,t){if(!e||iu)return"";iu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),u=i.stack.split(`
`),n=s.length-1,d=u.length-1;1<=n&&0<=d&&s[n]!==u[d];)d--;for(;1<=n&&0<=d;n--,d--)if(s[n]!==u[d]){if(n!==1||d!==1)do if(n--,d--,0>d||s[n]!==u[d]){var h=`
`+s[n].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=n&&0<=d);break}}}finally{iu=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Sl(e):""}function ty(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=su(e.type,!1),e;case 11:return e=su(e.type.render,!1),e;case 1:return e=su(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case na:return"Profiler";case dc:return"StrictMode";case ra:return"Suspense";case la:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E_:return(e.displayName||"Context")+".Consumer";case S_:return(e._context.displayName||"Context")+".Provider";case hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function ny(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ry(e){var t=w_(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(n){i=""+n,u.call(this,n)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(n){i=""+n},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=ry(e))}function R_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),i="";return e&&(i=w_(e)?e.checked?"true":"false":e.value),e=i,e!==l?(t.setValue(e),!0):!1}function Ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sa(e,t){var l=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function Zd(e,t){var l=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;l=Un(t.value!=null?t.value:l),e._wrapperState={initialChecked:i,initialValue:l,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A_(e,t){t=t.checked,t!=null&&fc(e,"checked",t,!1)}function oa(e,t){A_(e,t);var l=Un(t.value),i=t.type;if(l!=null)i==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,l):t.hasOwnProperty("defaultValue")&&ua(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eh(e,t,l){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,l||t===e.value||(e.value=t),e.defaultValue=t}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function ua(e,t,l){(t!=="number"||Ns(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var El=Array.isArray;function xr(e,t,l,i){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&i&&(e[l].defaultSelected=!0)}else{for(l=""+Un(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function th(e,t){var l=t.value;if(l==null){if(l=t.children,t=t.defaultValue,l!=null){if(t!=null)throw Error($(92));if(El(l)){if(1<l.length)throw Error($(93));l=l[0]}t=l}t==null&&(t=""),l=t}e._wrapperState={initialValue:Un(l)}}function I_(e,t){var l=Un(t.value),i=Un(t.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),t.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),i!=null&&(e.defaultValue=""+i)}function nh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function k_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?k_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bi,O_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,l,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,l,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ly=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){ly.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function N_(e,t,l){return t==null||typeof t=="boolean"||t===""?"":l||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function x_(e,t){e=e.style;for(var l in t)if(t.hasOwnProperty(l)){var i=l.indexOf("--")===0,s=N_(l,t[l],i);l==="float"&&(l="cssFloat"),i?e.setProperty(l,s):e[l]=s}}var iy=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(iy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,Pr=null,br=null;function rh(e){if(e=li(e)){if(typeof pa!="function")throw Error($(280));var t=e.stateNode;t&&(t=mo(t),pa(e.stateNode,e.type,t))}}function P_(e){Pr?br?br.push(e):br=[e]:Pr=e}function b_(){if(Pr){var e=Pr,t=br;if(br=Pr=null,rh(e),t)for(e=0;e<t.length;e++)rh(t[e])}}function D_(e,t){return e(t)}function U_(){}var ou=!1;function L_(e,t,l){if(ou)return e(t,l);ou=!0;try{return D_(e,t,l)}finally{ou=!1,(Pr!==null||br!==null)&&(U_(),b_())}}function Ml(e,t){var l=e.stateNode;if(l===null)return null;var i=mo(l);if(i===null)return null;l=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error($(231,t,typeof l));return l}var _a=!1;if(un)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){_a=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{_a=!1}function sy(e,t,l,i,s,u,n,d,h){var c=Array.prototype.slice.call(arguments,3);try{t.apply(l,c)}catch(_){this.onError(_)}}var Al=!1,xs=null,Ps=!1,va=null,oy={onError:function(e){Al=!0,xs=e}};function uy(e,t,l,i,s,u,n,d,h){Al=!1,xs=null,sy.apply(oy,arguments)}function ay(e,t,l,i,s,u,n,d,h){if(uy.apply(this,arguments),Al){if(Al){var c=xs;Al=!1,xs=null}else throw Error($(198));Ps||(Ps=!0,va=c)}}function fr(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function M_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lh(e){if(fr(e)!==e)throw Error($(188))}function cy(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error($(188));return t!==e?null:e}for(var l=e,i=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){l=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return lh(s),e;if(u===i)return lh(s),t;u=u.sibling}throw Error($(188))}if(l.return!==i.return)l=s,i=u;else{for(var n=!1,d=s.child;d;){if(d===l){n=!0,l=s,i=u;break}if(d===i){n=!0,i=s,l=u;break}d=d.sibling}if(!n){for(d=u.child;d;){if(d===l){n=!0,l=u,i=s;break}if(d===i){n=!0,i=u,l=s;break}d=d.sibling}if(!n)throw Error($(189))}}if(l.alternate!==i)throw Error($(190))}if(l.tag!==3)throw Error($(188));return l.stateNode.current===l?e:t}function F_(e){return e=cy(e),e!==null?H_(e):null}function H_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H_(e);if(t!==null)return t;e=e.sibling}return null}var $_=gt.unstable_scheduleCallback,ih=gt.unstable_cancelCallback,fy=gt.unstable_shouldYield,dy=gt.unstable_requestPaint,Oe=gt.unstable_now,hy=gt.unstable_getCurrentPriorityLevel,vc=gt.unstable_ImmediatePriority,j_=gt.unstable_UserBlockingPriority,bs=gt.unstable_NormalPriority,py=gt.unstable_LowPriority,z_=gt.unstable_IdlePriority,ho=null,Vt=null;function _y(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:gy,vy=Math.log,my=Math.LN2;function gy(e){return e>>>=0,e===0?32:31-(vy(e)/my|0)|0}var Di=64,Ui=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var l=e.pendingLanes;if(l===0)return 0;var i=0,s=e.suspendedLanes,u=e.pingedLanes,n=l&268435455;if(n!==0){var d=n&~s;d!==0?i=Cl(d):(u&=n,u!==0&&(i=Cl(u)))}else n=l&~s,n!==0?i=Cl(n):u!==0&&(i=Cl(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if(i&4&&(i|=l&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)l=31-Lt(t),s=1<<l,i|=e[l],t&=~s;return i}function yy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(e,t){for(var l=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var n=31-Lt(u),d=1<<n,h=s[n];h===-1?(!(d&l)||d&i)&&(s[n]=yy(d,t)):h<=t&&(e.expiredLanes|=d),u&=~d}}function ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q_(){var e=Di;return Di<<=1,!(Di&4194240)&&(Di=64),e}function uu(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ni(e,t,l){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=l}function Sy(e,t){var l=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<l;){var s=31-Lt(l),u=1<<s;t[s]=0,i[s]=-1,e[s]=-1,l&=~u}}function mc(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var i=31-Lt(l),s=1<<i;s&t|e[i]&t&&(e[i]|=t),l&=~s}}var de=0;function B_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V_,gc,W_,G_,K_,ga=!1,Li=[],In=null,kn=null,On=null,Fl=new Map,Hl=new Map,Cn=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function ol(e,t,l,i,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:i,nativeEvent:u,targetContainers:[s]},t!==null&&(t=li(t),t!==null&&gc(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Cy(e,t,l,i,s){switch(t){case"focusin":return In=ol(In,e,t,l,i,s),!0;case"dragenter":return kn=ol(kn,e,t,l,i,s),!0;case"mouseover":return On=ol(On,e,t,l,i,s),!0;case"pointerover":var u=s.pointerId;return Fl.set(u,ol(Fl.get(u)||null,e,t,l,i,s)),!0;case"gotpointercapture":return u=s.pointerId,Hl.set(u,ol(Hl.get(u)||null,e,t,l,i,s)),!0}return!1}function Q_(e){var t=Jn(e.target);if(t!==null){var l=fr(t);if(l!==null){if(t=l.tag,t===13){if(t=M_(l),t!==null){e.blockedOn=t,K_(e.priority,function(){W_(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var i=new l.constructor(l.type,l);ha=i,l.target.dispatchEvent(i),ha=null}else return t=li(l),t!==null&&gc(t),e.blockedOn=l,!1;t.shift()}return!0}function oh(e,t,l){os(e)&&l.delete(t)}function wy(){ga=!1,In!==null&&os(In)&&(In=null),kn!==null&&os(kn)&&(kn=null),On!==null&&os(On)&&(On=null),Fl.forEach(oh),Hl.forEach(oh)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,ga||(ga=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,wy)))}function $l(e){function t(s){return ul(s,e)}if(0<Li.length){ul(Li[0],e);for(var l=1;l<Li.length;l++){var i=Li[l];i.blockedOn===e&&(i.blockedOn=null)}}for(In!==null&&ul(In,e),kn!==null&&ul(kn,e),On!==null&&ul(On,e),Fl.forEach(t),Hl.forEach(t),l=0;l<Cn.length;l++)i=Cn[l],i.blockedOn===e&&(i.blockedOn=null);for(;0<Cn.length&&(l=Cn[0],l.blockedOn===null);)Q_(l),l.blockedOn===null&&Cn.shift()}var Dr=dn.ReactCurrentBatchConfig,Us=!0;function Ry(e,t,l,i){var s=de,u=Dr.transition;Dr.transition=null;try{de=1,yc(e,t,l,i)}finally{de=s,Dr.transition=u}}function Ay(e,t,l,i){var s=de,u=Dr.transition;Dr.transition=null;try{de=4,yc(e,t,l,i)}finally{de=s,Dr.transition=u}}function yc(e,t,l,i){if(Us){var s=ya(e,t,l,i);if(s===null)gu(e,t,i,Ls,l),sh(e,i);else if(Cy(s,e,t,l,i))i.stopPropagation();else if(sh(e,i),t&4&&-1<Ey.indexOf(e)){for(;s!==null;){var u=li(s);if(u!==null&&V_(u),u=ya(e,t,l,i),u===null&&gu(e,t,i,Ls,l),u===s)break;s=u}s!==null&&i.stopPropagation()}else gu(e,t,i,null,l)}}var Ls=null;function ya(e,t,l,i){if(Ls=null,e=_c(i),e=Jn(e),e!==null)if(t=fr(e),t===null)e=null;else if(l=t.tag,l===13){if(e=M_(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ls=e,null}function Y_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hy()){case vc:return 1;case j_:return 4;case bs:case py:return 16;case z_:return 536870912;default:return 16}default:return 16}}var Rn=null,Tc=null,us=null;function X_(){if(us)return us;var e,t=Tc,l=t.length,i,s="value"in Rn?Rn.value:Rn.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var n=l-e;for(i=1;i<=n&&t[l-i]===s[u-i];i++);return us=s.slice(e,1<i?1-i:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function uh(){return!1}function Tt(e){function t(l,i,s,u,n){this._reactName=l,this._targetInst=s,this.type=i,this.nativeEvent=u,this.target=n,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(u):u[d]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Mi:uh,this.isPropagationStopped=uh,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=Tt(Kr),ri=Re({},Kr,{view:0,detail:0}),Iy=Tt(ri),au,cu,al,po=Re({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==al&&(al&&e.type==="mousemove"?(au=e.screenX-al.screenX,cu=e.screenY-al.screenY):cu=au=0,al=e),au)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),ah=Tt(po),ky=Re({},po,{dataTransfer:0}),Oy=Tt(ky),Ny=Re({},ri,{relatedTarget:0}),fu=Tt(Ny),xy=Re({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=Tt(xy),by=Re({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dy=Tt(by),Uy=Re({},Kr,{data:0}),ch=Tt(Uy),Ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function Ec(){return Hy}var $y=Re({},ri,{key:function(e){if(e.key){var t=Ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?My[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jy=Tt($y),zy=Re({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=Tt(zy),qy=Re({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),By=Tt(qy),Vy=Re({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=Tt(Vy),Gy=Re({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ky=Tt(Gy),Qy=[9,13,27,32],Cc=un&&"CompositionEvent"in window,Il=null;un&&"documentMode"in document&&(Il=document.documentMode);var Yy=un&&"TextEvent"in window&&!Il,J_=un&&(!Cc||Il&&8<Il&&11>=Il),dh=String.fromCharCode(32),hh=!1;function Z_(e,t){switch(e){case"keyup":return Qy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ev(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Xy(e,t){switch(e){case"compositionend":return ev(t);case"keypress":return t.which!==32?null:(hh=!0,dh);case"textInput":return e=t.data,e===dh&&hh?null:e;default:return null}}function Jy(e,t){if(Tr)return e==="compositionend"||!Cc&&Z_(e,t)?(e=X_(),us=Tc=Rn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J_&&t.locale!=="ko"?null:t.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zy[e.type]:t==="textarea"}function tv(e,t,l,i){P_(i),t=Ms(t,"onChange"),0<t.length&&(l=new Sc("onChange","change",null,l,i),e.push({event:l,listeners:t}))}var kl=null,jl=null;function e0(e){dv(e,0)}function _o(e){var t=Cr(e);if(R_(t))return e}function t0(e,t){if(e==="change")return t}var nv=!1;if(un){var du;if(un){var hu="oninput"in document;if(!hu){var _h=document.createElement("div");_h.setAttribute("oninput","return;"),hu=typeof _h.oninput=="function"}du=hu}else du=!1;nv=du&&(!document.documentMode||9<document.documentMode)}function vh(){kl&&(kl.detachEvent("onpropertychange",rv),jl=kl=null)}function rv(e){if(e.propertyName==="value"&&_o(jl)){var t=[];tv(t,jl,e,_c(e)),L_(e0,t)}}function n0(e,t,l){e==="focusin"?(vh(),kl=t,jl=l,kl.attachEvent("onpropertychange",rv)):e==="focusout"&&vh()}function r0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(jl)}function l0(e,t){if(e==="click")return _o(t)}function i0(e,t){if(e==="input"||e==="change")return _o(t)}function s0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:s0;function zl(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),i=Object.keys(t);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var s=l[i];if(!ta.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gh(e,t){var l=mh(e);e=0;for(var i;l;){if(l.nodeType===3){if(i=e+l.textContent.length,e<=t&&i>=t)return{node:l,offset:t-e};e=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mh(l)}}function lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iv(){for(var e=window,t=Ns();t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ns(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o0(e){var t=iv(),l=e.focusedElem,i=e.selectionRange;if(t!==l&&l&&l.ownerDocument&&lv(l.ownerDocument.documentElement,l)){if(i!==null&&wc(l)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in l)l.selectionStart=t,l.selectionEnd=Math.min(e,l.value.length);else if(e=(t=l.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=l.textContent.length,u=Math.min(i.start,s);i=i.end===void 0?u:Math.min(i.end,s),!e.extend&&u>i&&(s=i,i=u,u=s),s=gh(l,u);var n=gh(l,i);s&&n&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(n.node,n.offset)):(t.setEnd(n.node,n.offset),e.addRange(t)))}}for(t=[],e=l;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<t.length;l++)e=t[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u0=un&&"documentMode"in document&&11>=document.documentMode,Sr=null,Ta=null,Ol=null,Sa=!1;function yh(e,t,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sa||Sr==null||Sr!==Ns(i)||(i=Sr,"selectionStart"in i&&wc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ol&&zl(Ol,i)||(Ol=i,i=Ms(Ta,"onSelect"),0<i.length&&(t=new Sc("onSelect","select",null,t,l),e.push({event:t,listeners:i}),t.target=Sr)))}function Fi(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Er={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},pu={},sv={};un&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function vo(e){if(pu[e])return pu[e];if(!Er[e])return e;var t=Er[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in sv)return pu[e]=t[l];return e}var ov=vo("animationend"),uv=vo("animationiteration"),av=vo("animationstart"),cv=vo("transitionend"),fv=new Map,Th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){fv.set(e,t),cr(t,[e])}for(var _u=0;_u<Th.length;_u++){var vu=Th[_u],a0=vu.toLowerCase(),c0=vu[0].toUpperCase()+vu.slice(1);Fn(a0,"on"+c0)}Fn(ov,"onAnimationEnd");Fn(uv,"onAnimationIteration");Fn(av,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(cv,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Sh(e,t,l){var i=e.type||"unknown-event";e.currentTarget=l,ay(i,t,void 0,e),e.currentTarget=null}function dv(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var i=e[l],s=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var n=i.length-1;0<=n;n--){var d=i[n],h=d.instance,c=d.currentTarget;if(d=d.listener,h!==u&&s.isPropagationStopped())break e;Sh(s,d,c),u=h}else for(n=0;n<i.length;n++){if(d=i[n],h=d.instance,c=d.currentTarget,d=d.listener,h!==u&&s.isPropagationStopped())break e;Sh(s,d,c),u=h}}}if(Ps)throw e=va,Ps=!1,va=null,e}function ge(e,t){var l=t[Aa];l===void 0&&(l=t[Aa]=new Set);var i=e+"__bubble";l.has(i)||(hv(t,e,2,!1),l.add(i))}function mu(e,t,l){var i=0;t&&(i|=4),hv(l,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ql(e){if(!e[Hi]){e[Hi]=!0,T_.forEach(function(l){l!=="selectionchange"&&(f0.has(l)||mu(l,!1,e),mu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,mu("selectionchange",!1,t))}}function hv(e,t,l,i){switch(Y_(t)){case 1:var s=Ry;break;case 4:s=Ay;break;default:s=yc}l=s.bind(null,t,l,e),s=void 0,!_a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function gu(e,t,l,i,s){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var n=i.tag;if(n===3||n===4){var d=i.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(n===4)for(n=i.return;n!==null;){var h=n.tag;if((h===3||h===4)&&(h=n.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;n=n.return}for(;d!==null;){if(n=Jn(d),n===null)return;if(h=n.tag,h===5||h===6){i=u=n;continue e}d=d.parentNode}}i=i.return}L_(function(){var c=u,_=_c(l),v=[];e:{var g=fv.get(e);if(g!==void 0){var S=Sc,C=e;switch(e){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":S=jy;break;case"focusin":C="focus",S=fu;break;case"focusout":C="blur",S=fu;break;case"beforeblur":case"afterblur":S=fu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=By;break;case ov:case uv:case av:S=Py;break;case cv:S=Wy;break;case"scroll":S=Iy;break;case"wheel":S=Ky;break;case"copy":case"cut":case"paste":S=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=fh}var A=(t&4)!==0,H=!A&&e==="scroll",E=A?g!==null?g+"Capture":null:g;A=[];for(var T=c,w;T!==null;){w=T;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,E!==null&&(x=Ml(T,E),x!=null&&A.push(Bl(T,x,w)))),H)break;T=T.return}0<A.length&&(g=new S(g,C,null,l,_),v.push({event:g,listeners:A}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&l!==ha&&(C=l.relatedTarget||l.fromElement)&&(Jn(C)||C[an]))break e;if((S||g)&&(g=_.window===_?_:(g=_.ownerDocument)?g.defaultView||g.parentWindow:window,S?(C=l.relatedTarget||l.toElement,S=c,C=C?Jn(C):null,C!==null&&(H=fr(C),C!==H||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=c),S!==C)){if(A=ah,x="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(A=fh,x="onPointerLeave",E="onPointerEnter",T="pointer"),H=S==null?g:Cr(S),w=C==null?g:Cr(C),g=new A(x,T+"leave",S,l,_),g.target=H,g.relatedTarget=w,x=null,Jn(_)===c&&(A=new A(E,T+"enter",C,l,_),A.target=w,A.relatedTarget=H,x=A),H=x,S&&C)t:{for(A=S,E=C,T=0,w=A;w;w=_r(w))T++;for(w=0,x=E;x;x=_r(x))w++;for(;0<T-w;)A=_r(A),T--;for(;0<w-T;)E=_r(E),w--;for(;T--;){if(A===E||E!==null&&A===E.alternate)break t;A=_r(A),E=_r(E)}A=null}else A=null;S!==null&&Eh(v,g,S,A,!1),C!==null&&H!==null&&Eh(v,H,C,A,!0)}}e:{if(g=c?Cr(c):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var L=t0;else if(ph(g))if(nv)L=i0;else{L=r0;var q=n0}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=l0);if(L&&(L=L(e,c))){tv(v,L,l,_);break e}q&&q(e,g,c),e==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&ua(g,"number",g.value)}switch(q=c?Cr(c):window,e){case"focusin":(ph(q)||q.contentEditable==="true")&&(Sr=q,Ta=c,Ol=null);break;case"focusout":Ol=Ta=Sr=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,yh(v,l,_);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":yh(v,l,_)}var z;if(Cc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Tr?Z_(e,l)&&(I="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(I="onCompositionStart");I&&(J_&&l.locale!=="ko"&&(Tr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Tr&&(z=X_()):(Rn=_,Tc="value"in Rn?Rn.value:Rn.textContent,Tr=!0)),q=Ms(c,I),0<q.length&&(I=new ch(I,e,null,l,_),v.push({event:I,listeners:q}),z?I.data=z:(z=ev(l),z!==null&&(I.data=z)))),(z=Yy?Xy(e,l):Jy(e,l))&&(c=Ms(c,"onBeforeInput"),0<c.length&&(_=new ch("onBeforeInput","beforeinput",null,l,_),v.push({event:_,listeners:c}),_.data=z))}dv(v,t)})}function Bl(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ms(e,t){for(var l=t+"Capture",i=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=Ml(e,l),u!=null&&i.unshift(Bl(e,u,s)),u=Ml(e,t),u!=null&&i.push(Bl(e,u,s))),e=e.return}return i}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eh(e,t,l,i,s){for(var u=t._reactName,n=[];l!==null&&l!==i;){var d=l,h=d.alternate,c=d.stateNode;if(h!==null&&h===i)break;d.tag===5&&c!==null&&(d=c,s?(h=Ml(l,u),h!=null&&n.unshift(Bl(l,h,d))):s||(h=Ml(l,u),h!=null&&n.push(Bl(l,h,d)))),l=l.return}n.length!==0&&e.push({event:t,listeners:n})}var d0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function Ch(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(h0,"")}function $i(e,t,l){if(t=Ch(t),Ch(e)!==t&&l)throw Error($(425))}function Fs(){}var Ea=null,Ca=null;function wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ra=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,wh=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof wh<"u"?function(e){return wh.resolve(null).then(e).catch(v0)}:Ra;function v0(e){setTimeout(function(){throw e})}function yu(e,t){var l=t,i=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){e.removeChild(s),$l(t);return}i--}else l!=="$"&&l!=="$?"&&l!=="$!"||i++;l=s}while(l);$l(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Qr,Vl="__reactProps$"+Qr,an="__reactContainer$"+Qr,Aa="__reactEvents$"+Qr,m0="__reactListeners$"+Qr,g0="__reactHandles$"+Qr;function Jn(e){var t=e[Bt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[an]||l[Bt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Rh(e);e!==null;){if(l=e[Bt])return l;e=Rh(e)}return t}e=l,l=e.parentNode}return null}function li(e){return e=e[Bt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function mo(e){return e[Vl]||null}var Ia=[],wr=-1;function Hn(e){return{current:e}}function ye(e){0>wr||(e.current=Ia[wr],Ia[wr]=null,wr--)}function _e(e,t){wr++,Ia[wr]=e.current,e.current=t}var Ln={},Je=Hn(Ln),ct=Hn(!1),ir=Ln;function Hr(e,t){var l=e.type.contextTypes;if(!l)return Ln;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in l)s[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ft(e){return e=e.childContextTypes,e!=null}function Hs(){ye(ct),ye(Je)}function Ah(e,t,l){if(Je.current!==Ln)throw Error($(168));_e(Je,t),_e(ct,l)}function pv(e,t,l){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return l;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error($(108,ny(e)||"Unknown",s));return Re({},l,i)}function $s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,ir=Je.current,_e(Je,e),_e(ct,ct.current),!0}function Ih(e,t,l){var i=e.stateNode;if(!i)throw Error($(169));l?(e=pv(e,t,ir),i.__reactInternalMemoizedMergedChildContext=e,ye(ct),ye(Je),_e(Je,e)):ye(ct),_e(ct,l)}var nn=null,go=!1,Tu=!1;function _v(e){nn===null?nn=[e]:nn.push(e)}function y0(e){go=!0,_v(e)}function $n(){if(!Tu&&nn!==null){Tu=!0;var e=0,t=de;try{var l=nn;for(de=1;e<l.length;e++){var i=l[e];do i=i(!0);while(i!==null)}nn=null,go=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),$_(vc,$n),s}finally{de=t,Tu=!1}}return null}var Rr=[],Ar=0,js=null,zs=0,wt=[],Rt=0,sr=null,ln=1,sn="";function Yn(e,t){Rr[Ar++]=zs,Rr[Ar++]=js,js=e,zs=t}function vv(e,t,l){wt[Rt++]=ln,wt[Rt++]=sn,wt[Rt++]=sr,sr=e;var i=ln;e=sn;var s=32-Lt(i)-1;i&=~(1<<s),l+=1;var u=32-Lt(t)+s;if(30<u){var n=s-s%5;u=(i&(1<<n)-1).toString(32),i>>=n,s-=n,ln=1<<32-Lt(t)+s|l<<s|i,sn=u+e}else ln=1<<u|l<<s|i,sn=e}function Rc(e){e.return!==null&&(Yn(e,1),vv(e,1,0))}function Ac(e){for(;e===js;)js=Rr[--Ar],Rr[Ar]=null,zs=Rr[--Ar],Rr[Ar]=null;for(;e===sr;)sr=wt[--Rt],wt[Rt]=null,sn=wt[--Rt],wt[Rt]=null,ln=wt[--Rt],wt[Rt]=null}var mt=null,vt=null,Ee=!1,Ut=null;function mv(e,t){var l=It(5,null,null,0);l.elementType="DELETED",l.stateNode=t,l.return=e,t=e.deletions,t===null?(e.deletions=[l],e.flags|=16):t.push(l)}function kh(e,t){switch(e.tag){case 5:var l=e.type;return t=t.nodeType!==1||l.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,vt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(l=sr!==null?{id:ln,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:l,retryLane:1073741824},l=It(18,null,null,0),l.stateNode=t,l.return=e,e.child=l,mt=e,vt=null,!0):!1;default:return!1}}function ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oa(e){if(Ee){var t=vt;if(t){var l=t;if(!kh(e,t)){if(ka(e))throw Error($(418));t=Nn(l.nextSibling);var i=mt;t&&kh(e,t)?mv(i,l):(e.flags=e.flags&-4097|2,Ee=!1,mt=e)}}else{if(ka(e))throw Error($(418));e.flags=e.flags&-4097|2,Ee=!1,mt=e}}}function Oh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ji(e){if(e!==mt)return!1;if(!Ee)return Oh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wa(e.type,e.memoizedProps)),t&&(t=vt)){if(ka(e))throw gv(),Error($(418));for(;t;)mv(e,t),t=Nn(t.nextSibling)}if(Oh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(t===0){vt=Nn(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=mt?Nn(e.stateNode.nextSibling):null;return!0}function gv(){for(var e=vt;e;)e=Nn(e.nextSibling)}function $r(){vt=mt=null,Ee=!1}function Ic(e){Ut===null?Ut=[e]:Ut.push(e)}var T0=dn.ReactCurrentBatchConfig;function bt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var l in e)t[l]===void 0&&(t[l]=e[l]);return t}return t}var qs=Hn(null),Bs=null,Ir=null,kc=null;function Oc(){kc=Ir=Bs=null}function Nc(e){var t=qs.current;ye(qs),e._currentValue=t}function Na(e,t,l){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===l)break;e=e.return}}function Ur(e,t){Bs=e,kc=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Bs===null)throw Error($(308));Ir=e,Bs.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Zn=null;function xc(e){Zn===null?Zn=[e]:Zn.push(e)}function yv(e,t,l,i){var s=t.interleaved;return s===null?(l.next=l,xc(t)):(l.next=s.next,s.next=l),t.interleaved=l,cn(e,i)}function cn(e,t){e.lanes|=t;var l=e.alternate;for(l!==null&&(l.lanes|=t),l=e,e=e.return;e!==null;)e.childLanes|=t,l=e.alternate,l!==null&&(l.childLanes|=t),l=e,e=e.return;return l.tag===3?l.stateNode:null}var En=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,l){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,cn(e,l)}return s=i.interleaved,s===null?(t.next=t,xc(i)):(t.next=s.next,s.next=t),i.interleaved=t,cn(e,l)}function cs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,l|=i,t.lanes=l,mc(e,l)}}function Nh(e,t){var l=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var n={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};u===null?s=u=n:u=u.next=n,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}function Vs(e,t,l,i){var s=e.updateQueue;En=!1;var u=s.firstBaseUpdate,n=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,c=h.next;h.next=null,n===null?u=c:n.next=c,n=h;var _=e.alternate;_!==null&&(_=_.updateQueue,d=_.lastBaseUpdate,d!==n&&(d===null?_.firstBaseUpdate=c:d.next=c,_.lastBaseUpdate=h))}if(u!==null){var v=s.baseState;n=0,_=c=h=null,d=u;do{var g=d.lane,S=d.eventTime;if((i&g)===g){_!==null&&(_=_.next={eventTime:S,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var C=e,A=d;switch(g=t,S=l,A.tag){case 1:if(C=A.payload,typeof C=="function"){v=C.call(S,v,g);break e}v=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=A.payload,g=typeof C=="function"?C.call(S,v,g):C,g==null)break e;v=Re({},v,g);break e;case 2:En=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[d]:g.push(d))}else S={eventTime:S,lane:g,tag:d.tag,payload:d.payload,callback:d.callback,next:null},_===null?(c=_=S,h=v):_=_.next=S,n|=g;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;g=d,d=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(_===null&&(h=v),s.baseState=h,s.firstBaseUpdate=c,s.lastBaseUpdate=_,t=s.shared.interleaved,t!==null){s=t;do n|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);ur|=n,e.lanes=n,e.memoizedState=v}}function xh(e,t,l){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=l,typeof s!="function")throw Error($(191,s));s.call(i)}}}var Sv=new y_.Component().refs;function xa(e,t,l,i){t=e.memoizedState,l=l(i,t),l=l==null?t:Re({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yo={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,l){e=e._reactInternals;var i=rt(),s=bn(e),u=on(i,s);u.payload=t,l!=null&&(u.callback=l),t=xn(e,u,s),t!==null&&(Mt(t,e,s,i),cs(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var i=rt(),s=bn(e),u=on(i,s);u.tag=1,u.payload=t,l!=null&&(u.callback=l),t=xn(e,u,s),t!==null&&(Mt(t,e,s,i),cs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=rt(),i=bn(e),s=on(l,i);s.tag=2,t!=null&&(s.callback=t),t=xn(e,s,i),t!==null&&(Mt(t,e,i,l),cs(t,e,i))}};function Ph(e,t,l,i,s,u,n){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,n):t.prototype&&t.prototype.isPureReactComponent?!zl(l,i)||!zl(s,u):!0}function Ev(e,t,l){var i=!1,s=Ln,u=t.contextType;return typeof u=="object"&&u!==null?u=Ot(u):(s=ft(t)?ir:Je.current,i=t.contextTypes,u=(i=i!=null)?Hr(e,s):Ln),t=new t(l,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function bh(e,t,l,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,i),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Pa(e,t,l,i){var s=e.stateNode;s.props=l,s.state=e.memoizedState,s.refs=Sv,Pc(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=Ot(u):(u=ft(t)?ir:Je.current,s.context=Hr(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(xa(e,t,u,l),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yo.enqueueReplaceState(s,s.state,null),Vs(e,l,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cl(e,t,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error($(309));var i=l.stateNode}if(!i)throw Error($(147,e));var s=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(n){var d=s.refs;d===Sv&&(d=s.refs={}),n===null?delete d[u]:d[u]=n},t._stringRef=u,t)}if(typeof e!="string")throw Error($(284));if(!l._owner)throw Error($(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dh(e){var t=e._init;return t(e._payload)}function Cv(e){function t(E,T){if(e){var w=E.deletions;w===null?(E.deletions=[T],E.flags|=16):w.push(T)}}function l(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function i(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function s(E,T){return E=Dn(E,T),E.index=0,E.sibling=null,E}function u(E,T,w){return E.index=w,e?(w=E.alternate,w!==null?(w=w.index,w<T?(E.flags|=2,T):w):(E.flags|=2,T)):(E.flags|=1048576,T)}function n(E){return e&&E.alternate===null&&(E.flags|=2),E}function d(E,T,w,x){return T===null||T.tag!==6?(T=Iu(w,E.mode,x),T.return=E,T):(T=s(T,w),T.return=E,T)}function h(E,T,w,x){var L=w.type;return L===yr?_(E,T,w.props.children,x,w.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Sn&&Dh(L)===T.type)?(x=s(T,w.props),x.ref=cl(E,T,w),x.return=E,x):(x=vs(w.type,w.key,w.props,null,E.mode,x),x.ref=cl(E,T,w),x.return=E,x)}function c(E,T,w,x){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=ku(w,E.mode,x),T.return=E,T):(T=s(T,w.children||[]),T.return=E,T)}function _(E,T,w,x,L){return T===null||T.tag!==7?(T=lr(w,E.mode,x,L),T.return=E,T):(T=s(T,w),T.return=E,T)}function v(E,T,w){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Iu(""+T,E.mode,w),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xi:return w=vs(T.type,T.key,T.props,null,E.mode,w),w.ref=cl(E,null,T),w.return=E,w;case gr:return T=ku(T,E.mode,w),T.return=E,T;case Sn:var x=T._init;return v(E,x(T._payload),w)}if(El(T)||il(T))return T=lr(T,E.mode,w,null),T.return=E,T;zi(E,T)}return null}function g(E,T,w,x){var L=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:d(E,T,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xi:return w.key===L?h(E,T,w,x):null;case gr:return w.key===L?c(E,T,w,x):null;case Sn:return L=w._init,g(E,T,L(w._payload),x)}if(El(w)||il(w))return L!==null?null:_(E,T,w,x,null);zi(E,w)}return null}function S(E,T,w,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(w)||null,d(T,E,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xi:return E=E.get(x.key===null?w:x.key)||null,h(T,E,x,L);case gr:return E=E.get(x.key===null?w:x.key)||null,c(T,E,x,L);case Sn:var q=x._init;return S(E,T,w,q(x._payload),L)}if(El(x)||il(x))return E=E.get(w)||null,_(T,E,x,L,null);zi(T,x)}return null}function C(E,T,w,x){for(var L=null,q=null,z=T,I=T=0,P=null;z!==null&&I<w.length;I++){z.index>I?(P=z,z=null):P=z.sibling;var ee=g(E,z,w[I],x);if(ee===null){z===null&&(z=P);break}e&&z&&ee.alternate===null&&t(E,z),T=u(ee,T,I),q===null?L=ee:q.sibling=ee,q=ee,z=P}if(I===w.length)return l(E,z),Ee&&Yn(E,I),L;if(z===null){for(;I<w.length;I++)z=v(E,w[I],x),z!==null&&(T=u(z,T,I),q===null?L=z:q.sibling=z,q=z);return Ee&&Yn(E,I),L}for(z=i(E,z);I<w.length;I++)P=S(z,E,I,w[I],x),P!==null&&(e&&P.alternate!==null&&z.delete(P.key===null?I:P.key),T=u(P,T,I),q===null?L=P:q.sibling=P,q=P);return e&&z.forEach(function(Ne){return t(E,Ne)}),Ee&&Yn(E,I),L}function A(E,T,w,x){var L=il(w);if(typeof L!="function")throw Error($(150));if(w=L.call(w),w==null)throw Error($(151));for(var q=L=null,z=T,I=T=0,P=null,ee=w.next();z!==null&&!ee.done;I++,ee=w.next()){z.index>I?(P=z,z=null):P=z.sibling;var Ne=g(E,z,ee.value,x);if(Ne===null){z===null&&(z=P);break}e&&z&&Ne.alternate===null&&t(E,z),T=u(Ne,T,I),q===null?L=Ne:q.sibling=Ne,q=Ne,z=P}if(ee.done)return l(E,z),Ee&&Yn(E,I),L;if(z===null){for(;!ee.done;I++,ee=w.next())ee=v(E,ee.value,x),ee!==null&&(T=u(ee,T,I),q===null?L=ee:q.sibling=ee,q=ee);return Ee&&Yn(E,I),L}for(z=i(E,z);!ee.done;I++,ee=w.next())ee=S(z,E,I,ee.value,x),ee!==null&&(e&&ee.alternate!==null&&z.delete(ee.key===null?I:ee.key),T=u(ee,T,I),q===null?L=ee:q.sibling=ee,q=ee);return e&&z.forEach(function(Me){return t(E,Me)}),Ee&&Yn(E,I),L}function H(E,T,w,x){if(typeof w=="object"&&w!==null&&w.type===yr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xi:e:{for(var L=w.key,q=T;q!==null;){if(q.key===L){if(L=w.type,L===yr){if(q.tag===7){l(E,q.sibling),T=s(q,w.props.children),T.return=E,E=T;break e}}else if(q.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Sn&&Dh(L)===q.type){l(E,q.sibling),T=s(q,w.props),T.ref=cl(E,q,w),T.return=E,E=T;break e}l(E,q);break}else t(E,q);q=q.sibling}w.type===yr?(T=lr(w.props.children,E.mode,x,w.key),T.return=E,E=T):(x=vs(w.type,w.key,w.props,null,E.mode,x),x.ref=cl(E,T,w),x.return=E,E=x)}return n(E);case gr:e:{for(q=w.key;T!==null;){if(T.key===q)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){l(E,T.sibling),T=s(T,w.children||[]),T.return=E,E=T;break e}else{l(E,T);break}else t(E,T);T=T.sibling}T=ku(w,E.mode,x),T.return=E,E=T}return n(E);case Sn:return q=w._init,H(E,T,q(w._payload),x)}if(El(w))return C(E,T,w,x);if(il(w))return A(E,T,w,x);zi(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,T!==null&&T.tag===6?(l(E,T.sibling),T=s(T,w),T.return=E,E=T):(l(E,T),T=Iu(w,E.mode,x),T.return=E,E=T),n(E)):l(E,T)}return H}var jr=Cv(!0),wv=Cv(!1),ii={},Wt=Hn(ii),Wl=Hn(ii),Gl=Hn(ii);function er(e){if(e===ii)throw Error($(174));return e}function bc(e,t){switch(_e(Gl,t),_e(Wl,e),_e(Wt,ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ca(t,e)}ye(Wt),_e(Wt,t)}function zr(){ye(Wt),ye(Wl),ye(Gl)}function Rv(e){er(Gl.current);var t=er(Wt.current),l=ca(t,e.type);t!==l&&(_e(Wl,e),_e(Wt,l))}function Dc(e){Wl.current===e&&(ye(Wt),ye(Wl))}var Ce=Hn(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Su=[];function Uc(){for(var e=0;e<Su.length;e++)Su[e]._workInProgressVersionPrimary=null;Su.length=0}var fs=dn.ReactCurrentDispatcher,Eu=dn.ReactCurrentBatchConfig,or=0,we=null,Ue=null,He=null,Gs=!1,Nl=!1,Kl=0,S0=0;function Qe(){throw Error($(321))}function Lc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Ft(e[l],t[l]))return!1;return!0}function Mc(e,t,l,i,s,u){if(or=u,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=e===null||e.memoizedState===null?R0:A0,e=l(i,s),Nl){u=0;do{if(Nl=!1,Kl=0,25<=u)throw Error($(301));u+=1,He=Ue=null,t.updateQueue=null,fs.current=I0,e=l(i,s)}while(Nl)}if(fs.current=Ks,t=Ue!==null&&Ue.next!==null,or=0,He=Ue=we=null,Gs=!1,t)throw Error($(300));return e}function Fc(){var e=Kl!==0;return Kl=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?we.memoizedState=He=e:He=He.next=e,He}function Nt(){if(Ue===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=He===null?we.memoizedState:He.next;if(t!==null)He=t,Ue=e;else{if(e===null)throw Error($(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},He===null?we.memoizedState=He=e:He=He.next=e}return He}function Ql(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=Nt(),l=t.queue;if(l===null)throw Error($(311));l.lastRenderedReducer=e;var i=Ue,s=i.baseQueue,u=l.pending;if(u!==null){if(s!==null){var n=s.next;s.next=u.next,u.next=n}i.baseQueue=s=u,l.pending=null}if(s!==null){u=s.next,i=i.baseState;var d=n=null,h=null,c=u;do{var _=c.lane;if((or&_)===_)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var v={lane:_,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(d=h=v,n=i):h=h.next=v,we.lanes|=_,ur|=_}c=c.next}while(c!==null&&c!==u);h===null?n=i:h.next=d,Ft(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseState=n,t.baseQueue=h,l.lastRenderedState=i}if(e=l.interleaved,e!==null){s=e;do u=s.lane,we.lanes|=u,ur|=u,s=s.next;while(s!==e)}else s===null&&(l.lanes=0);return[t.memoizedState,l.dispatch]}function wu(e){var t=Nt(),l=t.queue;if(l===null)throw Error($(311));l.lastRenderedReducer=e;var i=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var n=s=s.next;do u=e(u,n.action),n=n.next;while(n!==s);Ft(u,t.memoizedState)||(at=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,i]}function Av(){}function Iv(e,t){var l=we,i=Nt(),s=t(),u=!Ft(i.memoizedState,s);if(u&&(i.memoizedState=s,at=!0),i=i.queue,Hc(Nv.bind(null,l,i,e),[e]),i.getSnapshot!==t||u||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,Yl(9,Ov.bind(null,l,i,s,t),void 0,null),$e===null)throw Error($(349));or&30||kv(l,t,s)}return s}function kv(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Ov(e,t,l,i){t.value=l,t.getSnapshot=i,xv(t)&&Pv(e)}function Nv(e,t,l){return l(function(){xv(t)&&Pv(e)})}function xv(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Ft(e,l)}catch{return!0}}function Pv(e){var t=cn(e,1);t!==null&&Mt(t,e,1,-1)}function Uh(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:e},t.queue=e,e=e.dispatch=w0.bind(null,we,e),[t.memoizedState,e]}function Yl(e,t,l,i){return e={tag:e,create:t,destroy:l,deps:i,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(l=t.lastEffect,l===null?t.lastEffect=e.next=e:(i=l.next,l.next=e,e.next=i,t.lastEffect=e)),e}function bv(){return Nt().memoizedState}function ds(e,t,l,i){var s=zt();we.flags|=e,s.memoizedState=Yl(1|t,l,void 0,i===void 0?null:i)}function To(e,t,l,i){var s=Nt();i=i===void 0?null:i;var u=void 0;if(Ue!==null){var n=Ue.memoizedState;if(u=n.destroy,i!==null&&Lc(i,n.deps)){s.memoizedState=Yl(t,l,u,i);return}}we.flags|=e,s.memoizedState=Yl(1|t,l,u,i)}function Lh(e,t){return ds(8390656,8,e,t)}function Hc(e,t){return To(2048,8,e,t)}function Dv(e,t){return To(4,2,e,t)}function Uv(e,t){return To(4,4,e,t)}function Lv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mv(e,t,l){return l=l!=null?l.concat([e]):null,To(4,4,Lv.bind(null,t,e),l)}function $c(){}function Fv(e,t){var l=Nt();t=t===void 0?null:t;var i=l.memoizedState;return i!==null&&t!==null&&Lc(t,i[1])?i[0]:(l.memoizedState=[e,t],e)}function Hv(e,t){var l=Nt();t=t===void 0?null:t;var i=l.memoizedState;return i!==null&&t!==null&&Lc(t,i[1])?i[0]:(e=e(),l.memoizedState=[e,t],e)}function $v(e,t,l){return or&21?(Ft(l,t)||(l=q_(),we.lanes|=l,ur|=l,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=l)}function E0(e,t){var l=de;de=l!==0&&4>l?l:4,e(!0);var i=Eu.transition;Eu.transition={};try{e(!1),t()}finally{de=l,Eu.transition=i}}function jv(){return Nt().memoizedState}function C0(e,t,l){var i=bn(e);if(l={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null},zv(e))qv(t,l);else if(l=yv(e,t,l,i),l!==null){var s=rt();Mt(l,e,i,s),Bv(l,t,i)}}function w0(e,t,l){var i=bn(e),s={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null};if(zv(e))qv(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var n=t.lastRenderedState,d=u(n,l);if(s.hasEagerState=!0,s.eagerState=d,Ft(d,n)){var h=t.interleaved;h===null?(s.next=s,xc(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}l=yv(e,t,s,i),l!==null&&(s=rt(),Mt(l,e,i,s),Bv(l,t,i))}}function zv(e){var t=e.alternate;return e===we||t!==null&&t===we}function qv(e,t){Nl=Gs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Bv(e,t,l){if(l&4194240){var i=t.lanes;i&=e.pendingLanes,l|=i,t.lanes=l,mc(e,l)}}var Ks={readContext:Ot,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},R0={readContext:Ot,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Lh,useImperativeHandle:function(e,t,l){return l=l!=null?l.concat([e]):null,ds(4194308,4,Lv.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var l=zt();return t=t===void 0?null:t,e=e(),l.memoizedState=[e,t],e},useReducer:function(e,t,l){var i=zt();return t=l!==void 0?l(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=C0.bind(null,we,e),[i.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Uh,useDebugValue:$c,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Uh(!1),t=e[0];return e=E0.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,l){var i=we,s=zt();if(Ee){if(l===void 0)throw Error($(407));l=l()}else{if(l=t(),$e===null)throw Error($(349));or&30||kv(i,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Lh(Nv.bind(null,i,u,e),[e]),i.flags|=2048,Yl(9,Ov.bind(null,i,u,l,t),void 0,null),l},useId:function(){var e=zt(),t=$e.identifierPrefix;if(Ee){var l=sn,i=ln;l=(i&~(1<<32-Lt(i)-1)).toString(32)+l,t=":"+t+"R"+l,l=Kl++,0<l&&(t+="H"+l.toString(32)),t+=":"}else l=S0++,t=":"+t+"r"+l.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A0={readContext:Ot,useCallback:Fv,useContext:Ot,useEffect:Hc,useImperativeHandle:Mv,useInsertionEffect:Dv,useLayoutEffect:Uv,useMemo:Hv,useReducer:Cu,useRef:bv,useState:function(){return Cu(Ql)},useDebugValue:$c,useDeferredValue:function(e){var t=Nt();return $v(t,Ue.memoizedState,e)},useTransition:function(){var e=Cu(Ql)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Av,useSyncExternalStore:Iv,useId:jv,unstable_isNewReconciler:!1},I0={readContext:Ot,useCallback:Fv,useContext:Ot,useEffect:Hc,useImperativeHandle:Mv,useInsertionEffect:Dv,useLayoutEffect:Uv,useMemo:Hv,useReducer:wu,useRef:bv,useState:function(){return wu(Ql)},useDebugValue:$c,useDeferredValue:function(e){var t=Nt();return Ue===null?t.memoizedState=e:$v(t,Ue.memoizedState,e)},useTransition:function(){var e=wu(Ql)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Av,useSyncExternalStore:Iv,useId:jv,unstable_isNewReconciler:!1};function qr(e,t){try{var l="",i=t;do l+=ty(i),i=i.return;while(i);var s=l}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function Ru(e,t,l){return{value:e,source:null,stack:l??null,digest:t??null}}function ba(e,t){try{console.error(t.value)}catch(l){setTimeout(function(){throw l})}}var k0=typeof WeakMap=="function"?WeakMap:Map;function Vv(e,t,l){l=on(-1,l),l.tag=3,l.payload={element:null};var i=t.value;return l.callback=function(){Ys||(Ys=!0,qa=i),ba(e,t)},l}function Wv(e,t,l){l=on(-1,l),l.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;l.payload=function(){return i(s)},l.callback=function(){ba(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(l.callback=function(){ba(e,t),typeof i!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:n!==null?n:""})}),l}function Mh(e,t,l){var i=e.pingCache;if(i===null){i=e.pingCache=new k0;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(l)||(s.add(l),e=z0.bind(null,e,t,l),t.then(e,e))}function Fh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hh(e,t,l,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(t=on(-1,1),t.tag=2,xn(l,t,1))),l.lanes|=1),e)}var O0=dn.ReactCurrentOwner,at=!1;function nt(e,t,l,i){t.child=e===null?wv(t,null,l,i):jr(t,e.child,l,i)}function $h(e,t,l,i,s){l=l.render;var u=t.ref;return Ur(t,s),i=Mc(e,t,l,i,u,s),l=Fc(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(Ee&&l&&Rc(t),t.flags|=1,nt(e,t,i,s),t.child)}function jh(e,t,l,i,s){if(e===null){var u=l.type;return typeof u=="function"&&!Kc(u)&&u.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(t.tag=15,t.type=u,Gv(e,t,u,i,s)):(e=vs(l.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&s)){var n=u.memoizedProps;if(l=l.compare,l=l!==null?l:zl,l(n,i)&&e.ref===t.ref)return fn(e,t,s)}return t.flags|=1,e=Dn(u,i),e.ref=t.ref,e.return=t,t.child=e}function Gv(e,t,l,i,s){if(e!==null){var u=e.memoizedProps;if(zl(u,i)&&e.ref===t.ref)if(at=!1,t.pendingProps=i=u,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,fn(e,t,s)}return Da(e,t,l,i,s)}function Kv(e,t,l){var i=t.pendingProps,s=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Or,_t),_t|=l;else{if(!(l&1073741824))return e=u!==null?u.baseLanes|l:l,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Or,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:l,_e(Or,_t),_t|=i}else u!==null?(i=u.baseLanes|l,t.memoizedState=null):i=l,_e(Or,_t),_t|=i;return nt(e,t,s,l),t.child}function Qv(e,t){var l=t.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,l,i,s){var u=ft(l)?ir:Je.current;return u=Hr(t,u),Ur(t,s),l=Mc(e,t,l,i,u,s),i=Fc(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(Ee&&i&&Rc(t),t.flags|=1,nt(e,t,l,s),t.child)}function zh(e,t,l,i,s){if(ft(l)){var u=!0;$s(t)}else u=!1;if(Ur(t,s),t.stateNode===null)hs(e,t),Ev(t,l,i),Pa(t,l,i,s),i=!0;else if(e===null){var n=t.stateNode,d=t.memoizedProps;n.props=d;var h=n.context,c=l.contextType;typeof c=="object"&&c!==null?c=Ot(c):(c=ft(l)?ir:Je.current,c=Hr(t,c));var _=l.getDerivedStateFromProps,v=typeof _=="function"||typeof n.getSnapshotBeforeUpdate=="function";v||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(d!==i||h!==c)&&bh(t,n,i,c),En=!1;var g=t.memoizedState;n.state=g,Vs(t,i,n,s),h=t.memoizedState,d!==i||g!==h||ct.current||En?(typeof _=="function"&&(xa(t,l,_,i),h=t.memoizedState),(d=En||Ph(t,l,d,i,g,h,c))?(v||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),n.props=i,n.state=h,n.context=c,i=d):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{n=t.stateNode,Tv(e,t),d=t.memoizedProps,c=t.type===t.elementType?d:bt(t.type,d),n.props=c,v=t.pendingProps,g=n.context,h=l.contextType,typeof h=="object"&&h!==null?h=Ot(h):(h=ft(l)?ir:Je.current,h=Hr(t,h));var S=l.getDerivedStateFromProps;(_=typeof S=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(d!==v||g!==h)&&bh(t,n,i,h),En=!1,g=t.memoizedState,n.state=g,Vs(t,i,n,s);var C=t.memoizedState;d!==v||g!==C||ct.current||En?(typeof S=="function"&&(xa(t,l,S,i),C=t.memoizedState),(c=En||Ph(t,l,c,i,g,C,h)||!1)?(_||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(i,C,h),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(i,C,h)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),n.props=i,n.state=C,n.context=h,i=c):(typeof n.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return Ua(e,t,l,i,u,s)}function Ua(e,t,l,i,s,u){Qv(e,t);var n=(t.flags&128)!==0;if(!i&&!n)return s&&Ih(t,l,!1),fn(e,t,u);i=t.stateNode,O0.current=t;var d=n&&typeof l.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&n?(t.child=jr(t,e.child,null,u),t.child=jr(t,null,d,u)):nt(e,t,d,u),t.memoizedState=i.state,s&&Ih(t,l,!0),t.child}function Yv(e){var t=e.stateNode;t.pendingContext?Ah(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ah(e,t.context,!1),bc(e,t.containerInfo)}function qh(e,t,l,i,s){return $r(),Ic(s),t.flags|=256,nt(e,t,l,i),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xv(e,t,l){var i=t.pendingProps,s=Ce.current,u=!1,n=(t.flags&128)!==0,d;if((d=n)||(d=e!==null&&e.memoizedState===null?!1:(s&2)!==0),d?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Ce,s&1),e===null)return Oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(n=i.children,e=i.fallback,u?(i=t.mode,u=t.child,n={mode:"hidden",children:n},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=n):u=Co(n,i,0,null),e=lr(e,i,l,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ma(l),t.memoizedState=La,e):jc(t,n));if(s=e.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return N0(e,t,n,i,d,s,l);if(u){u=i.fallback,n=t.mode,s=e.child,d=s.sibling;var h={mode:"hidden",children:i.children};return!(n&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=Dn(s,h),i.subtreeFlags=s.subtreeFlags&14680064),d!==null?u=Dn(d,u):(u=lr(u,n,l,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,n=e.child.memoizedState,n=n===null?Ma(l):{baseLanes:n.baseLanes|l,cachePool:null,transitions:n.transitions},u.memoizedState=n,u.childLanes=e.childLanes&~l,t.memoizedState=La,i}return u=e.child,e=u.sibling,i=Dn(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=l),i.return=t,i.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=i,t.memoizedState=null,i}function jc(e,t){return t=Co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,l,i){return i!==null&&Ic(i),jr(t,e.child,null,l),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N0(e,t,l,i,s,u,n){if(l)return t.flags&256?(t.flags&=-257,i=Ru(Error($(422))),qi(e,t,n,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,s=t.mode,i=Co({mode:"visible",children:i.children},s,0,null),u=lr(u,s,n,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&jr(t,e.child,null,n),t.child.memoizedState=Ma(n),t.memoizedState=La,u);if(!(t.mode&1))return qi(e,t,n,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var d=i.dgst;return i=d,u=Error($(419)),i=Ru(u,i,void 0),qi(e,t,n,i)}if(d=(n&e.childLanes)!==0,at||d){if(i=$e,i!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|n)?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,cn(e,s),Mt(i,e,s,-1))}return Gc(),i=Ru(Error($(421))),qi(e,t,n,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=q0.bind(null,e),s._reactRetry=t,null):(e=u.treeContext,vt=Nn(s.nextSibling),mt=t,Ee=!0,Ut=null,e!==null&&(wt[Rt++]=ln,wt[Rt++]=sn,wt[Rt++]=sr,ln=e.id,sn=e.overflow,sr=t),t=jc(t,i.children),t.flags|=4096,t)}function Bh(e,t,l){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Na(e.return,t,l)}function Au(e,t,l,i,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=l,u.tailMode=s)}function Jv(e,t,l){var i=t.pendingProps,s=i.revealOrder,u=i.tail;if(nt(e,t,i.children,l),i=Ce.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,l,t);else if(e.tag===19)Bh(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(_e(Ce,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Ws(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Au(t,!1,s,l,u);break;case"backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ws(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Au(t,!0,l,null,u);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(l&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,l=Dn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Dn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function x0(e,t,l){switch(t.tag){case 3:Yv(t),$r();break;case 5:Rv(t);break;case 1:ft(t.type)&&$s(t);break;case 4:bc(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;_e(qs,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):l&t.child.childLanes?Xv(e,t,l):(_e(Ce,Ce.current&1),e=fn(e,t,l),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(i=(l&t.childLanes)!==0,e.flags&128){if(i)return Jv(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Ce,Ce.current),i)break;return null;case 22:case 23:return t.lanes=0,Kv(e,t,l)}return fn(e,t,l)}var Zv,Fa,em,tm;Zv=function(e,t){for(var l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};Fa=function(){};em=function(e,t,l,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,er(Wt.current);var u=null;switch(l){case"input":s=sa(e,s),i=sa(e,i),u=[];break;case"select":s=Re({},s,{value:void 0}),i=Re({},i,{value:void 0}),u=[];break;case"textarea":s=aa(e,s),i=aa(e,i),u=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fs)}fa(l,i);var n;l=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var d=s[c];for(n in d)d.hasOwnProperty(n)&&(l||(l={}),l[n]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ul.hasOwnProperty(c)?u||(u=[]):(u=u||[]).push(c,null));for(c in i){var h=i[c];if(d=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&h!==d&&(h!=null||d!=null))if(c==="style")if(d){for(n in d)!d.hasOwnProperty(n)||h&&h.hasOwnProperty(n)||(l||(l={}),l[n]="");for(n in h)h.hasOwnProperty(n)&&d[n]!==h[n]&&(l||(l={}),l[n]=h[n])}else l||(u||(u=[]),u.push(c,l)),l=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(u=u||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(u=u||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ul.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&ge("scroll",e),u||d===h||(u=[])):(u=u||[]).push(c,h))}l&&(u=u||[]).push("style",l);var c=u;(t.updateQueue=c)&&(t.flags|=4)}};tm=function(e,t,l,i){l!==i&&(t.flags|=4)};function fl(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,i=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=l,t}function P0(e,t,l){var i=t.pendingProps;switch(Ac(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ft(t.type)&&Hs(),Ye(t),null;case 3:return i=t.stateNode,zr(),ye(ct),ye(Je),Uc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(Wa(Ut),Ut=null))),Fa(e,t),Ye(t),null;case 5:Dc(t);var s=er(Gl.current);if(l=t.type,e!==null&&t.stateNode!=null)em(e,t,l,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error($(166));return Ye(t),null}if(e=er(Wt.current),ji(t)){i=t.stateNode,l=t.type;var u=t.memoizedProps;switch(i[Bt]=t,i[Vl]=u,e=(t.mode&1)!==0,l){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(s=0;s<wl.length;s++)ge(wl[s],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":Zd(i,u),ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},ge("invalid",i);break;case"textarea":th(i,u),ge("invalid",i)}fa(l,u),s=null;for(var n in u)if(u.hasOwnProperty(n)){var d=u[n];n==="children"?typeof d=="string"?i.textContent!==d&&(u.suppressHydrationWarning!==!0&&$i(i.textContent,d,e),s=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(u.suppressHydrationWarning!==!0&&$i(i.textContent,d,e),s=["children",""+d]):Ul.hasOwnProperty(n)&&d!=null&&n==="onScroll"&&ge("scroll",i)}switch(l){case"input":Pi(i),eh(i,u,!0);break;case"textarea":Pi(i),nh(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=Fs)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{n=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=k_(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=n.createElement(l,{is:i.is}):(e=n.createElement(l),l==="select"&&(n=e,i.multiple?n.multiple=!0:i.size&&(n.size=i.size))):e=n.createElementNS(e,l),e[Bt]=t,e[Vl]=i,Zv(e,t,!1,!1),t.stateNode=e;e:{switch(n=da(l,i),l){case"dialog":ge("cancel",e),ge("close",e),s=i;break;case"iframe":case"object":case"embed":ge("load",e),s=i;break;case"video":case"audio":for(s=0;s<wl.length;s++)ge(wl[s],e);s=i;break;case"source":ge("error",e),s=i;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=i;break;case"details":ge("toggle",e),s=i;break;case"input":Zd(e,i),s=sa(e,i),ge("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Re({},i,{value:void 0}),ge("invalid",e);break;case"textarea":th(e,i),s=aa(e,i),ge("invalid",e);break;default:s=i}fa(l,s),d=s;for(u in d)if(d.hasOwnProperty(u)){var h=d[u];u==="style"?x_(e,h):u==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&O_(e,h)):u==="children"?typeof h=="string"?(l!=="textarea"||h!=="")&&Ll(e,h):typeof h=="number"&&Ll(e,""+h):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ul.hasOwnProperty(u)?h!=null&&u==="onScroll"&&ge("scroll",e):h!=null&&fc(e,u,h,n))}switch(l){case"input":Pi(e),eh(e,i,!1);break;case"textarea":Pi(e),nh(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Un(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?xr(e,!!i.multiple,u,!1):i.defaultValue!=null&&xr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fs)}switch(l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)tm(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error($(166));if(l=er(Gl.current),er(Wt.current),ji(t)){if(i=t.stateNode,l=t.memoizedProps,i[Bt]=t,(u=i.nodeValue!==l)&&(e=mt,e!==null))switch(e.tag){case 3:$i(i.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(i.nodeValue,l,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(l.nodeType===9?l:l.ownerDocument).createTextNode(i),i[Bt]=t,t.stateNode=i}return Ye(t),null;case 13:if(ye(Ce),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&t.mode&1&&!(t.flags&128))gv(),$r(),t.flags|=98560,u=!1;else if(u=ji(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error($(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error($(317));u[Bt]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),u=!1}else Ut!==null&&(Wa(Ut),Ut=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=l,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Le===0&&(Le=3):Gc())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return zr(),Fa(e,t),e===null&&ql(t.stateNode.containerInfo),Ye(t),null;case 10:return Nc(t.type._context),Ye(t),null;case 17:return ft(t.type)&&Hs(),Ye(t),null;case 19:if(ye(Ce),u=t.memoizedState,u===null)return Ye(t),null;if(i=(t.flags&128)!==0,n=u.rendering,n===null)if(i)fl(u,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(n=Ws(e),n!==null){for(t.flags|=128,fl(u,!1),i=n.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=l,l=t.child;l!==null;)u=l,e=i,u.flags&=14680066,n=u.alternate,n===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,u.type=n.type,e=n.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}u.tail!==null&&Oe()>Br&&(t.flags|=128,i=!0,fl(u,!1),t.lanes=4194304)}else{if(!i)if(e=Ws(n),e!==null){if(t.flags|=128,i=!0,l=e.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),fl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!n.alternate&&!Ee)return Ye(t),null}else 2*Oe()-u.renderingStartTime>Br&&l!==1073741824&&(t.flags|=128,i=!0,fl(u,!1),t.lanes=4194304);u.isBackwards?(n.sibling=t.child,t.child=n):(l=u.last,l!==null?l.sibling=n:t.child=n,u.last=n)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Oe(),t.sibling=null,l=Ce.current,_e(Ce,i?l&1|2:l&1),t):(Ye(t),null);case 22:case 23:return Wc(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?_t&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function b0(e,t){switch(Ac(t),t.tag){case 1:return ft(t.type)&&Hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),ye(ct),ye(Je),Uc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dc(t),null;case 13:if(ye(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ce),null;case 4:return zr(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var Bi=!1,Xe=!1,D0=typeof WeakSet=="function"?WeakSet:Set,G=null;function kr(e,t){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(i){Ie(e,t,i)}else l.current=null}function Ha(e,t,l){try{l()}catch(i){Ie(e,t,i)}}var Vh=!1;function U0(e,t){if(Ea=Us,e=iv(),wc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var s=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var n=0,d=-1,h=-1,c=0,_=0,v=e,g=null;t:for(;;){for(var S;v!==l||s!==0&&v.nodeType!==3||(d=n+s),v!==u||i!==0&&v.nodeType!==3||(h=n+i),v.nodeType===3&&(n+=v.nodeValue.length),(S=v.firstChild)!==null;)g=v,v=S;for(;;){if(v===e)break t;if(g===l&&++c===s&&(d=n),g===u&&++_===i&&(h=n),(S=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=S}l=d===-1||h===-1?null:{start:d,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ca={focusedElem:e,selectionRange:l},Us=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,H=C.memoizedState,E=t.stateNode,T=E.getSnapshotBeforeUpdate(t.elementType===t.type?A:bt(t.type,A),H);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return C=Vh,Vh=!1,C}function xl(e,t,l){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&Ha(t,l,u)}s=s.next}while(s!==i)}}function So(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var l=t=t.next;do{if((l.tag&e)===e){var i=l.create;l.destroy=i()}l=l.next}while(l!==t)}}function $a(e){var t=e.ref;if(t!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof t=="function"?t(e):t.current=e}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[Vl],delete t[Aa],delete t[m0],delete t[g0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rm(e){return e.tag===5||e.tag===3||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?l.nodeType===8?l.parentNode.insertBefore(e,t):l.insertBefore(e,t):(l.nodeType===8?(t=l.parentNode,t.insertBefore(e,l)):(t=l,t.appendChild(e)),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Fs));else if(i!==4&&(e=e.child,e!==null))for(ja(e,t,l),e=e.sibling;e!==null;)ja(e,t,l),e=e.sibling}function za(e,t,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(za(e,t,l),e=e.sibling;e!==null;)za(e,t,l),e=e.sibling}var qe=null,Dt=!1;function gn(e,t,l){for(l=l.child;l!==null;)lm(e,t,l),l=l.sibling}function lm(e,t,l){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ho,l)}catch{}switch(l.tag){case 5:Xe||kr(l,t);case 6:var i=qe,s=Dt;qe=null,gn(e,t,l),qe=i,Dt=s,qe!==null&&(Dt?(e=qe,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):qe.removeChild(l.stateNode));break;case 18:qe!==null&&(Dt?(e=qe,l=l.stateNode,e.nodeType===8?yu(e.parentNode,l):e.nodeType===1&&yu(e,l),$l(e)):yu(qe,l.stateNode));break;case 4:i=qe,s=Dt,qe=l.stateNode.containerInfo,Dt=!0,gn(e,t,l),qe=i,Dt=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(i=l.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var u=s,n=u.destroy;u=u.tag,n!==void 0&&(u&2||u&4)&&Ha(l,t,n),s=s.next}while(s!==i)}gn(e,t,l);break;case 1:if(!Xe&&(kr(l,t),i=l.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=l.memoizedProps,i.state=l.memoizedState,i.componentWillUnmount()}catch(d){Ie(l,t,d)}gn(e,t,l);break;case 21:gn(e,t,l);break;case 22:l.mode&1?(Xe=(i=Xe)||l.memoizedState!==null,gn(e,t,l),Xe=i):gn(e,t,l);break;default:gn(e,t,l)}}function Gh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new D0),t.forEach(function(i){var s=B0.bind(null,e,i);l.has(i)||(l.add(i),i.then(s,s))})}}function xt(e,t){var l=t.deletions;if(l!==null)for(var i=0;i<l.length;i++){var s=l[i];try{var u=e,n=t,d=n;e:for(;d!==null;){switch(d.tag){case 5:qe=d.stateNode,Dt=!1;break e;case 3:qe=d.stateNode.containerInfo,Dt=!0;break e;case 4:qe=d.stateNode.containerInfo,Dt=!0;break e}d=d.return}if(qe===null)throw Error($(160));lm(u,n,s),qe=null,Dt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(c){Ie(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)im(t,e),t=t.sibling}function im(e,t){var l=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),jt(e),i&4){try{xl(3,e,e.return),So(3,e)}catch(A){Ie(e,e.return,A)}try{xl(5,e,e.return)}catch(A){Ie(e,e.return,A)}}break;case 1:xt(t,e),jt(e),i&512&&l!==null&&kr(l,l.return);break;case 5:if(xt(t,e),jt(e),i&512&&l!==null&&kr(l,l.return),e.flags&32){var s=e.stateNode;try{Ll(s,"")}catch(A){Ie(e,e.return,A)}}if(i&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,n=l!==null?l.memoizedProps:u,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&u.type==="radio"&&u.name!=null&&A_(s,u),da(d,n);var c=da(d,u);for(n=0;n<h.length;n+=2){var _=h[n],v=h[n+1];_==="style"?x_(s,v):_==="dangerouslySetInnerHTML"?O_(s,v):_==="children"?Ll(s,v):fc(s,_,v,c)}switch(d){case"input":oa(s,u);break;case"textarea":I_(s,u);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var S=u.value;S!=null?xr(s,!!u.multiple,S,!1):g!==!!u.multiple&&(u.defaultValue!=null?xr(s,!!u.multiple,u.defaultValue,!0):xr(s,!!u.multiple,u.multiple?[]:"",!1))}s[Vl]=u}catch(A){Ie(e,e.return,A)}}break;case 6:if(xt(t,e),jt(e),i&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(A){Ie(e,e.return,A)}}break;case 3:if(xt(t,e),jt(e),i&4&&l!==null&&l.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(A){Ie(e,e.return,A)}break;case 4:xt(t,e),jt(e);break;case 13:xt(t,e),jt(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(Bc=Oe())),i&4&&Gh(e);break;case 22:if(_=l!==null&&l.memoizedState!==null,e.mode&1?(Xe=(c=Xe)||_,xt(t,e),Xe=c):xt(t,e),jt(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!_&&e.mode&1)for(G=e,_=e.child;_!==null;){for(v=G=_;G!==null;){switch(g=G,S=g.child,g.tag){case 0:case 11:case 14:case 15:xl(4,g,g.return);break;case 1:kr(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){i=g,l=g.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(A){Ie(i,l,A)}}break;case 5:kr(g,g.return);break;case 22:if(g.memoizedState!==null){Qh(v);continue}}S!==null?(S.return=g,G=S):Qh(v)}_=_.sibling}e:for(_=null,v=e;;){if(v.tag===5){if(_===null){_=v;try{s=v.stateNode,c?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(d=v.stateNode,h=v.memoizedProps.style,n=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=N_("display",n))}catch(A){Ie(e,e.return,A)}}}else if(v.tag===6){if(_===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(A){Ie(e,e.return,A)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;_===v&&(_=null),v=v.return}_===v&&(_=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:xt(t,e),jt(e),i&4&&Gh(e);break;case 21:break;default:xt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var l=e.return;l!==null;){if(rm(l)){var i=l;break e}l=l.return}throw Error($(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ll(s,""),i.flags&=-33);var u=Wh(e);za(e,u,s);break;case 3:case 4:var n=i.stateNode.containerInfo,d=Wh(e);ja(e,d,n);break;default:throw Error($(161))}}catch(h){Ie(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L0(e,t,l){G=e,sm(e)}function sm(e,t,l){for(var i=(e.mode&1)!==0;G!==null;){var s=G,u=s.child;if(s.tag===22&&i){var n=s.memoizedState!==null||Bi;if(!n){var d=s.alternate,h=d!==null&&d.memoizedState!==null||Xe;d=Bi;var c=Xe;if(Bi=n,(Xe=h)&&!c)for(G=s;G!==null;)n=G,h=n.child,n.tag===22&&n.memoizedState!==null?Yh(s):h!==null?(h.return=n,G=h):Yh(s);for(;u!==null;)G=u,sm(u),u=u.sibling;G=s,Bi=d,Xe=c}Kh(e)}else s.subtreeFlags&8772&&u!==null?(u.return=s,G=u):Kh(e)}}function Kh(e){for(;G!==null;){var t=G;if(t.flags&8772){var l=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||So(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Xe)if(l===null)i.componentDidMount();else{var s=t.elementType===t.type?l.memoizedProps:bt(t.type,l.memoizedProps);i.componentDidUpdate(s,l.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&xh(t,u,i);break;case 3:var n=t.updateQueue;if(n!==null){if(l=null,t.child!==null)switch(t.child.tag){case 5:l=t.child.stateNode;break;case 1:l=t.child.stateNode}xh(t,n,l)}break;case 5:var d=t.stateNode;if(l===null&&t.flags&4){l=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&l.focus();break;case"img":h.src&&(l.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var _=c.memoizedState;if(_!==null){var v=_.dehydrated;v!==null&&$l(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Xe||t.flags&512&&$a(t)}catch(g){Ie(t,t.return,g)}}if(t===e){G=null;break}if(l=t.sibling,l!==null){l.return=t.return,G=l;break}G=t.return}}function Qh(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}function Yh(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var l=t.return;try{So(4,t)}catch(h){Ie(t,l,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(h){Ie(t,s,h)}}var u=t.return;try{$a(t)}catch(h){Ie(t,u,h)}break;case 5:var n=t.return;try{$a(t)}catch(h){Ie(t,n,h)}}}catch(h){Ie(t,t.return,h)}if(t===e){G=null;break}var d=t.sibling;if(d!==null){d.return=t.return,G=d;break}G=t.return}}var M0=Math.ceil,Qs=dn.ReactCurrentDispatcher,zc=dn.ReactCurrentOwner,kt=dn.ReactCurrentBatchConfig,ae=0,$e=null,be=null,We=0,_t=0,Or=Hn(0),Le=0,Xl=null,ur=0,Eo=0,qc=0,Pl=null,ut=null,Bc=0,Br=1/0,tn=null,Ys=!1,qa=null,Pn=null,Vi=!1,An=null,Xs=0,bl=0,Ba=null,ps=-1,_s=0;function rt(){return ae&6?Oe():ps!==-1?ps:ps=Oe()}function bn(e){return e.mode&1?ae&2&&We!==0?We&-We:T0.transition!==null?(_s===0&&(_s=q_()),_s):(e=de,e!==0||(e=window.event,e=e===void 0?16:Y_(e.type)),e):1}function Mt(e,t,l,i){if(50<bl)throw bl=0,Ba=null,Error($(185));ni(e,l,i),(!(ae&2)||e!==$e)&&(e===$e&&(!(ae&2)&&(Eo|=l),Le===4&&wn(e,We)),dt(e,i),l===1&&ae===0&&!(t.mode&1)&&(Br=Oe()+500,go&&$n()))}function dt(e,t){var l=e.callbackNode;Ty(e,t);var i=Ds(e,e===$e?We:0);if(i===0)l!==null&&ih(l),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(l!=null&&ih(l),t===1)e.tag===0?y0(Xh.bind(null,e)):_v(Xh.bind(null,e)),_0(function(){!(ae&6)&&$n()}),l=null;else{switch(B_(i)){case 1:l=vc;break;case 4:l=j_;break;case 16:l=bs;break;case 536870912:l=z_;break;default:l=bs}l=pm(l,om.bind(null,e))}e.callbackPriority=t,e.callbackNode=l}}function om(e,t){if(ps=-1,_s=0,ae&6)throw Error($(327));var l=e.callbackNode;if(Lr()&&e.callbackNode!==l)return null;var i=Ds(e,e===$e?We:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Js(e,i);else{t=i;var s=ae;ae|=2;var u=am();($e!==e||We!==t)&&(tn=null,Br=Oe()+500,rr(e,t));do try{$0();break}catch(d){um(e,d)}while(1);Oc(),Qs.current=u,ae=s,be!==null?t=0:($e=null,We=0,t=Le)}if(t!==0){if(t===2&&(s=ma(e),s!==0&&(i=s,t=Va(e,s))),t===1)throw l=Xl,rr(e,0),wn(e,i),dt(e,Oe()),l;if(t===6)wn(e,i);else{if(s=e.current.alternate,!(i&30)&&!F0(s)&&(t=Js(e,i),t===2&&(u=ma(e),u!==0&&(i=u,t=Va(e,u))),t===1))throw l=Xl,rr(e,0),wn(e,i),dt(e,Oe()),l;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error($(345));case 2:Xn(e,ut,tn);break;case 3:if(wn(e,i),(i&130023424)===i&&(t=Bc+500-Oe(),10<t)){if(Ds(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ra(Xn.bind(null,e,ut,tn),t);break}Xn(e,ut,tn);break;case 4:if(wn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var n=31-Lt(i);u=1<<n,n=t[n],n>s&&(s=n),i&=~u}if(i=s,i=Oe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*M0(i/1960))-i,10<i){e.timeoutHandle=Ra(Xn.bind(null,e,ut,tn),i);break}Xn(e,ut,tn);break;case 5:Xn(e,ut,tn);break;default:throw Error($(329))}}}return dt(e,Oe()),e.callbackNode===l?om.bind(null,e):null}function Va(e,t){var l=Pl;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=Js(e,t),e!==2&&(t=ut,ut=l,t!==null&&Wa(t)),e}function Wa(e){ut===null?ut=e:ut.push.apply(ut,e)}function F0(e){for(var t=e;;){if(t.flags&16384){var l=t.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var i=0;i<l.length;i++){var s=l[i],u=s.getSnapshot;s=s.value;try{if(!Ft(u(),s))return!1}catch{return!1}}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~qc,t&=~Eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var l=31-Lt(t),i=1<<l;e[l]=-1,t&=~i}}function Xh(e){if(ae&6)throw Error($(327));Lr();var t=Ds(e,0);if(!(t&1))return dt(e,Oe()),null;var l=Js(e,t);if(e.tag!==0&&l===2){var i=ma(e);i!==0&&(t=i,l=Va(e,i))}if(l===1)throw l=Xl,rr(e,0),wn(e,t),dt(e,Oe()),l;if(l===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,ut,tn),dt(e,Oe()),null}function Vc(e,t){var l=ae;ae|=1;try{return e(t)}finally{ae=l,ae===0&&(Br=Oe()+500,go&&$n())}}function ar(e){An!==null&&An.tag===0&&!(ae&6)&&Lr();var t=ae;ae|=1;var l=kt.transition,i=de;try{if(kt.transition=null,de=1,e)return e()}finally{de=i,kt.transition=l,ae=t,!(ae&6)&&$n()}}function Wc(){_t=Or.current,ye(Or)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,p0(l)),be!==null)for(l=be.return;l!==null;){var i=l;switch(Ac(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hs();break;case 3:zr(),ye(ct),ye(Je),Uc();break;case 5:Dc(i);break;case 4:zr();break;case 13:ye(Ce);break;case 19:ye(Ce);break;case 10:Nc(i.type._context);break;case 22:case 23:Wc()}l=l.return}if($e=e,be=e=Dn(e.current,null),We=_t=t,Le=0,Xl=null,qc=Eo=ur=0,ut=Pl=null,Zn!==null){for(t=0;t<Zn.length;t++)if(l=Zn[t],i=l.interleaved,i!==null){l.interleaved=null;var s=i.next,u=l.pending;if(u!==null){var n=u.next;u.next=s,i.next=n}l.pending=i}Zn=null}return e}function um(e,t){do{var l=be;try{if(Oc(),fs.current=Ks,Gs){for(var i=we.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Gs=!1}if(or=0,He=Ue=we=null,Nl=!1,Kl=0,zc.current=null,l===null||l.return===null){Le=1,Xl=t,be=null;break}e:{var u=e,n=l.return,d=l,h=t;if(t=We,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,_=d,v=_.tag;if(!(_.mode&1)&&(v===0||v===11||v===15)){var g=_.alternate;g?(_.updateQueue=g.updateQueue,_.memoizedState=g.memoizedState,_.lanes=g.lanes):(_.updateQueue=null,_.memoizedState=null)}var S=Fh(n);if(S!==null){S.flags&=-257,Hh(S,n,d,u,t),S.mode&1&&Mh(u,c,t),t=S,h=c;var C=t.updateQueue;if(C===null){var A=new Set;A.add(h),t.updateQueue=A}else C.add(h);break e}else{if(!(t&1)){Mh(u,c,t),Gc();break e}h=Error($(426))}}else if(Ee&&d.mode&1){var H=Fh(n);if(H!==null){!(H.flags&65536)&&(H.flags|=256),Hh(H,n,d,u,t),Ic(qr(h,d));break e}}u=h=qr(h,d),Le!==4&&(Le=2),Pl===null?Pl=[u]:Pl.push(u),u=n;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var E=Vv(u,h,t);Nh(u,E);break e;case 1:d=h;var T=u.type,w=u.stateNode;if(!(u.flags&128)&&(typeof T.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pn===null||!Pn.has(w)))){u.flags|=65536,t&=-t,u.lanes|=t;var x=Wv(u,d,t);Nh(u,x);break e}}u=u.return}while(u!==null)}fm(l)}catch(L){t=L,be===l&&l!==null&&(be=l=l.return);continue}break}while(1)}function am(){var e=Qs.current;return Qs.current=Ks,e===null?Ks:e}function Gc(){(Le===0||Le===3||Le===2)&&(Le=4),$e===null||!(ur&268435455)&&!(Eo&268435455)||wn($e,We)}function Js(e,t){var l=ae;ae|=2;var i=am();($e!==e||We!==t)&&(tn=null,rr(e,t));do try{H0();break}catch(s){um(e,s)}while(1);if(Oc(),ae=l,Qs.current=i,be!==null)throw Error($(261));return $e=null,We=0,Le}function H0(){for(;be!==null;)cm(be)}function $0(){for(;be!==null&&!fy();)cm(be)}function cm(e){var t=hm(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?fm(e):be=t,zc.current=null}function fm(e){var t=e;do{var l=t.alternate;if(e=t.return,t.flags&32768){if(l=b0(l,t),l!==null){l.flags&=32767,be=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,be=null;return}}else if(l=P0(l,t,_t),l!==null){be=l;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Le===0&&(Le=5)}function Xn(e,t,l){var i=de,s=kt.transition;try{kt.transition=null,de=1,j0(e,t,l,i)}finally{kt.transition=s,de=i}return null}function j0(e,t,l,i){do Lr();while(An!==null);if(ae&6)throw Error($(327));l=e.finishedWork;var s=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var u=l.lanes|l.childLanes;if(Sy(e,u),e===$e&&(be=$e=null,We=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Vi||(Vi=!0,pm(bs,function(){return Lr(),null})),u=(l.flags&15990)!==0,l.subtreeFlags&15990||u){u=kt.transition,kt.transition=null;var n=de;de=1;var d=ae;ae|=4,zc.current=null,U0(e,l),im(l,e),o0(Ca),Us=!!Ea,Ca=Ea=null,e.current=l,L0(l),dy(),ae=d,de=n,kt.transition=u}else e.current=l;if(Vi&&(Vi=!1,An=e,Xs=s),u=e.pendingLanes,u===0&&(Pn=null),_y(l.stateNode),dt(e,Oe()),t!==null)for(i=e.onRecoverableError,l=0;l<t.length;l++)s=t[l],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,e=qa,qa=null,e;return Xs&1&&e.tag!==0&&Lr(),u=e.pendingLanes,u&1?e===Ba?bl++:(bl=0,Ba=e):bl=0,$n(),null}function Lr(){if(An!==null){var e=B_(Xs),t=kt.transition,l=de;try{if(kt.transition=null,de=16>e?16:e,An===null)var i=!1;else{if(e=An,An=null,Xs=0,ae&6)throw Error($(331));var s=ae;for(ae|=4,G=e.current;G!==null;){var u=G,n=u.child;if(G.flags&16){var d=u.deletions;if(d!==null){for(var h=0;h<d.length;h++){var c=d[h];for(G=c;G!==null;){var _=G;switch(_.tag){case 0:case 11:case 15:xl(8,_,u)}var v=_.child;if(v!==null)v.return=_,G=v;else for(;G!==null;){_=G;var g=_.sibling,S=_.return;if(nm(_),_===c){G=null;break}if(g!==null){g.return=S,G=g;break}G=S}}}var C=u.alternate;if(C!==null){var A=C.child;if(A!==null){C.child=null;do{var H=A.sibling;A.sibling=null,A=H}while(A!==null)}}G=u}}if(u.subtreeFlags&2064&&n!==null)n.return=u,G=n;else e:for(;G!==null;){if(u=G,u.flags&2048)switch(u.tag){case 0:case 11:case 15:xl(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,G=E;break e}G=u.return}}var T=e.current;for(G=T;G!==null;){n=G;var w=n.child;if(n.subtreeFlags&2064&&w!==null)w.return=n,G=w;else e:for(n=T;G!==null;){if(d=G,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:So(9,d)}}catch(L){Ie(d,d.return,L)}if(d===n){G=null;break e}var x=d.sibling;if(x!==null){x.return=d.return,G=x;break e}G=d.return}}if(ae=s,$n(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ho,e)}catch{}i=!0}return i}finally{de=l,kt.transition=t}}return!1}function Jh(e,t,l){t=qr(l,t),t=Vv(e,t,1),e=xn(e,t,1),t=rt(),e!==null&&(ni(e,1,t),dt(e,t))}function Ie(e,t,l){if(e.tag===3)Jh(e,e,l);else for(;t!==null;){if(t.tag===3){Jh(t,e,l);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pn===null||!Pn.has(i))){e=qr(l,e),e=Wv(t,e,1),t=xn(t,e,1),e=rt(),t!==null&&(ni(t,1,e),dt(t,e));break}}t=t.return}}function z0(e,t,l){var i=e.pingCache;i!==null&&i.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&l,$e===e&&(We&l)===l&&(Le===4||Le===3&&(We&130023424)===We&&500>Oe()-Bc?rr(e,0):qc|=l),dt(e,t)}function dm(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var l=rt();e=cn(e,t),e!==null&&(ni(e,t,l),dt(e,l))}function q0(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),dm(e,l)}function B0(e,t){var l=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error($(314))}i!==null&&i.delete(t),dm(e,l)}var hm;hm=function(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)at=!0;else{if(!(e.lanes&l)&&!(t.flags&128))return at=!1,x0(e,t,l);at=!!(e.flags&131072)}else at=!1,Ee&&t.flags&1048576&&vv(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;hs(e,t),e=t.pendingProps;var s=Hr(t,Je.current);Ur(t,l),s=Mc(null,t,i,e,s,l);var u=Fc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(i)?(u=!0,$s(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pc(t),s.updater=yo,t.stateNode=s,s._reactInternals=t,Pa(t,i,e,l),t=Ua(null,t,i,!0,u,l)):(t.tag=0,Ee&&u&&Rc(t),nt(null,t,s,l),t=t.child),t;case 16:i=t.elementType;e:{switch(hs(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=W0(i),e=bt(i,e),s){case 0:t=Da(null,t,i,e,l);break e;case 1:t=zh(null,t,i,e,l);break e;case 11:t=$h(null,t,i,e,l);break e;case 14:t=jh(null,t,i,bt(i.type,e),l);break e}throw Error($(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:bt(i,s),Da(e,t,i,s,l);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:bt(i,s),zh(e,t,i,s,l);case 3:e:{if(Yv(t),e===null)throw Error($(387));i=t.pendingProps,u=t.memoizedState,s=u.element,Tv(e,t),Vs(t,i,null,l);var n=t.memoizedState;if(i=n.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:n.cache,pendingSuspenseBoundaries:n.pendingSuspenseBoundaries,transitions:n.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=qr(Error($(423)),t),t=qh(e,t,i,l,s);break e}else if(i!==s){s=qr(Error($(424)),t),t=qh(e,t,i,l,s);break e}else for(vt=Nn(t.stateNode.containerInfo.firstChild),mt=t,Ee=!0,Ut=null,l=wv(t,null,i,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($r(),i===s){t=fn(e,t,l);break e}nt(e,t,i,l)}t=t.child}return t;case 5:return Rv(t),e===null&&Oa(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,n=s.children,wa(i,s)?n=null:u!==null&&wa(i,u)&&(t.flags|=32),Qv(e,t),nt(e,t,n,l),t.child;case 6:return e===null&&Oa(t),null;case 13:return Xv(e,t,l);case 4:return bc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=jr(t,null,i,l):nt(e,t,i,l),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:bt(i,s),$h(e,t,i,s,l);case 7:return nt(e,t,t.pendingProps,l),t.child;case 8:return nt(e,t,t.pendingProps.children,l),t.child;case 12:return nt(e,t,t.pendingProps.children,l),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,u=t.memoizedProps,n=s.value,_e(qs,i._currentValue),i._currentValue=n,u!==null)if(Ft(u.value,n)){if(u.children===s.children&&!ct.current){t=fn(e,t,l);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){n=u.child;for(var h=d.firstContext;h!==null;){if(h.context===i){if(u.tag===1){h=on(-1,l&-l),h.tag=2;var c=u.updateQueue;if(c!==null){c=c.shared;var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}}u.lanes|=l,h=u.alternate,h!==null&&(h.lanes|=l),Na(u.return,l,t),d.lanes|=l;break}h=h.next}}else if(u.tag===10)n=u.type===t.type?null:u.child;else if(u.tag===18){if(n=u.return,n===null)throw Error($(341));n.lanes|=l,d=n.alternate,d!==null&&(d.lanes|=l),Na(n,l,t),n=u.sibling}else n=u.child;if(n!==null)n.return=u;else for(n=u;n!==null;){if(n===t){n=null;break}if(u=n.sibling,u!==null){u.return=n.return,n=u;break}n=n.return}u=n}nt(e,t,s.children,l),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ur(t,l),s=Ot(s),i=i(s),t.flags|=1,nt(e,t,i,l),t.child;case 14:return i=t.type,s=bt(i,t.pendingProps),s=bt(i.type,s),jh(e,t,i,s,l);case 15:return Gv(e,t,t.type,t.pendingProps,l);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:bt(i,s),hs(e,t),t.tag=1,ft(i)?(e=!0,$s(t)):e=!1,Ur(t,l),Ev(t,i,s),Pa(t,i,s,l),Ua(null,t,i,!0,e,l);case 19:return Jv(e,t,l);case 22:return Kv(e,t,l)}throw Error($(156,t.tag))};function pm(e,t){return $_(e,t)}function V0(e,t,l,i){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,l,i){return new V0(e,t,l,i)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W0(e){if(typeof e=="function")return Kc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hc)return 11;if(e===pc)return 14}return 2}function Dn(e,t){var l=e.alternate;return l===null?(l=It(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function vs(e,t,l,i,s,u){var n=2;if(i=e,typeof e=="function")Kc(e)&&(n=1);else if(typeof e=="string")n=5;else e:switch(e){case yr:return lr(l.children,s,u,t);case dc:n=8,s|=8;break;case na:return e=It(12,l,t,s|2),e.elementType=na,e.lanes=u,e;case ra:return e=It(13,l,t,s),e.elementType=ra,e.lanes=u,e;case la:return e=It(19,l,t,s),e.elementType=la,e.lanes=u,e;case C_:return Co(l,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S_:n=10;break e;case E_:n=9;break e;case hc:n=11;break e;case pc:n=14;break e;case Sn:n=16,i=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=It(n,l,t,s),t.elementType=e,t.type=i,t.lanes=u,t}function lr(e,t,l,i){return e=It(7,e,i,t),e.lanes=l,e}function Co(e,t,l,i){return e=It(22,e,i,t),e.elementType=C_,e.lanes=l,e.stateNode={isHidden:!1},e}function Iu(e,t,l){return e=It(6,e,null,t),e.lanes=l,e}function ku(e,t,l){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G0(e,t,l,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uu(0),this.expirationTimes=uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qc(e,t,l,i,s,u,n,d,h){return e=new G0(e,t,l,d,h),t===1?(t=1,u===!0&&(t|=8)):t=0,u=It(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(u),e}function K0(e,t,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:l}}function _m(e){if(!e)return Ln;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var l=e.type;if(ft(l))return pv(e,l,t)}return t}function vm(e,t,l,i,s,u,n,d,h){return e=Qc(l,i,!0,e,s,u,n,d,h),e.context=_m(null),l=e.current,i=rt(),s=bn(l),u=on(i,s),u.callback=t??null,xn(l,u,s),e.current.lanes=s,ni(e,s,i),dt(e,i),e}function wo(e,t,l,i){var s=t.current,u=rt(),n=bn(s);return l=_m(l),t.context===null?t.context=l:t.pendingContext=l,t=on(u,n),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=xn(s,t,n),e!==null&&(Mt(e,s,n,u),cs(e,s,n)),n}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Yc(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function Q0(){return null}var mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}Ro.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));wo(e,t,null,null)};Ro.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ar(function(){wo(null,e,null,null)}),t[an]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=G_();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Cn.length&&t!==0&&t<Cn[l].priority;l++);Cn.splice(l,0,e),l===0&&Q_(e)}};function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ep(){}function Y0(e,t,l,i,s){if(s){if(typeof i=="function"){var u=i;i=function(){var c=Zs(n);u.call(c)}}var n=vm(t,i,e,0,null,!1,!1,"",ep);return e._reactRootContainer=n,e[an]=n.current,ql(e.nodeType===8?e.parentNode:e),ar(),n}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var d=i;i=function(){var c=Zs(h);d.call(c)}}var h=Qc(e,0,!1,null,null,!1,!1,"",ep);return e._reactRootContainer=h,e[an]=h.current,ql(e.nodeType===8?e.parentNode:e),ar(function(){wo(t,h,l,i)}),h}function Io(e,t,l,i,s){var u=l._reactRootContainer;if(u){var n=u;if(typeof s=="function"){var d=s;s=function(){var h=Zs(n);d.call(h)}}wo(t,n,e,s)}else n=Y0(l,t,e,s,i);return Zs(n)}V_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var l=Cl(t.pendingLanes);l!==0&&(mc(t,l|1),dt(t,Oe()),!(ae&6)&&(Br=Oe()+500,$n()))}break;case 13:ar(function(){var i=cn(e,1);if(i!==null){var s=rt();Mt(i,e,1,s)}}),Yc(e,1)}};gc=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var l=rt();Mt(t,e,134217728,l)}Yc(e,134217728)}};W_=function(e){if(e.tag===13){var t=bn(e),l=cn(e,t);if(l!==null){var i=rt();Mt(l,e,t,i)}Yc(e,t)}};G_=function(){return de};K_=function(e,t){var l=de;try{return de=e,t()}finally{de=l}};pa=function(e,t,l){switch(t){case"input":if(oa(e,l),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<l.length;t++){var i=l[t];if(i!==e&&i.form===e.form){var s=mo(i);if(!s)throw Error($(90));R_(i),oa(i,s)}}}break;case"textarea":I_(e,l);break;case"select":t=l.value,t!=null&&xr(e,!!l.multiple,t,!1)}};D_=Vc;U_=ar;var X0={usingClientEntryPoint:!1,Events:[li,Cr,mo,P_,b_,Vc]},dl={findFiberByHostInstance:Jn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},J0={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F_(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||Q0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{ho=Wi.inject(J0),Vt=Wi}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0;yt.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(t))throw Error($(200));return K0(e,t,null,l)};yt.createRoot=function(e,t){if(!Jc(e))throw Error($(299));var l=!1,i="",s=mm;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qc(e,1,!1,null,null,l,!1,i,s),e[an]=t.current,ql(e.nodeType===8?e.parentNode:e),new Xc(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=F_(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return ar(e)};yt.hydrate=function(e,t,l){if(!Ao(t))throw Error($(200));return Io(null,e,t,!0,l)};yt.hydrateRoot=function(e,t,l){if(!Jc(e))throw Error($(405));var i=l!=null&&l.hydratedSources||null,s=!1,u="",n=mm;if(l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onRecoverableError!==void 0&&(n=l.onRecoverableError)),t=vm(t,null,e,1,l??null,s,!1,u,n),e[an]=t.current,ql(e),i)for(e=0;e<i.length;e++)l=i[e],s=l._getVersion,s=s(l._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[l,s]:t.mutableSourceEagerHydrationData.push(l,s);return new Ro(t)};yt.render=function(e,t,l){if(!Ao(t))throw Error($(200));return Io(null,e,t,!1,l)};yt.unmountComponentAtNode=function(e){if(!Ao(e))throw Error($(40));return e._reactRootContainer?(ar(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};yt.unstable_batchedUpdates=Vc;yt.unstable_renderSubtreeIntoContainer=function(e,t,l,i){if(!Ao(l))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Io(e,t,l,!1,i)};yt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}t(),e.exports=yt})(Qg);var tp=Zu;Ju.createRoot=tp.createRoot,Ju.hydrateRoot=tp.hydrateRoot;const tr={RTCaddress:"wss://stagingtelephony.saarthi.ai:8089/ws",user:"sip:5000@stagingtelephony.saarthi.ai:5060",password:"12345",call:"1004@52.172.94.114:5060",display_name:"5000",trace_sip:"true",realm:"sip:5000@stagingtelephony.saarthi.ai"},Z0={rtc:"",UAconfig:{uri:tr.user,password:tr.password,display_name:tr.display_name,authorization_user:"5000"}};const eT="jssip",tT="JsSIP",nT="the Javascript SIP library",rT="3.10.0",lT="https://jssip.net",iT=["José Luis Millán <jmillan@aliax.net> (https://github.com/jmillan)","Iñaki Baz Castillo <ibc@aliax.net> (https://inakibaz.me)"],sT="lib/JsSIP.d.ts",oT="lib-es5/JsSIP.js",uT=["sip","websocket","webrtc","node","browser","library"],aT="MIT",cT={type:"git",url:"https://github.com/versatica/JsSIP.git"},fT={url:"https://github.com/versatica/JsSIP/issues"},dT={"@types/events":"^3.0.0","@types/debug":"^4.1.7",debug:"^4.3.1",events:"^3.3.0","sdp-transform":"^2.14.1"},hT={"@babel/core":"^7.19.6","@babel/preset-env":"^7.19.4","ansi-colors":"^3.2.4",browserify:"^16.5.1",eslint:"^5.16.0","fancy-log":"^1.3.3",gulp:"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4",pegjs:"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},pT={lint:"node npm-scripts.js lint",test:"node npm-scripts.js test",prepublish:"node npm-scripts.js prepublish",release:"node npm-scripts.js release"},gm={name:eT,title:tT,description:nT,version:rT,homepage:lT,contributors:iT,types:sT,main:oT,keywords:uT,license:aT,repository:cT,bugs:fT,dependencies:dT,devDependencies:hT,scripts:pT};var np=gm,De={USER_AGENT:"".concat(np.title," ").concat(np.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2};function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(l){return typeof l}:ms=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ms(e)}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jl(e,t)}function No(e){var t=ym();return function(){var i=Zl(e),s;if(t){var u=Zl(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return _T(this,s)}}function _T(e,t){return t&&(ms(t)==="object"||typeof t=="function")?t:vT(e)}function vT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){var t=typeof Map=="function"?new Map:void 0;return Vr=function(i){if(i===null||!mT(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return gs(i,arguments,Zl(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Jl(s,i)},Vr(e)}function gs(e,t,l){return ym()?gs=Reflect.construct:gs=function(s,u,n){var d=[null];d.push.apply(d,u);var h=Function.bind.apply(s,d),c=new h;return n&&Jl(c,n.prototype),c},gs.apply(null,arguments)}function ym(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mT(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Jl(e,t){return Jl=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Jl(e,t)}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},Zl(e)}var gT=function(e){Oo(l,e);var t=No(l);function l(i,s){var u;return ko(this,l),u=t.call(this),u.code=1,u.name="CONFIGURATION_ERROR",u.parameter=i,u.value=s,u.message=u.value?"Invalid value ".concat(JSON.stringify(u.value),' for parameter "').concat(u.parameter,'"'):"Missing parameter: ".concat(u.parameter),u}return l}(Vr(Error)),yT=function(e){Oo(l,e);var t=No(l);function l(i){var s;return ko(this,l),s=t.call(this),s.code=2,s.name="INVALID_STATE_ERROR",s.status=i,s.message="Invalid status: ".concat(i),s}return l}(Vr(Error)),TT=function(e){Oo(l,e);var t=No(l);function l(i){var s;return ko(this,l),s=t.call(this),s.code=3,s.name="NOT_SUPPORTED_ERROR",s.message=i,s}return l}(Vr(Error)),ST=function(e){Oo(l,e);var t=No(l);function l(i){var s;return ko(this,l),s=t.call(this),s.code=4,s.name="NOT_READY_ERROR",s.message=i,s}return l}(Vr(Error)),jn={ConfigurationError:gT,InvalidStateError:yT,NotSupportedError:TT,NotReadyError:ST},ke={},Ou,rp;function Zc(){if(rp)return Ou;rp=1;function e(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function t(u,n){for(var d=0;d<n.length;d++){var h=n[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function l(u,n,d){return n&&t(u.prototype,n),d&&t(u,d),u}var i=zn(),s=Kt();return Ou=function(){l(u,null,[{key:"parse",value:function(d){if(d=s.parse(d,"Name_Addr_Header"),d!==-1)return d}}]);function u(n,d,h){if(e(this,u),!n||!(n instanceof i))throw new TypeError('missing or invalid "uri" parameter');this._uri=n,this._parameters={},this.display_name=d;for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&this.setParam(c,h[c])}return l(u,[{key:"setParam",value:function(d,h){d&&(this._parameters[d.toLowerCase()]=typeof h>"u"||h===null?null:h.toString())}},{key:"getParam",value:function(d){if(d)return this._parameters[d.toLowerCase()]}},{key:"hasParam",value:function(d){if(d)return this._parameters.hasOwnProperty(d.toLowerCase())&&!0||!1}},{key:"deleteParam",value:function(d){if(d=d.toLowerCase(),this._parameters.hasOwnProperty(d)){var h=this._parameters[d];return delete this._parameters[d],h}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new u(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var d=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";d+="<".concat(this._uri.toString(),">");for(var h in this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,h)&&(d+=";".concat(h),this._parameters[h]!==null&&(d+="=".concat(this._parameters[h])));return d}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(d){this._display_name=d===0?"0":d}}]),u}(),Ou}var Nu,lp;function Kt(){return lp||(lp=1,Nu=function(){function e(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(i,s){var u={CRLF:_,DIGIT:v,ALPHA:g,HEXDIG:S,WSP:C,OCTET:A,DQUOTE:H,SP:E,HTAB:T,alphanum:w,reserved:x,unreserved:L,mark:q,escaped:z,LWS:I,SWS:P,HCOLON:ee,TEXT_UTF8_TRIM:Ne,TEXT_UTF8char:Me,UTF8_NONASCII:le,UTF8_CONT:M,LHEX:j,token:O,token_nodot:F,separators:W,word:X,STAR:te,SLASH:ce,EQUAL:J,LPAREN:St,RPAREN:et,RAQUOT:Et,LAQUOT:Ke,COMMA:ue,SEMI:ie,COLON:qn,LDQUOT:pn,RDQUOT:_n,comment:vn,ctext:mn,quoted_string:hr,quoted_string_clean:ne,qdtext:Z,quoted_pair:re,SIP_URI_noparams:oe,SIP_URI:Ae,uri_scheme:Fe,uri_scheme_sips:Te,uri_scheme_sip:Bn,userinfo:st,user:of,user_unreserved:bo,password:uf,hostport:_i,host:Yr,hostname:Do,domainlabel:Uo,toplabel:af,IPv6reference:Lo,IPv6address:Mo,h16:K,ls32:ht,IPv4address:Xr,dec_octet:Jr,port:cf,uri_parameters:ff,uri_parameter:Fo,transport_param:df,user_param:hf,method_param:pf,ttl_param:_f,maddr_param:vf,lr_param:mf,other_param:gf,pname:yf,pvalue:Tf,paramchar:Zr,param_unreserved:Sf,headers:Ef,header:vi,hname:Cf,hvalue:wf,hnv_unreserved:el,Request_Response:Fm,Request_Line:Rf,Request_URI:Af,absoluteURI:Ho,hier_part:If,net_path:kf,abs_path:mi,opaque_part:Of,uric:tl,uric_no_slash:Nf,path_segments:xf,segment:gi,param:$o,pchar:nl,scheme:Pf,authority:bf,srvr:Df,reg_name:Uf,query:Lf,SIP_Version:jo,INVITEm:Mf,ACKm:Ff,OPTIONSm:Hf,BYEm:$f,CANCELm:jf,REGISTERm:zf,SUBSCRIBEm:qf,NOTIFYm:Bf,REFERm:Vf,Method:yi,Status_Line:Wf,Status_Code:Gf,extension_code:Kf,Reason_Phrase:Qf,Allow_Events:Hm,Call_ID:$m,Contact:jm,contact_param:Ti,name_addr:Vn,display_name:Si,contact_params:zo,c_p_q:Yf,c_p_expires:Xf,delta_seconds:Wn,qvalue:Jf,generic_param:xe,gen_value:Zf,Content_Disposition:zm,disp_type:ed,disp_param:qo,handling_param:td,Content_Encoding:qm,Content_Length:Bm,Content_Type:Vm,media_type:nd,m_type:rd,discrete_type:ld,composite_type:id,extension_token:Ei,x_token:sd,m_subtype:od,m_parameter:Bo,m_value:ud,CSeq:Wm,CSeq_value:ad,Expires:Gm,Event:Km,event_type:rl,From:Qm,from_param:Vo,tag_param:Wo,Max_Forwards:Ym,Min_Expires:Xm,Name_Addr_Header:Jm,Proxy_Authenticate:Zm,challenge:Go,other_challenge:cd,auth_param:ll,digest_cln:Ci,realm:fd,realm_value:dd,domain:hd,URI:wi,nonce:pd,nonce_value:_d,opaque:vd,stale:md,algorithm:gd,qop_options:yd,qop_value:Ri,Proxy_Require:eg,Record_Route:tg,rec_route:Ai,Reason:ng,reason_param:Ko,reason_cause:Td,Require:rg,Route:lg,route_param:Ii,Subscription_State:ig,substate_value:Sd,subexp_params:Qo,event_reason_value:Ed,Subject:sg,Supported:og,To:ug,to_param:Yo,Via:ag,via_param:ki,via_params:Xo,via_ttl:Cd,via_maddr:wd,via_received:Rd,via_branch:Ad,response_port:Id,rport:kd,sent_protocol:Od,protocol_name:Nd,transport:xd,sent_by:Pd,via_host:bd,via_port:Dd,ttl:Jo,WWW_Authenticate:cg,Session_Expires:fg,s_e_expires:Ud,s_e_params:Zo,s_e_refresher:Ld,extension_header:dg,header_value:Md,message_body:hg,uuid_URI:pg,uuid:Fd,hex4:Yt,hex8:Hd,hex12:$d,Refer_To:_g,Replaces:vg,call_id:jd,replaces_param:eu,to_tag:zd,from_tag:qd,early_flag:Bd};if(s!==void 0){if(u[s]===void 0)throw new Error("Invalid rule name: "+e(s)+".")}else s="CRLF";var n=0,d=0,h=[];function c(r){n<d||(n>d&&(d=n,h=[]),h.push(r))}function _(){var r;return i.substr(n,2)===`\r
`?(r=`\r
`,n+=2):(r=null,c('"\\r\\n"')),r}function v(){var r;return/^[0-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[0-9]")),r}function g(){var r;return/^[a-zA-Z]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-zA-Z]")),r}function S(){var r;return/^[0-9a-fA-F]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[0-9a-fA-F]")),r}function C(){var r;return r=E(),r===null&&(r=T()),r}function A(){var r;return/^[\0-\xFF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\0-\\xFF]")),r}function H(){var r;return/^["]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c('["]')),r}function E(){var r;return i.charCodeAt(n)===32?(r=" ",n++):(r=null,c('" "')),r}function T(){var r;return i.charCodeAt(n)===9?(r="	",n++):(r=null,c('"\\t"')),r}function w(){var r;return/^[a-zA-Z0-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-zA-Z0-9]")),r}function x(){var r;return i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","'))))))))))),r}function L(){var r;return r=w(),r===null&&(r=q()),r}function q(){var r;return i.charCodeAt(n)===45?(r="-",n++):(r=null,c('"-"')),r===null&&(i.charCodeAt(n)===95?(r="_",n++):(r=null,c('"_"')),r===null&&(i.charCodeAt(n)===46?(r=".",n++):(r=null,c('"."')),r===null&&(i.charCodeAt(n)===33?(r="!",n++):(r=null,c('"!"')),r===null&&(i.charCodeAt(n)===126?(r="~",n++):(r=null,c('"~"')),r===null&&(i.charCodeAt(n)===42?(r="*",n++):(r=null,c('"*"')),r===null&&(i.charCodeAt(n)===39?(r="'",n++):(r=null,c(`"'"`)),r===null&&(i.charCodeAt(n)===40?(r="(",n++):(r=null,c('"("')),r===null&&(i.charCodeAt(n)===41?(r=")",n++):(r=null,c('")"')))))))))),r}function z(){var r,o,a,f,p;return f=n,p=n,i.charCodeAt(n)===37?(r="%",n++):(r=null,c('"%"')),r!==null?(o=S(),o!==null?(a=S(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){return y.join("")}(f,r)),r===null&&(n=f),r}function I(){var r,o,a,f,p,m;for(f=n,p=n,m=n,r=[],o=C();o!==null;)r.push(o),o=C();if(r!==null?(o=_(),o!==null?r=[r,o]:(r=null,n=m)):(r=null,n=m),r=r!==null?r:"",r!==null){if(a=C(),a!==null)for(o=[];a!==null;)o.push(a),a=C();else o=null;o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r!==null&&(r=function(y){return" "}()),r===null&&(n=f),r}function P(){var r;return r=I(),r=r!==null?r:"",r}function ee(){var r,o,a,f,p;for(f=n,p=n,r=[],o=E(),o===null&&(o=T());o!==null;)r.push(o),o=E(),o===null&&(o=T());return r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return":"}()),r===null&&(n=f),r}function Ne(){var r,o,a,f,p,m,y;if(p=n,m=n,o=Me(),o!==null)for(r=[];o!==null;)r.push(o),o=Me();else r=null;if(r!==null){for(o=[],y=n,a=[],f=I();f!==null;)a.push(f),f=I();for(a!==null?(f=Me(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;){for(o.push(a),y=n,a=[],f=I();f!==null;)a.push(f),f=I();a!==null?(f=Me(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y)}o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){return i.substring(n,k)}(p)),r===null&&(n=p),r}function Me(){var r;return/^[!-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[!-~]")),r===null&&(r=le()),r}function le(){var r;return/^[\x80-\uFFFF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\x80-\\uFFFF]")),r}function M(){var r;return/^[\x80-\xBF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\x80-\\xBF]")),r}function j(){var r;return r=v(),r===null&&(/^[a-f]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-f]"))),r}function O(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"'))))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function F(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"'))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function W(){var r;return i.charCodeAt(n)===40?(r="(",n++):(r=null,c('"("')),r===null&&(i.charCodeAt(n)===41?(r=")",n++):(r=null,c('")"')),r===null&&(i.charCodeAt(n)===60?(r="<",n++):(r=null,c('"<"')),r===null&&(i.charCodeAt(n)===62?(r=">",n++):(r=null,c('">"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===92?(r="\\",n++):(r=null,c('"\\\\"')),r===null&&(r=H(),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===123?(r="{",n++):(r=null,c('"{"')),r===null&&(i.charCodeAt(n)===125?(r="}",n++):(r=null,c('"}"')),r===null&&(r=E(),r===null&&(r=T())))))))))))))))))),r}function X(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')),o===null&&(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o===null&&(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o===null&&(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o===null&&(i.charCodeAt(n)===62?(o=">",n++):(o=null,c('">"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===92?(o="\\",n++):(o=null,c('"\\\\"')),o===null&&(o=H(),o===null&&(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o===null&&(i.charCodeAt(n)===91?(o="[",n++):(o=null,c('"["')),o===null&&(i.charCodeAt(n)===93?(o="]",n++):(o=null,c('"]"')),o===null&&(i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o===null&&(i.charCodeAt(n)===123?(o="{",n++):(o=null,c('"{"')),o===null&&(i.charCodeAt(n)===125?(o="}",n++):(o=null,c('"}"'))))))))))))))))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')),o===null&&(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o===null&&(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o===null&&(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o===null&&(i.charCodeAt(n)===62?(o=">",n++):(o=null,c('">"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===92?(o="\\",n++):(o=null,c('"\\\\"')),o===null&&(o=H(),o===null&&(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o===null&&(i.charCodeAt(n)===91?(o="[",n++):(o=null,c('"["')),o===null&&(i.charCodeAt(n)===93?(o="]",n++):(o=null,c('"]"')),o===null&&(i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o===null&&(i.charCodeAt(n)===123?(o="{",n++):(o=null,c('"{"')),o===null&&(i.charCodeAt(n)===125?(o="}",n++):(o=null,c('"}"')))))))))))))))))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function te(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"*"}()),r===null&&(n=f),r}function ce(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"/"}()),r===null&&(n=f),r}function J(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"="}()),r===null&&(n=f),r}function St(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"("}()),r===null&&(n=f),r}function et(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return")"}()),r===null&&(n=f),r}function Et(){var r,o,a,f;return a=n,f=n,i.charCodeAt(n)===62?(r=">",n++):(r=null,c('">"')),r!==null?(o=P(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return">"}()),r===null&&(n=a),r}function Ke(){var r,o,a,f;return a=n,f=n,r=P(),r!==null?(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return"<"}()),r===null&&(n=a),r}function ue(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return","}()),r===null&&(n=f),r}function ie(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return";"}()),r===null&&(n=f),r}function qn(){var r,o,a,f,p;return f=n,p=n,r=P(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=P(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return":"}()),r===null&&(n=f),r}function pn(){var r,o,a,f;return a=n,f=n,r=P(),r!==null?(o=H(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return'"'}()),r===null&&(n=a),r}function _n(){var r,o,a,f;return a=n,f=n,r=H(),r!==null?(o=P(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return'"'}()),r===null&&(n=a),r}function vn(){var r,o,a,f;if(f=n,r=St(),r!==null){for(o=[],a=mn(),a===null&&(a=re(),a===null&&(a=vn()));a!==null;)o.push(a),a=mn(),a===null&&(a=re(),a===null&&(a=vn()));o!==null?(a=et(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)}else r=null,n=f;return r}function mn(){var r;return/^[!-']/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[!-']")),r===null&&(/^[*-[]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[*-[]")),r===null&&(/^[\]-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\]-~]")),r===null&&(r=le(),r===null&&(r=I())))),r}function hr(){var r,o,a,f,p,m;if(p=n,m=n,r=P(),r!==null)if(o=H(),o!==null){for(a=[],f=Z(),f===null&&(f=re());f!==null;)a.push(f),f=Z(),f===null&&(f=re());a!==null?(f=H(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y){return i.substring(n,y)}(p)),r===null&&(n=p),r}function ne(){var r,o,a,f,p,m;if(p=n,m=n,r=P(),r!==null)if(o=H(),o!==null){for(a=[],f=Z(),f===null&&(f=re());f!==null;)a.push(f),f=Z(),f===null&&(f=re());a!==null?(f=H(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y){var k=i.substring(n,y).trim();return k.substring(1,k.length-1).replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g,"$1")}(p)),r===null&&(n=p),r}function Z(){var r;return r=I(),r===null&&(i.charCodeAt(n)===33?(r="!",n++):(r=null,c('"!"')),r===null&&(/^[#-[]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[#-[]")),r===null&&(/^[\]-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\]-~]")),r===null&&(r=le())))),r}function re(){var r,o,a;return a=n,i.charCodeAt(n)===92?(r="\\",n++):(r=null,c('"\\\\"')),r!==null?(/^[\0-\t]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\0-\\t]")),o===null&&(/^[\x0B-\f]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\x0B-\\f]")),o===null&&(/^[\x0E-]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\x0E-]")))),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function oe(){var r,o,a,f,p,m;return p=n,m=n,r=Fe(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=st(),a=a!==null?a:"",a!==null?(f=_i(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r!==null&&(r=function(y){try{R.uri=new Vd(R.scheme,R.user,R.host,R.port),delete R.scheme,delete R.user,delete R.host,delete R.host_type,delete R.port}catch{R=-1}}()),r===null&&(n=p),r}function Ae(){var r,o,a,f,p,m,y,k;return y=n,k=n,r=Fe(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=st(),a=a!==null?a:"",a!==null?(f=_i(),f!==null?(p=ff(),p!==null?(m=Ef(),m=m!==null?m:"",m!==null?r=[r,o,a,f,p,m]:(r=null,n=k)):(r=null,n=k)):(r=null,n=k)):(r=null,n=k)):(r=null,n=k)):(r=null,n=k),r!==null&&(r=function(D){try{R.uri=new Vd(R.scheme,R.user,R.host,R.port,R.uri_params,R.uri_headers),delete R.scheme,delete R.user,delete R.host,delete R.host_type,delete R.port,delete R.uri_params,s==="SIP_URI"&&(R=R.uri)}catch{R=-1}}()),r===null&&(n=y),r}function Fe(){var r;return r=Te(),r===null&&(r=Bn()),r}function Te(){var r,o;return o=n,i.substr(n,4).toLowerCase()==="sips"?(r=i.substr(n,4),n+=4):(r=null,c('"sips"')),r!==null&&(r=function(a,f){R.scheme=f.toLowerCase()}(o,r)),r===null&&(n=o),r}function Bn(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"sip"')),r!==null&&(r=function(a,f){R.scheme=f.toLowerCase()}(o,r)),r===null&&(n=o),r}function st(){var r,o,a,f,p,m;return f=n,p=n,r=of(),r!==null?(m=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=uf(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?(i.charCodeAt(n)===64?(a="@",n++):(a=null,c('"@"')),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){R.user=decodeURIComponent(i.substring(n-1,y))}(f)),r===null&&(n=f),r}function of(){var r,o;if(o=L(),o===null&&(o=z(),o===null&&(o=bo())),o!==null)for(r=[];o!==null;)r.push(o),o=L(),o===null&&(o=z(),o===null&&(o=bo()));else r=null;return r}function bo(){var r;return i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"'))))))))),r}function uf(){var r,o,a;for(a=n,r=[],o=L(),o===null&&(o=z(),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","'))))))));o!==null;)r.push(o),o=L(),o===null&&(o=z(),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","'))))))));return r!==null&&(r=function(f){R.password=i.substring(n,f)}(a)),r===null&&(n=a),r}function _i(){var r,o,a,f,p;return f=n,r=Yr(),r!==null?(p=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=cf(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function Yr(){var r,o;return o=n,r=Do(),r===null&&(r=Xr(),r===null&&(r=Lo())),r!==null&&(r=function(a){return R.host=i.substring(n,a).toLowerCase(),R.host}(o)),r===null&&(n=o),r}function Do(){var r,o,a,f,p,m;for(f=n,p=n,r=[],m=n,o=Uo(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m);o!==null;)r.push(o),m=n,o=Uo(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m);return r!==null?(o=af(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){return R.host_type="domain",i.substring(n,y)}(f)),r===null&&(n=f),r}function Uo(){var r,o,a,f;if(f=n,r=w(),r!==null){for(o=[],a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));a!==null;)o.push(a),a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function af(){var r,o,a,f;if(f=n,r=g(),r!==null){for(o=[],a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));a!==null;)o.push(a),a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function Lo(){var r,o,a,f,p;return f=n,p=n,i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r!==null?(o=Mo(),o!==null?(i.charCodeAt(n)===93?(a="]",n++):(a=null,c('"]"')),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return R.host_type="IPv6",i.substring(n,m)}(f)),r===null&&(n=f),r}function Mo(){var r,o,a,f,p,m,y,k,D,Y,ve,$t,Oi,nu,N,Q;return nu=n,N=n,r=K(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?(i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=K(),y!==null?(i.charCodeAt(n)===58?(k=":",n++):(k=null,c('":"')),k!==null?(D=K(),D!==null?(i.charCodeAt(n)===58?(Y=":",n++):(Y=null,c('":"')),Y!==null?(ve=K(),ve!==null?(i.charCodeAt(n)===58?($t=":",n++):($t=null,c('":"')),$t!==null?(Oi=ht(),Oi!==null?r=[r,o,a,f,p,m,y,k,D,Y,ve,$t,Oi]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=K(),k!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(Y=K(),Y!==null?(i.charCodeAt(n)===58?(ve=":",n++):(ve=null,c('":"')),ve!==null?($t=ht(),$t!==null?r=[r,o,a,f,p,m,y,k,D,Y,ve,$t]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=K(),k!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(Y=ht(),Y!==null?r=[r,o,a,f,p,m,y,k,D,Y]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=ht(),k!==null?r=[r,o,a,f,p,m,y,k]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=ht(),m!==null?r=[r,o,a,f,p,m]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=ht(),f!==null?r=[r,o,a,f]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=ht(),o!==null?r=[r,o]:(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=K(),o!==null?r=[r,o]:(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(i.substr(n,2)==="::"?(o="::",n+=2):(o=null,c('"::"')),o!==null?(a=K(),a!==null?(i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=K(),y!==null?(i.charCodeAt(n)===58?(k=":",n++):(k=null,c('":"')),k!==null?(D=K(),D!==null?(i.charCodeAt(n)===58?(Y=":",n++):(Y=null,c('":"')),Y!==null?(ve=ht(),ve!==null?r=[r,o,a,f,p,m,y,k,D,Y,ve]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(i.substr(n,2)==="::"?(a="::",n+=2):(a=null,c('"::"')),a!==null?(f=K(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=K(),k!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(Y=ht(),Y!==null?r=[r,o,a,f,p,m,y,k,D,Y]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(Q=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?a=[a,f]:(a=null,n=Q)):(a=null,n=Q),a=a!==null?a:"",a!==null?(i.substr(n,2)==="::"?(f="::",n+=2):(f=null,c('"::"')),f!==null?(p=K(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=K(),y!==null?(i.charCodeAt(n)===58?(k=":",n++):(k=null,c('":"')),k!==null?(D=ht(),D!==null?r=[r,o,a,f,p,m,y,k,D]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(Q=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?a=[a,f]:(a=null,n=Q)):(a=null,n=Q),a=a!==null?a:"",a!==null?(Q=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?f=[f,p]:(f=null,n=Q)):(f=null,n=Q),f=f!==null?f:"",f!==null?(i.substr(n,2)==="::"?(p="::",n+=2):(p=null,c('"::"')),p!==null?(m=K(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=ht(),k!==null?r=[r,o,a,f,p,m,y,k]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(Q=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?a=[a,f]:(a=null,n=Q)):(a=null,n=Q),a=a!==null?a:"",a!==null?(Q=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?f=[f,p]:(f=null,n=Q)):(f=null,n=Q),f=f!==null?f:"",f!==null?(Q=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?p=[p,m]:(p=null,n=Q)):(p=null,n=Q),p=p!==null?p:"",p!==null?(i.substr(n,2)==="::"?(m="::",n+=2):(m=null,c('"::"')),m!==null?(y=ht(),y!==null?r=[r,o,a,f,p,m,y]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(Q=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?a=[a,f]:(a=null,n=Q)):(a=null,n=Q),a=a!==null?a:"",a!==null?(Q=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?f=[f,p]:(f=null,n=Q)):(f=null,n=Q),f=f!==null?f:"",f!==null?(Q=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?p=[p,m]:(p=null,n=Q)):(p=null,n=Q),p=p!==null?p:"",p!==null?(Q=n,i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=K(),y!==null?m=[m,y]:(m=null,n=Q)):(m=null,n=Q),m=m!==null?m:"",m!==null?(i.substr(n,2)==="::"?(y="::",n+=2):(y=null,c('"::"')),y!==null?(k=K(),k!==null?r=[r,o,a,f,p,m,y,k]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=K(),r!==null?(Q=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?o=[o,a]:(o=null,n=Q)):(o=null,n=Q),o=o!==null?o:"",o!==null?(Q=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=K(),f!==null?a=[a,f]:(a=null,n=Q)):(a=null,n=Q),a=a!==null?a:"",a!==null?(Q=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=K(),p!==null?f=[f,p]:(f=null,n=Q)):(f=null,n=Q),f=f!==null?f:"",f!==null?(Q=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=K(),m!==null?p=[p,m]:(p=null,n=Q)):(p=null,n=Q),p=p!==null?p:"",p!==null?(Q=n,i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=K(),y!==null?m=[m,y]:(m=null,n=Q)):(m=null,n=Q),m=m!==null?m:"",m!==null?(Q=n,i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(k=K(),k!==null?y=[y,k]:(y=null,n=Q)):(y=null,n=Q),y=y!==null?y:"",y!==null?(i.substr(n,2)==="::"?(k="::",n+=2):(k=null,c('"::"')),k!==null?r=[r,o,a,f,p,m,y,k]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N))))))))))))))),r!==null&&(r=function(Sg){return R.host_type="IPv6",i.substring(n,Sg)}(nu)),r===null&&(n=nu),r}function K(){var r,o,a,f,p;return p=n,r=S(),r!==null?(o=S(),o=o!==null?o:"",o!==null?(a=S(),a=a!==null?a:"",a!==null?(f=S(),f=f!==null?f:"",f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function ht(){var r,o,a,f;return f=n,r=K(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=K(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(r=Xr()),r}function Xr(){var r,o,a,f,p,m,y,k,D;return k=n,D=n,r=Jr(),r!==null?(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o!==null?(a=Jr(),a!==null?(i.charCodeAt(n)===46?(f=".",n++):(f=null,c('"."')),f!==null?(p=Jr(),p!==null?(i.charCodeAt(n)===46?(m=".",n++):(m=null,c('"."')),m!==null?(y=Jr(),y!==null?r=[r,o,a,f,p,m,y]:(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D),r!==null&&(r=function(Y){return R.host_type="IPv4",i.substring(n,Y)}(k)),r===null&&(n=k),r}function Jr(){var r,o,a,f;return f=n,i.substr(n,2)==="25"?(r="25",n+=2):(r=null,c('"25"')),r!==null?(/^[0-5]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[0-5]")),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r===null&&(f=n,i.charCodeAt(n)===50?(r="2",n++):(r=null,c('"2"')),r!==null?(/^[0-4]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[0-4]")),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(f=n,i.charCodeAt(n)===49?(r="1",n++):(r=null,c('"1"')),r!==null?(o=v(),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(f=n,/^[1-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[1-9]")),r!==null?(o=v(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r===null&&(r=v())))),r}function cf(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(k,D){return D=parseInt(D.join("")),R.port=D,D}(m,r)),r===null&&(n=m),r}function ff(){var r,o,a,f;for(r=[],f=n,i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=Fo(),a!==null?o=[o,a]:(o=null,n=f)):(o=null,n=f);o!==null;)r.push(o),f=n,i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=Fo(),a!==null?o=[o,a]:(o=null,n=f)):(o=null,n=f);return r}function Fo(){var r;return r=df(),r===null&&(r=hf(),r===null&&(r=pf(),r===null&&(r=_f(),r===null&&(r=vf(),r===null&&(r=mf(),r===null&&(r=gf())))))),r}function df(){var r,o,a,f;return a=n,f=n,i.substr(n,10).toLowerCase()==="transport="?(r=i.substr(n,10),n+=10):(r=null,c('"transport="')),r!==null?(i.substr(n,3).toLowerCase()==="udp"?(o=i.substr(n,3),n+=3):(o=null,c('"udp"')),o===null&&(i.substr(n,3).toLowerCase()==="tcp"?(o=i.substr(n,3),n+=3):(o=null,c('"tcp"')),o===null&&(i.substr(n,4).toLowerCase()==="sctp"?(o=i.substr(n,4),n+=4):(o=null,c('"sctp"')),o===null&&(i.substr(n,3).toLowerCase()==="tls"?(o=i.substr(n,3),n+=3):(o=null,c('"tls"')),o===null&&(o=O())))),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){R.uri_params||(R.uri_params={}),R.uri_params.transport=m.toLowerCase()}(a,r[1])),r===null&&(n=a),r}function hf(){var r,o,a,f;return a=n,f=n,i.substr(n,5).toLowerCase()==="user="?(r=i.substr(n,5),n+=5):(r=null,c('"user="')),r!==null?(i.substr(n,5).toLowerCase()==="phone"?(o=i.substr(n,5),n+=5):(o=null,c('"phone"')),o===null&&(i.substr(n,2).toLowerCase()==="ip"?(o=i.substr(n,2),n+=2):(o=null,c('"ip"')),o===null&&(o=O())),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){R.uri_params||(R.uri_params={}),R.uri_params.user=m.toLowerCase()}(a,r[1])),r===null&&(n=a),r}function pf(){var r,o,a,f;return a=n,f=n,i.substr(n,7).toLowerCase()==="method="?(r=i.substr(n,7),n+=7):(r=null,c('"method="')),r!==null?(o=yi(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){R.uri_params||(R.uri_params={}),R.uri_params.method=m}(a,r[1])),r===null&&(n=a),r}function _f(){var r,o,a,f;return a=n,f=n,i.substr(n,4).toLowerCase()==="ttl="?(r=i.substr(n,4),n+=4):(r=null,c('"ttl="')),r!==null?(o=Jo(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){R.params||(R.params={}),R.params.ttl=m}(a,r[1])),r===null&&(n=a),r}function vf(){var r,o,a,f;return a=n,f=n,i.substr(n,6).toLowerCase()==="maddr="?(r=i.substr(n,6),n+=6):(r=null,c('"maddr="')),r!==null?(o=Yr(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){R.uri_params||(R.uri_params={}),R.uri_params.maddr=m}(a,r[1])),r===null&&(n=a),r}function mf(){var r,o,a,f,p,m;return f=n,p=n,i.substr(n,2).toLowerCase()==="lr"?(r=i.substr(n,2),n+=2):(r=null,c('"lr"')),r!==null?(m=n,i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=O(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){R.uri_params||(R.uri_params={}),R.uri_params.lr=void 0}()),r===null&&(n=f),r}function gf(){var r,o,a,f,p,m;return f=n,p=n,r=yf(),r!==null?(m=n,i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=Tf(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y,k,D){R.uri_params||(R.uri_params={}),typeof D>"u"?D=void 0:D=D[1],R.uri_params[k.toLowerCase()]=D}(f,r[0],r[1])),r===null&&(n=f),r}function yf(){var r,o,a;if(a=n,o=Zr(),o!==null)for(r=[];o!==null;)r.push(o),o=Zr();else r=null;return r!==null&&(r=function(f,p){return p.join("")}(a,r)),r===null&&(n=a),r}function Tf(){var r,o,a;if(a=n,o=Zr(),o!==null)for(r=[];o!==null;)r.push(o),o=Zr();else r=null;return r!==null&&(r=function(f,p){return p.join("")}(a,r)),r===null&&(n=a),r}function Zr(){var r;return r=Sf(),r===null&&(r=L(),r===null&&(r=z())),r}function Sf(){var r;return i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')))))))),r}function Ef(){var r,o,a,f,p,m,y;if(m=n,i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r!==null)if(o=vi(),o!==null){for(a=[],y=n,i.charCodeAt(n)===38?(f="&",n++):(f=null,c('"&"')),f!==null?(p=vi(),p!==null?f=[f,p]:(f=null,n=y)):(f=null,n=y);f!==null;)a.push(f),y=n,i.charCodeAt(n)===38?(f="&",n++):(f=null,c('"&"')),f!==null?(p=vi(),p!==null?f=[f,p]:(f=null,n=y)):(f=null,n=y);a!==null?r=[r,o,a]:(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r}function vi(){var r,o,a,f,p;return f=n,p=n,r=Cf(),r!==null?(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=wf(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y,k){y=y.join("").toLowerCase(),k=k.join(""),R.uri_headers||(R.uri_headers={}),R.uri_headers[y]?R.uri_headers[y].push(k):R.uri_headers[y]=[k]}(f,r[0],r[2])),r===null&&(n=f),r}function Cf(){var r,o;if(o=el(),o===null&&(o=L(),o===null&&(o=z())),o!==null)for(r=[];o!==null;)r.push(o),o=el(),o===null&&(o=L(),o===null&&(o=z()));else r=null;return r}function wf(){var r,o;for(r=[],o=el(),o===null&&(o=L(),o===null&&(o=z()));o!==null;)r.push(o),o=el(),o===null&&(o=L(),o===null&&(o=z()));return r}function el(){var r;return i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')))))))),r}function Fm(){var r;return r=Wf(),r===null&&(r=Rf()),r}function Rf(){var r,o,a,f,p,m;return m=n,r=yi(),r!==null?(o=E(),o!==null?(a=Af(),a!==null?(f=E(),f!==null?(p=jo(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function Af(){var r;return r=Ae(),r===null&&(r=Ho()),r}function Ho(){var r,o,a,f;return f=n,r=Pf(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=If(),a===null&&(a=Of()),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function If(){var r,o,a,f,p;return f=n,r=kf(),r===null&&(r=mi()),r!==null?(p=n,i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o!==null?(a=Lf(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function kf(){var r,o,a,f;return f=n,i.substr(n,2)==="//"?(r="//",n+=2):(r=null,c('"//"')),r!==null?(o=bf(),o!==null?(a=mi(),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function mi(){var r,o,a;return a=n,i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r!==null?(o=xf(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function Of(){var r,o,a,f;if(f=n,r=Nf(),r!==null){for(o=[],a=tl();a!==null;)o.push(a),a=tl();o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function tl(){var r;return r=x(),r===null&&(r=L(),r===null&&(r=z())),r}function Nf(){var r;return r=L(),r===null&&(r=z(),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')))))))))))),r}function xf(){var r,o,a,f,p,m;if(p=n,r=gi(),r!==null){for(o=[],m=n,i.charCodeAt(n)===47?(a="/",n++):(a=null,c('"/"')),a!==null?(f=gi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===47?(a="/",n++):(a=null,c('"/"')),a!==null?(f=gi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function gi(){var r,o,a,f,p,m;for(p=n,r=[],o=nl();o!==null;)r.push(o),o=nl();if(r!==null){for(o=[],m=n,i.charCodeAt(n)===59?(a=";",n++):(a=null,c('";"')),a!==null?(f=$o(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===59?(a=";",n++):(a=null,c('";"')),a!==null?(f=$o(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function $o(){var r,o;for(r=[],o=nl();o!==null;)r.push(o),o=nl();return r}function nl(){var r;return r=L(),r===null&&(r=z(),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')))))))))),r}function Pf(){var r,o,a,f,p;if(f=n,p=n,r=g(),r!==null){for(o=[],a=g(),a===null&&(a=v(),a===null&&(i.charCodeAt(n)===43?(a="+",n++):(a=null,c('"+"')),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."'))))));a!==null;)o.push(a),a=g(),a===null&&(a=v(),a===null&&(i.charCodeAt(n)===43?(a="+",n++):(a=null,c('"+"')),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."'))))));o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r!==null&&(r=function(m){R.scheme=i.substring(n,m)}(f)),r===null&&(n=f),r}function bf(){var r;return r=Df(),r===null&&(r=Uf()),r}function Df(){var r,o,a,f;return a=n,f=n,r=st(),r!==null?(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r=r!==null?r:"",r!==null?(o=_i(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r=r!==null?r:"",r}function Uf(){var r,o;if(o=L(),o===null&&(o=z(),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o===null&&(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"'))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=L(),o===null&&(o=z(),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o===null&&(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')))))))))));else r=null;return r}function Lf(){var r,o;for(r=[],o=tl();o!==null;)r.push(o),o=tl();return r}function jo(){var r,o,a,f,p,m,y,k;if(y=n,k=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r!==null)if(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o!==null){if(f=v(),f!==null)for(a=[];f!==null;)a.push(f),f=v();else a=null;if(a!==null)if(i.charCodeAt(n)===46?(f=".",n++):(f=null,c('"."')),f!==null){if(m=v(),m!==null)for(p=[];m!==null;)p.push(m),m=v();else p=null;p!==null?r=[r,o,a,f,p]:(r=null,n=k)}else r=null,n=k;else r=null,n=k}else r=null,n=k;else r=null,n=k;return r!==null&&(r=function(D){R.sip_version=i.substring(n,D)}(y)),r===null&&(n=y),r}function Mf(){var r;return i.substr(n,6)==="INVITE"?(r="INVITE",n+=6):(r=null,c('"INVITE"')),r}function Ff(){var r;return i.substr(n,3)==="ACK"?(r="ACK",n+=3):(r=null,c('"ACK"')),r}function Hf(){var r;return i.substr(n,7)==="OPTIONS"?(r="OPTIONS",n+=7):(r=null,c('"OPTIONS"')),r}function $f(){var r;return i.substr(n,3)==="BYE"?(r="BYE",n+=3):(r=null,c('"BYE"')),r}function jf(){var r;return i.substr(n,6)==="CANCEL"?(r="CANCEL",n+=6):(r=null,c('"CANCEL"')),r}function zf(){var r;return i.substr(n,8)==="REGISTER"?(r="REGISTER",n+=8):(r=null,c('"REGISTER"')),r}function qf(){var r;return i.substr(n,9)==="SUBSCRIBE"?(r="SUBSCRIBE",n+=9):(r=null,c('"SUBSCRIBE"')),r}function Bf(){var r;return i.substr(n,6)==="NOTIFY"?(r="NOTIFY",n+=6):(r=null,c('"NOTIFY"')),r}function Vf(){var r;return i.substr(n,5)==="REFER"?(r="REFER",n+=5):(r=null,c('"REFER"')),r}function yi(){var r,o;return o=n,r=Mf(),r===null&&(r=Ff(),r===null&&(r=Hf(),r===null&&(r=$f(),r===null&&(r=jf(),r===null&&(r=zf(),r===null&&(r=qf(),r===null&&(r=Bf(),r===null&&(r=Vf(),r===null&&(r=O()))))))))),r!==null&&(r=function(a){return R.method=i.substring(n,a),R.method}(o)),r===null&&(n=o),r}function Wf(){var r,o,a,f,p,m;return m=n,r=jo(),r!==null?(o=E(),o!==null?(a=Gf(),a!==null?(f=E(),f!==null?(p=Qf(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function Gf(){var r,o;return o=n,r=Kf(),r!==null&&(r=function(a,f){R.status_code=parseInt(f.join(""))}(o,r)),r===null&&(n=o),r}function Kf(){var r,o,a,f;return f=n,r=v(),r!==null?(o=v(),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Qf(){var r,o,a;for(a=n,r=[],o=x(),o===null&&(o=L(),o===null&&(o=z(),o===null&&(o=le(),o===null&&(o=M(),o===null&&(o=E(),o===null&&(o=T()))))));o!==null;)r.push(o),o=x(),o===null&&(o=L(),o===null&&(o=z(),o===null&&(o=le(),o===null&&(o=M(),o===null&&(o=E(),o===null&&(o=T()))))));return r!==null&&(r=function(f){R.reason_phrase=i.substring(n,f)}(a)),r===null&&(n=a),r}function Hm(){var r,o,a,f,p,m;if(p=n,r=rl(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=rl(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=rl(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function $m(){var r,o,a,f,p,m;return f=n,p=n,r=X(),r!==null?(m=n,i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?(a=X(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){R=i.substring(n,y)}(f)),r===null&&(n=f),r}function jm(){var r,o,a,f,p,m,y;if(p=n,r=te(),r===null)if(m=n,r=Ti(),r!==null){for(o=[],y=n,a=ue(),a!==null?(f=Ti(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ue(),a!==null?(f=Ti(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D,Y;for(Y=R.multi_header.length,D=0;D<Y;D++)if(R.multi_header[D].parsed===null){R=null;break}R!==null?R=R.multi_header:R=-1}()),r===null&&(n=p),r}function Ti(){var r,o,a,f,p,m,y;if(p=n,m=n,r=oe(),r===null&&(r=Vn()),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=zo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=zo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D;R.multi_header||(R.multi_header=[]);try{D=new pr(R.uri,R.display_name,R.params),delete R.uri,delete R.display_name,delete R.params}catch{D=null}R.multi_header.push({possition:n,offset:k,parsed:D})}(p)),r===null&&(n=p),r}function Vn(){var r,o,a,f,p;return p=n,r=Si(),r=r!==null?r:"",r!==null?(o=Ke(),o!==null?(a=Ae(),a!==null?(f=Et(),f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function Si(){var r,o,a,f,p,m,y;if(p=n,m=n,r=O(),r!==null){for(o=[],y=n,a=I(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=I(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r===null&&(r=ne()),r!==null&&(r=function(k,D){typeof D=="string"?R.display_name=D:R.display_name=D[1].reduce(function(Y,ve){return Y+ve[0]+ve[1]},D[0])}(p,r)),r===null&&(n=p),r}function zo(){var r;return r=Yf(),r===null&&(r=Xf(),r===null&&(r=xe())),r}function Yf(){var r,o,a,f,p;return f=n,p=n,i.substr(n,1).toLowerCase()==="q"?(r=i.substr(n,1),n++):(r=null,c('"q"')),r!==null?(o=J(),o!==null?(a=Jf(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.params||(R.params={}),R.params.q=y}(f,r[2])),r===null&&(n=f),r}function Xf(){var r,o,a,f,p;return f=n,p=n,i.substr(n,7).toLowerCase()==="expires"?(r=i.substr(n,7),n+=7):(r=null,c('"expires"')),r!==null?(o=J(),o!==null?(a=Wn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.params||(R.params={}),R.params.expires=y}(f,r[2])),r===null&&(n=f),r}function Wn(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){return parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Jf(){var r,o,a,f,p,m,y,k;return m=n,y=n,i.charCodeAt(n)===48?(r="0",n++):(r=null,c('"0"')),r!==null?(k=n,i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?o=[o,a,f,p]:(o=null,n=k)):(o=null,n=k)):(o=null,n=k)):(o=null,n=k),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(D){return parseFloat(i.substring(n,D))}(m)),r===null&&(n=m),r}function xe(){var r,o,a,f,p,m;return f=n,p=n,r=O(),r!==null?(m=n,o=J(),o!==null?(a=Zf(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y,k,D){R.params||(R.params={}),typeof D>"u"?D=void 0:D=D[1],R.params[k.toLowerCase()]=D}(f,r[0],r[1])),r===null&&(n=f),r}function Zf(){var r;return r=O(),r===null&&(r=Yr(),r===null&&(r=hr())),r}function zm(){var r,o,a,f,p,m;if(p=n,r=ed(),r!==null){for(o=[],m=n,a=ie(),a!==null?(f=qo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ie(),a!==null?(f=qo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ed(){var r;return i.substr(n,6).toLowerCase()==="render"?(r=i.substr(n,6),n+=6):(r=null,c('"render"')),r===null&&(i.substr(n,7).toLowerCase()==="session"?(r=i.substr(n,7),n+=7):(r=null,c('"session"')),r===null&&(i.substr(n,4).toLowerCase()==="icon"?(r=i.substr(n,4),n+=4):(r=null,c('"icon"')),r===null&&(i.substr(n,5).toLowerCase()==="alert"?(r=i.substr(n,5),n+=5):(r=null,c('"alert"')),r===null&&(r=O())))),r}function qo(){var r;return r=td(),r===null&&(r=xe()),r}function td(){var r,o,a,f;return f=n,i.substr(n,8).toLowerCase()==="handling"?(r=i.substr(n,8),n+=8):(r=null,c('"handling"')),r!==null?(o=J(),o!==null?(i.substr(n,8).toLowerCase()==="optional"?(a=i.substr(n,8),n+=8):(a=null,c('"optional"')),a===null&&(i.substr(n,8).toLowerCase()==="required"?(a=i.substr(n,8),n+=8):(a=null,c('"required"')),a===null&&(a=O())),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function qm(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Bm(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){R=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Vm(){var r,o;return o=n,r=nd(),r!==null&&(r=function(a){R=i.substring(n,a)}(o)),r===null&&(n=o),r}function nd(){var r,o,a,f,p,m,y,k;if(y=n,r=rd(),r!==null)if(o=ce(),o!==null)if(a=od(),a!==null){for(f=[],k=n,p=ie(),p!==null?(m=Bo(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);p!==null;)f.push(p),k=n,p=ie(),p!==null?(m=Bo(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function rd(){var r;return r=ld(),r===null&&(r=id()),r}function ld(){var r;return i.substr(n,4).toLowerCase()==="text"?(r=i.substr(n,4),n+=4):(r=null,c('"text"')),r===null&&(i.substr(n,5).toLowerCase()==="image"?(r=i.substr(n,5),n+=5):(r=null,c('"image"')),r===null&&(i.substr(n,5).toLowerCase()==="audio"?(r=i.substr(n,5),n+=5):(r=null,c('"audio"')),r===null&&(i.substr(n,5).toLowerCase()==="video"?(r=i.substr(n,5),n+=5):(r=null,c('"video"')),r===null&&(i.substr(n,11).toLowerCase()==="application"?(r=i.substr(n,11),n+=11):(r=null,c('"application"')),r===null&&(r=Ei()))))),r}function id(){var r;return i.substr(n,7).toLowerCase()==="message"?(r=i.substr(n,7),n+=7):(r=null,c('"message"')),r===null&&(i.substr(n,9).toLowerCase()==="multipart"?(r=i.substr(n,9),n+=9):(r=null,c('"multipart"')),r===null&&(r=Ei())),r}function Ei(){var r;return r=O(),r===null&&(r=sd()),r}function sd(){var r,o,a;return a=n,i.substr(n,2).toLowerCase()==="x-"?(r=i.substr(n,2),n+=2):(r=null,c('"x-"')),r!==null?(o=O(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function od(){var r;return r=Ei(),r===null&&(r=O()),r}function Bo(){var r,o,a,f;return f=n,r=O(),r!==null?(o=J(),o!==null?(a=ud(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function ud(){var r;return r=O(),r===null&&(r=hr()),r}function Wm(){var r,o,a,f;return f=n,r=ad(),r!==null?(o=I(),o!==null?(a=yi(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function ad(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){R.value=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Gm(){var r,o;return o=n,r=Wn(),r!==null&&(r=function(a,f){R=f}(o,r)),r===null&&(n=o),r}function Km(){var r,o,a,f,p,m,y;if(p=n,m=n,r=rl(),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k,D){R.event=D.join("").toLowerCase()}(p,r[0])),r===null&&(n=p),r}function rl(){var r,o,a,f,p,m;if(p=n,r=F(),r!==null){for(o=[],m=n,i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?(f=F(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?(f=F(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Qm(){var r,o,a,f,p,m,y;if(p=n,m=n,r=oe(),r===null&&(r=Vn()),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=Vo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=Vo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D=R.tag;try{R=new pr(R.uri,R.display_name,R.params),D&&R.setParam("tag",D)}catch{R=-1}}()),r===null&&(n=p),r}function Vo(){var r;return r=Wo(),r===null&&(r=xe()),r}function Wo(){var r,o,a,f,p;return f=n,p=n,i.substr(n,3).toLowerCase()==="tag"?(r=i.substr(n,3),n+=3):(r=null,c('"tag"')),r!==null?(o=J(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.tag=y}(f,r[2])),r===null&&(n=f),r}function Ym(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){R=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Xm(){var r,o;return o=n,r=Wn(),r!==null&&(r=function(a,f){R=f}(o,r)),r===null&&(n=o),r}function Jm(){var r,o,a,f,p,m,y,k,D,Y;for(k=n,D=n,r=[],o=Si();o!==null;)r.push(o),o=Si();if(r!==null)if(o=Ke(),o!==null)if(a=Ae(),a!==null)if(f=Et(),f!==null){for(p=[],Y=n,m=ie(),m!==null?(y=xe(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y);m!==null;)p.push(m),Y=n,m=ie(),m!==null?(y=xe(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y);p!==null?r=[r,o,a,f,p]:(r=null,n=D)}else r=null,n=D;else r=null,n=D;else r=null,n=D;else r=null,n=D;return r!==null&&(r=function(ve){try{R=new pr(R.uri,R.display_name,R.params)}catch{R=-1}}()),r===null&&(n=k),r}function Zm(){var r;return r=Go(),r}function Go(){var r,o,a,f,p,m,y,k;if(y=n,i.substr(n,6).toLowerCase()==="digest"?(r=i.substr(n,6),n+=6):(r=null,c('"Digest"')),r!==null)if(o=I(),o!==null)if(a=Ci(),a!==null){for(f=[],k=n,p=ue(),p!==null?(m=Ci(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);p!==null;)f.push(p),k=n,p=ue(),p!==null?(m=Ci(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r===null&&(r=cd()),r}function cd(){var r,o,a,f,p,m,y,k;if(y=n,r=O(),r!==null)if(o=I(),o!==null)if(a=ll(),a!==null){for(f=[],k=n,p=ue(),p!==null?(m=ll(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);p!==null;)f.push(p),k=n,p=ue(),p!==null?(m=ll(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function ll(){var r,o,a,f;return f=n,r=O(),r!==null?(o=J(),o!==null?(a=O(),a===null&&(a=hr()),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Ci(){var r;return r=fd(),r===null&&(r=hd(),r===null&&(r=pd(),r===null&&(r=vd(),r===null&&(r=md(),r===null&&(r=gd(),r===null&&(r=yd(),r===null&&(r=ll()))))))),r}function fd(){var r,o,a,f;return f=n,i.substr(n,5).toLowerCase()==="realm"?(r=i.substr(n,5),n+=5):(r=null,c('"realm"')),r!==null?(o=J(),o!==null?(a=dd(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function dd(){var r,o;return o=n,r=ne(),r!==null&&(r=function(a,f){R.realm=f}(o,r)),r===null&&(n=o),r}function hd(){var r,o,a,f,p,m,y,k,D;if(k=n,i.substr(n,6).toLowerCase()==="domain"?(r=i.substr(n,6),n+=6):(r=null,c('"domain"')),r!==null)if(o=J(),o!==null)if(a=pn(),a!==null)if(f=wi(),f!==null){if(p=[],D=n,y=E(),y!==null)for(m=[];y!==null;)m.push(y),y=E();else m=null;for(m!==null?(y=wi(),y!==null?m=[m,y]:(m=null,n=D)):(m=null,n=D);m!==null;){if(p.push(m),D=n,y=E(),y!==null)for(m=[];y!==null;)m.push(y),y=E();else m=null;m!==null?(y=wi(),y!==null?m=[m,y]:(m=null,n=D)):(m=null,n=D)}p!==null?(m=_n(),m!==null?r=[r,o,a,f,p,m]:(r=null,n=k)):(r=null,n=k)}else r=null,n=k;else r=null,n=k;else r=null,n=k;else r=null,n=k;return r}function wi(){var r;return r=Ho(),r===null&&(r=mi()),r}function pd(){var r,o,a,f;return f=n,i.substr(n,5).toLowerCase()==="nonce"?(r=i.substr(n,5),n+=5):(r=null,c('"nonce"')),r!==null?(o=J(),o!==null?(a=_d(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function _d(){var r,o;return o=n,r=ne(),r!==null&&(r=function(a,f){R.nonce=f}(o,r)),r===null&&(n=o),r}function vd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="opaque"?(r=i.substr(n,6),n+=6):(r=null,c('"opaque"')),r!==null?(o=J(),o!==null?(a=ne(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.opaque=y}(f,r[2])),r===null&&(n=f),r}function md(){var r,o,a,f,p;return f=n,i.substr(n,5).toLowerCase()==="stale"?(r=i.substr(n,5),n+=5):(r=null,c('"stale"')),r!==null?(o=J(),o!==null?(p=n,i.substr(n,4).toLowerCase()==="true"?(a=i.substr(n,4),n+=4):(a=null,c('"true"')),a!==null&&(a=function(m){R.stale=!0}()),a===null&&(n=p),a===null&&(p=n,i.substr(n,5).toLowerCase()==="false"?(a=i.substr(n,5),n+=5):(a=null,c('"false"')),a!==null&&(a=function(m){R.stale=!1}()),a===null&&(n=p)),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function gd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,9).toLowerCase()==="algorithm"?(r=i.substr(n,9),n+=9):(r=null,c('"algorithm"')),r!==null?(o=J(),o!==null?(i.substr(n,3).toLowerCase()==="md5"?(a=i.substr(n,3),n+=3):(a=null,c('"MD5"')),a===null&&(i.substr(n,8).toLowerCase()==="md5-sess"?(a=i.substr(n,8),n+=8):(a=null,c('"MD5-sess"')),a===null&&(a=O())),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.algorithm=y.toUpperCase()}(f,r[2])),r===null&&(n=f),r}function yd(){var r,o,a,f,p,m,y,k,D,Y;if(k=n,i.substr(n,3).toLowerCase()==="qop"?(r=i.substr(n,3),n+=3):(r=null,c('"qop"')),r!==null)if(o=J(),o!==null)if(a=pn(),a!==null){if(D=n,f=Ri(),f!==null){for(p=[],Y=n,i.charCodeAt(n)===44?(m=",",n++):(m=null,c('","')),m!==null?(y=Ri(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y);m!==null;)p.push(m),Y=n,i.charCodeAt(n)===44?(m=",",n++):(m=null,c('","')),m!==null?(y=Ri(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y);p!==null?f=[f,p]:(f=null,n=D)}else f=null,n=D;f!==null?(p=_n(),p!==null?r=[r,o,a,f,p]:(r=null,n=k)):(r=null,n=k)}else r=null,n=k;else r=null,n=k;else r=null,n=k;return r}function Ri(){var r,o;return o=n,i.substr(n,8).toLowerCase()==="auth-int"?(r=i.substr(n,8),n+=8):(r=null,c('"auth-int"')),r===null&&(i.substr(n,4).toLowerCase()==="auth"?(r=i.substr(n,4),n+=4):(r=null,c('"auth"')),r===null&&(r=O())),r!==null&&(r=function(a,f){R.qop||(R.qop=[]),R.qop.push(f.toLowerCase())}(o,r)),r===null&&(n=o),r}function eg(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function tg(){var r,o,a,f,p,m,y;if(p=n,m=n,r=Ai(),r!==null){for(o=[],y=n,a=ue(),a!==null?(f=Ai(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ue(),a!==null?(f=Ai(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D,Y;for(Y=R.multi_header.length,D=0;D<Y;D++)if(R.multi_header[D].parsed===null){R=null;break}R!==null?R=R.multi_header:R=-1}()),r===null&&(n=p),r}function Ai(){var r,o,a,f,p,m,y;if(p=n,m=n,r=Vn(),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D;R.multi_header||(R.multi_header=[]);try{D=new pr(R.uri,R.display_name,R.params),delete R.uri,delete R.display_name,delete R.params}catch{D=null}R.multi_header.push({possition:n,offset:k,parsed:D})}(p)),r===null&&(n=p),r}function ng(){var r,o,a,f,p,m,y;if(p=n,m=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r===null&&(r=O()),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=Ko(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=Ko(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k,D){if(R.protocol=D.toLowerCase(),R.params||(R.params={}),R.params.text&&R.params.text[0]==='"'){var Y=R.params.text;R.text=Y.substring(1,Y.length-1),delete R.params.text}}(p,r[0])),r===null&&(n=p),r}function Ko(){var r;return r=Td(),r===null&&(r=xe()),r}function Td(){var r,o,a,f,p,m;if(p=n,m=n,i.substr(n,5).toLowerCase()==="cause"?(r=i.substr(n,5),n+=5):(r=null,c('"cause"')),r!==null)if(o=J(),o!==null){if(f=v(),f!==null)for(a=[];f!==null;)a.push(f),f=v();else a=null;a!==null?r=[r,o,a]:(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y,k){R.cause=parseInt(k.join(""))}(p,r[2])),r===null&&(n=p),r}function rg(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function lg(){var r,o,a,f,p,m;if(p=n,r=Ii(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=Ii(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=Ii(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Ii(){var r,o,a,f,p,m;if(p=n,r=Vn(),r!==null){for(o=[],m=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ig(){var r,o,a,f,p,m;if(p=n,r=Sd(),r!==null){for(o=[],m=n,a=ie(),a!==null?(f=Qo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ie(),a!==null?(f=Qo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Sd(){var r,o;return o=n,i.substr(n,6).toLowerCase()==="active"?(r=i.substr(n,6),n+=6):(r=null,c('"active"')),r===null&&(i.substr(n,7).toLowerCase()==="pending"?(r=i.substr(n,7),n+=7):(r=null,c('"pending"')),r===null&&(i.substr(n,10).toLowerCase()==="terminated"?(r=i.substr(n,10),n+=10):(r=null,c('"terminated"')),r===null&&(r=O()))),r!==null&&(r=function(a){R.state=i.substring(n,a)}(o)),r===null&&(n=o),r}function Qo(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="reason"?(r=i.substr(n,6),n+=6):(r=null,c('"reason"')),r!==null?(o=J(),o!==null?(a=Ed(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(R.reason=y)}(f,r[2])),r===null&&(n=f),r===null&&(f=n,p=n,i.substr(n,7).toLowerCase()==="expires"?(r=i.substr(n,7),n+=7):(r=null,c('"expires"')),r!==null?(o=J(),o!==null?(a=Wn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(R.expires=y)}(f,r[2])),r===null&&(n=f),r===null&&(f=n,p=n,i.substr(n,11).toLowerCase()==="retry_after"?(r=i.substr(n,11),n+=11):(r=null,c('"retry_after"')),r!==null?(o=J(),o!==null?(a=Wn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(R.retry_after=y)}(f,r[2])),r===null&&(n=f),r===null&&(r=xe()))),r}function Ed(){var r;return i.substr(n,11).toLowerCase()==="deactivated"?(r=i.substr(n,11),n+=11):(r=null,c('"deactivated"')),r===null&&(i.substr(n,9).toLowerCase()==="probation"?(r=i.substr(n,9),n+=9):(r=null,c('"probation"')),r===null&&(i.substr(n,8).toLowerCase()==="rejected"?(r=i.substr(n,8),n+=8):(r=null,c('"rejected"')),r===null&&(i.substr(n,7).toLowerCase()==="timeout"?(r=i.substr(n,7),n+=7):(r=null,c('"timeout"')),r===null&&(i.substr(n,6).toLowerCase()==="giveup"?(r=i.substr(n,6),n+=6):(r=null,c('"giveup"')),r===null&&(i.substr(n,10).toLowerCase()==="noresource"?(r=i.substr(n,10),n+=10):(r=null,c('"noresource"')),r===null&&(i.substr(n,9).toLowerCase()==="invariant"?(r=i.substr(n,9),n+=9):(r=null,c('"invariant"')),r===null&&(r=O()))))))),r}function sg(){var r;return r=Ne(),r=r!==null?r:"",r}function og(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r=r!==null?r:"",r}function ug(){var r,o,a,f,p,m,y;if(p=n,m=n,r=oe(),r===null&&(r=Vn()),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=Yo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=Yo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){var D=R.tag;try{R=new pr(R.uri,R.display_name,R.params),D&&R.setParam("tag",D)}catch{R=-1}}()),r===null&&(n=p),r}function Yo(){var r;return r=Wo(),r===null&&(r=xe()),r}function ag(){var r,o,a,f,p,m;if(p=n,r=ki(),r!==null){for(o=[],m=n,a=ue(),a!==null?(f=ki(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ue(),a!==null?(f=ki(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ki(){var r,o,a,f,p,m,y,k;if(y=n,r=Od(),r!==null)if(o=I(),o!==null)if(a=Pd(),a!==null){for(f=[],k=n,p=ie(),p!==null?(m=Xo(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);p!==null;)f.push(p),k=n,p=ie(),p!==null?(m=Xo(),m!==null?p=[p,m]:(p=null,n=k)):(p=null,n=k);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function Xo(){var r;return r=Cd(),r===null&&(r=wd(),r===null&&(r=Rd(),r===null&&(r=Ad(),r===null&&(r=Id(),r===null&&(r=xe()))))),r}function Cd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,3).toLowerCase()==="ttl"?(r=i.substr(n,3),n+=3):(r=null,c('"ttl"')),r!==null?(o=J(),o!==null?(a=Jo(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.ttl=y}(f,r[2])),r===null&&(n=f),r}function wd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,5).toLowerCase()==="maddr"?(r=i.substr(n,5),n+=5):(r=null,c('"maddr"')),r!==null?(o=J(),o!==null?(a=Yr(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.maddr=y}(f,r[2])),r===null&&(n=f),r}function Rd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,8).toLowerCase()==="received"?(r=i.substr(n,8),n+=8):(r=null,c('"received"')),r!==null?(o=J(),o!==null?(a=Xr(),a===null&&(a=Mo()),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.received=y}(f,r[2])),r===null&&(n=f),r}function Ad(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="branch"?(r=i.substr(n,6),n+=6):(r=null,c('"branch"')),r!==null?(o=J(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.branch=y}(f,r[2])),r===null&&(n=f),r}function Id(){var r,o,a,f,p;return f=n,i.substr(n,5).toLowerCase()==="rport"?(r=i.substr(n,5),n+=5):(r=null,c('"rport"')),r!==null?(p=n,o=J(),o!==null?(a=kd(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function kd(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(k,D){R.rport=parseInt(D.join(""))}(m,r)),r===null&&(n=m),r}function Od(){var r,o,a,f,p,m;return m=n,r=Nd(),r!==null?(o=ce(),o!==null?(a=O(),a!==null?(f=ce(),f!==null?(p=xd(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function Nd(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r===null&&(r=O()),r!==null&&(r=function(a,f){R.protocol=f}(o,r)),r===null&&(n=o),r}function xd(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="udp"?(r=i.substr(n,3),n+=3):(r=null,c('"UDP"')),r===null&&(i.substr(n,3).toLowerCase()==="tcp"?(r=i.substr(n,3),n+=3):(r=null,c('"TCP"')),r===null&&(i.substr(n,3).toLowerCase()==="tls"?(r=i.substr(n,3),n+=3):(r=null,c('"TLS"')),r===null&&(i.substr(n,4).toLowerCase()==="sctp"?(r=i.substr(n,4),n+=4):(r=null,c('"SCTP"')),r===null&&(r=O())))),r!==null&&(r=function(a,f){R.transport=f}(o,r)),r===null&&(n=o),r}function Pd(){var r,o,a,f,p;return f=n,r=bd(),r!==null?(p=n,o=qn(),o!==null?(a=Dd(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function bd(){var r,o;return o=n,r=Xr(),r===null&&(r=Lo(),r===null&&(r=Do())),r!==null&&(r=function(a){R.host=i.substring(n,a)}(o)),r===null&&(n=o),r}function Dd(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(k,D){R.port=parseInt(D.join(""))}(m,r)),r===null&&(n=m),r}function Jo(){var r,o,a,f,p;return f=n,p=n,r=v(),r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){return parseInt(y.join(""))}(f,r)),r===null&&(n=f),r}function cg(){var r;return r=Go(),r}function fg(){var r,o,a,f,p,m;if(p=n,r=Ud(),r!==null){for(o=[],m=n,a=ie(),a!==null?(f=Zo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ie(),a!==null?(f=Zo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Ud(){var r,o;return o=n,r=Wn(),r!==null&&(r=function(a,f){R.expires=f}(o,r)),r===null&&(n=o),r}function Zo(){var r;return r=Ld(),r===null&&(r=xe()),r}function Ld(){var r,o,a,f,p;return f=n,p=n,i.substr(n,9).toLowerCase()==="refresher"?(r=i.substr(n,9),n+=9):(r=null,c('"refresher"')),r!==null?(o=J(),o!==null?(i.substr(n,3).toLowerCase()==="uac"?(a=i.substr(n,3),n+=3):(a=null,c('"uac"')),a===null&&(i.substr(n,3).toLowerCase()==="uas"?(a=i.substr(n,3),n+=3):(a=null,c('"uas"'))),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.refresher=y.toLowerCase()}(f,r[2])),r===null&&(n=f),r}function dg(){var r,o,a,f;return f=n,r=O(),r!==null?(o=ee(),o!==null?(a=Md(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Md(){var r,o;for(r=[],o=Me(),o===null&&(o=M(),o===null&&(o=I()));o!==null;)r.push(o),o=Me(),o===null&&(o=M(),o===null&&(o=I()));return r}function hg(){var r,o;for(r=[],o=A();o!==null;)r.push(o),o=A();return r}function pg(){var r,o,a;return a=n,i.substr(n,5)==="uuid:"?(r="uuid:",n+=5):(r=null,c('"uuid:"')),r!==null?(o=Fd(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function Fd(){var r,o,a,f,p,m,y,k,D,Y,ve;return Y=n,ve=n,r=Hd(),r!==null?(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o!==null?(a=Yt(),a!==null?(i.charCodeAt(n)===45?(f="-",n++):(f=null,c('"-"')),f!==null?(p=Yt(),p!==null?(i.charCodeAt(n)===45?(m="-",n++):(m=null,c('"-"')),m!==null?(y=Yt(),y!==null?(i.charCodeAt(n)===45?(k="-",n++):(k=null,c('"-"')),k!==null?(D=$d(),D!==null?r=[r,o,a,f,p,m,y,k,D]:(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve)):(r=null,n=ve),r!==null&&(r=function($t,Oi){R=i.substring(n+5,$t)}(Y,r[0])),r===null&&(n=Y),r}function Yt(){var r,o,a,f,p;return p=n,r=S(),r!==null?(o=S(),o!==null?(a=S(),a!==null?(f=S(),f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function Hd(){var r,o,a;return a=n,r=Yt(),r!==null?(o=Yt(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function $d(){var r,o,a,f;return f=n,r=Yt(),r!==null?(o=Yt(),o!==null?(a=Yt(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function _g(){var r,o,a,f,p,m,y;if(p=n,m=n,r=oe(),r===null&&(r=Vn()),r!==null){for(o=[],y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ie(),a!==null?(f=xe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(k){try{R=new pr(R.uri,R.display_name,R.params)}catch{R=-1}}()),r===null&&(n=p),r}function vg(){var r,o,a,f,p,m;if(p=n,r=jd(),r!==null){for(o=[],m=n,a=ie(),a!==null?(f=eu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ie(),a!==null?(f=eu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function jd(){var r,o,a,f,p,m;return f=n,p=n,r=X(),r!==null?(m=n,i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?(a=X(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){R.call_id=i.substring(n,y)}(f)),r===null&&(n=f),r}function eu(){var r;return r=zd(),r===null&&(r=qd(),r===null&&(r=Bd(),r===null&&(r=xe()))),r}function zd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6)==="to-tag"?(r="to-tag",n+=6):(r=null,c('"to-tag"')),r!==null?(o=J(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.to_tag=y}(f,r[2])),r===null&&(n=f),r}function qd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,8)==="from-tag"?(r="from-tag",n+=8):(r=null,c('"from-tag"')),r!==null?(o=J(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){R.from_tag=y}(f,r[2])),r===null&&(n=f),r}function Bd(){var r,o;return o=n,i.substr(n,10)==="early-only"?(r="early-only",n+=10):(r=null,c('"early-only"')),r!==null&&(r=function(a){R.early_only=!0}()),r===null&&(n=o),r}function mg(r){r.sort();for(var o=null,a=[],f=0;f<r.length;f++)r[f]!==o&&(a.push(r[f]),o=r[f]);return a}function gg(){for(var r=1,o=1,a=!1,f=0;f<Math.max(n,d);f++){var p=i.charAt(f);p===`
`?(a||r++,o=1,a=!1):p==="\r"||p==="\u2028"||p==="\u2029"?(r++,o=1,a=!0):(o++,a=!1)}return{line:r,column:o}}var Vd=zn(),pr=Zc(),R={},yg=u[s]();if(yg===null||n!==i.length){var tu=Math.max(n,d),Tg=tu<i.length?i.charAt(tu):null,Wd=gg();return new this.SyntaxError(mg(h),Tg,tu,Wd.line,Wd.column),-1}return R},toSource:function(){return this._source}};return t.SyntaxError=function(l,i,s,u,n){function d(h,c){var _,v;switch(h.length){case 0:_="end of input";break;case 1:_=h[0];break;default:_=h.slice(0,h.length-1).join(", ")+" or "+h[h.length-1]}return v=c?e(c):"end of input","Expected "+_+" but "+v+" found."}this.name="SyntaxError",this.expected=l,this.found=i,this.message=d(l,i),this.offset=s,this.line=u,this.column=n},t.SyntaxError.prototype=Error.prototype,t}()),Nu}var xu,ip;function zn(){if(ip)return xu;ip=1;function e(c,_){var v;if(typeof Symbol>"u"||c[Symbol.iterator]==null){if(Array.isArray(c)||(v=t(c))||_&&c&&typeof c.length=="number"){v&&(c=v);var g=0,S=function(){};return{s:S,n:function(){return g>=c.length?{done:!0}:{done:!1,value:c[g++]}},e:function(T){throw T},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=!0,A=!1,H;return{s:function(){v=c[Symbol.iterator]()},n:function(){var T=v.next();return C=T.done,T},e:function(T){A=!0,H=T},f:function(){try{!C&&v.return!=null&&v.return()}finally{if(A)throw H}}}}function t(c,_){if(c){if(typeof c=="string")return l(c,_);var v=Object.prototype.toString.call(c).slice(8,-1);if(v==="Object"&&c.constructor&&(v=c.constructor.name),v==="Map"||v==="Set")return Array.from(c);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return l(c,_)}}function l(c,_){(_==null||_>c.length)&&(_=c.length);for(var v=0,g=new Array(_);v<_;v++)g[v]=c[v];return g}function i(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}function s(c,_){for(var v=0;v<_.length;v++){var g=_[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function u(c,_,v){return _&&s(c.prototype,_),v&&s(c,v),c}var n=De,d=Ze(),h=Kt();return xu=function(){u(c,null,[{key:"parse",value:function(v){if(v=h.parse(v,"SIP_URI"),v!==-1)return v}}]);function c(_,v,g,S){var C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(i(this,c),!g)throw new TypeError('missing or invalid "host" parameter');this._parameters={},this._headers={},this._scheme=_||n.SIP,this._user=v,this._host=g,this._port=S;for(var H in C)Object.prototype.hasOwnProperty.call(C,H)&&this.setParam(H,C[H]);for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&this.setHeader(E,A[E])}return u(c,[{key:"setParam",value:function(v,g){v&&(this._parameters[v.toLowerCase()]=typeof g>"u"||g===null?null:g.toString())}},{key:"getParam",value:function(v){if(v)return this._parameters[v.toLowerCase()]}},{key:"hasParam",value:function(v){if(v)return this._parameters.hasOwnProperty(v.toLowerCase())&&!0||!1}},{key:"deleteParam",value:function(v){if(v=v.toLowerCase(),this._parameters.hasOwnProperty(v)){var g=this._parameters[v];return delete this._parameters[v],g}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(v,g){this._headers[d.headerize(v)]=Array.isArray(g)?g:[g]}},{key:"getHeader",value:function(v){if(v)return this._headers[d.headerize(v)]}},{key:"hasHeader",value:function(v){if(v)return this._headers.hasOwnProperty(d.headerize(v))&&!0||!1}},{key:"deleteHeader",value:function(v){if(v=d.headerize(v),this._headers.hasOwnProperty(v)){var g=this._headers[v];return delete this._headers[v],g}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new c(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var v=[],g="".concat(this._scheme,":");this._user&&(g+="".concat(d.escapeUser(this._user),"@")),g+=this._host,(this._port||this._port===0)&&(g+=":".concat(this._port));for(var S in this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,S)&&(g+=";".concat(S),this._parameters[S]!==null&&(g+="=".concat(this._parameters[S])));for(var C in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,C)){var A=e(this._headers[C]),H;try{for(A.s();!(H=A.n()).done;){var E=H.value;v.push("".concat(C,"=").concat(E))}}catch(T){A.e(T)}finally{A.f()}}return v.length>0&&(g+="?".concat(v.join("&"))),g}},{key:"toAor",value:function(v){var g="".concat(this._scheme,":");return this._user&&(g+="".concat(d.escapeUser(this._user),"@")),g+=this._host,v&&(this._port||this._port===0)&&(g+=":".concat(this._port)),g}},{key:"scheme",get:function(){return this._scheme},set:function(v){this._scheme=v.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(v){this._user=v}},{key:"host",get:function(){return this._host},set:function(v){this._host=v.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(v){this._port=v===0?v:parseInt(v,10)||null}}]),c}(),xu}var sp;function Ze(){if(sp)return ke;sp=1;function e(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(_)}function t(_,v){var g;if(typeof Symbol>"u"||_[Symbol.iterator]==null){if(Array.isArray(_)||(g=l(_))||v&&_&&typeof _.length=="number"){g&&(_=g);var S=0,C=function(){};return{s:C,n:function(){return S>=_.length?{done:!0}:{done:!1,value:_[S++]}},e:function(w){throw w},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,H=!1,E;return{s:function(){g=_[Symbol.iterator]()},n:function(){var w=g.next();return A=w.done,w},e:function(w){H=!0,E=w},f:function(){try{!A&&g.return!=null&&g.return()}finally{if(H)throw E}}}}function l(_,v){if(_){if(typeof _=="string")return i(_,v);var g=Object.prototype.toString.call(_).slice(8,-1);if(g==="Object"&&_.constructor&&(g=_.constructor.name),g==="Map"||g==="Set")return Array.from(_);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return i(_,v)}}function i(_,v){(v==null||v>_.length)&&(v=_.length);for(var g=0,S=new Array(v);g<v;g++)S[g]=_[g];return S}var s=De,u=zn(),n=Kt();ke.str_utf8_length=function(_){return unescape(encodeURIComponent(_)).length};var d=ke.isFunction=function(_){return _!==void 0?Object.prototype.toString.call(_)==="[object Function]":!1};ke.isString=function(_){return _!==void 0?Object.prototype.toString.call(_)==="[object String]":!1},ke.isDecimal=function(_){return!isNaN(_)&&parseFloat(_)===parseInt(_,10)},ke.isEmpty=function(_){return _===null||_===""||_===void 0||Array.isArray(_)&&_.length===0||typeof _=="number"&&isNaN(_)},ke.hasMethods=function(_){for(var v=arguments.length,g=new Array(v>1?v-1:0),S=1;S<v;S++)g[S-1]=arguments[S];for(var C=0,A=g;C<A.length;C++){var H=A[C];if(d(_[H]))return!1}return!0};var h=ke.createRandomToken=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32,g,S,C="";for(g=0;g<_;g++)S=Math.random()*v|0,C+=S.toString(v);return C};ke.newTag=function(){return h(10)},ke.newUUID=function(){var _="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var g=Math.random()*16|0,S=v==="x"?g:g&3|8;return S.toString(16)});return _},ke.hostType=function(_){if(_){if(_=n.parse(_,"host"),_!==-1)return _.host_type}else return};var c=ke.escapeUser=function(_){return encodeURIComponent(decodeURIComponent(_)).replace(/%3A/ig,":").replace(/%2B/ig,"+").replace(/%3F/ig,"?").replace(/%2F/ig,"/")};return ke.normalizeTarget=function(_,v){if(_){if(_ instanceof u)return _;if(typeof _=="string"){var g=_.split("@"),S,C;switch(g.length){case 1:if(!v)return;S=_,C=v;break;case 2:S=g[0],C=g[1];break;default:S=g.slice(0,g.length-1).join("@"),C=g[g.length-1]}S=S.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(S)&&(S=S.replace(/[-.()]/g,"")),_="".concat(s.SIP,":").concat(c(S),"@").concat(C);var A;return(A=u.parse(_))?A:void 0}else return}else return},ke.headerize=function(_){var v={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},g=_.toLowerCase().replace(/_/g,"-").split("-"),S="",C=g.length,A;for(A=0;A<C;A++)A!==0&&(S+="-"),S+=g[A].charAt(0).toUpperCase()+g[A].substring(1);return v[S]&&(S=v[S]),S},ke.sipErrorCause=function(_){for(var v in s.SIP_ERROR_CAUSES)if(s.SIP_ERROR_CAUSES[v].indexOf(_)!==-1)return s.causes[v];return s.causes.SIP_FAILURE_CODE},ke.getRandomTestNetIP=function(){function _(v,g){return Math.floor(Math.random()*(g-v+1)+v)}return"192.0.2.".concat(_(1,254))},ke.calculateMD5=function(_){function v(ne,Z){return ne<<Z|ne>>>32-Z}function g(ne,Z){var re=ne&2147483648,oe=Z&2147483648,Ae=ne&1073741824,Fe=Z&1073741824,Te=(ne&1073741823)+(Z&1073741823);return Ae&Fe?Te^2147483648^re^oe:Ae|Fe?Te&1073741824?Te^3221225472^re^oe:Te^1073741824^re^oe:Te^re^oe}function S(ne,Z,re){return ne&Z|~ne&re}function C(ne,Z,re){return ne&re|Z&~re}function A(ne,Z,re){return ne^Z^re}function H(ne,Z,re){return Z^(ne|~re)}function E(ne,Z,re,oe,Ae,Fe,Te){return ne=g(ne,g(g(S(Z,re,oe),Ae),Te)),g(v(ne,Fe),Z)}function T(ne,Z,re,oe,Ae,Fe,Te){return ne=g(ne,g(g(C(Z,re,oe),Ae),Te)),g(v(ne,Fe),Z)}function w(ne,Z,re,oe,Ae,Fe,Te){return ne=g(ne,g(g(A(Z,re,oe),Ae),Te)),g(v(ne,Fe),Z)}function x(ne,Z,re,oe,Ae,Fe,Te){return ne=g(ne,g(g(H(Z,re,oe),Ae),Te)),g(v(ne,Fe),Z)}function L(ne){for(var Z,re=ne.length,oe=re+8,Ae=(oe-oe%64)/64,Fe=(Ae+1)*16,Te=new Array(Fe-1),Bn=0,st=0;st<re;)Z=(st-st%4)/4,Bn=st%4*8,Te[Z]=Te[Z]|ne.charCodeAt(st)<<Bn,st++;return Z=(st-st%4)/4,Bn=st%4*8,Te[Z]=Te[Z]|128<<Bn,Te[Fe-2]=re<<3,Te[Fe-1]=re>>>29,Te}function q(ne){var Z="",re="",oe,Ae;for(Ae=0;Ae<=3;Ae++)oe=ne>>>Ae*8&255,re="0".concat(oe.toString(16)),Z=Z+re.substr(re.length-2,2);return Z}function z(ne){for(var Z="",re=0;re<ne.length;re++){var oe=ne.charCodeAt(re);oe<128?Z+=String.fromCharCode(oe):oe>127&&oe<2048?(Z+=String.fromCharCode(oe>>6|192),Z+=String.fromCharCode(oe&63|128)):(Z+=String.fromCharCode(oe>>12|224),Z+=String.fromCharCode(oe>>6&63|128),Z+=String.fromCharCode(oe&63|128))}return Z}var I=[],P,ee,Ne,Me,le,M,j,O,F,W=7,X=12,te=17,ce=22,J=5,St=9,et=14,Et=20,Ke=4,ue=11,ie=16,qn=23,pn=6,_n=10,vn=15,mn=21;for(_=z(_),I=L(_),M=1732584193,j=4023233417,O=2562383102,F=271733878,P=0;P<I.length;P+=16)ee=M,Ne=j,Me=O,le=F,M=E(M,j,O,F,I[P+0],W,3614090360),F=E(F,M,j,O,I[P+1],X,3905402710),O=E(O,F,M,j,I[P+2],te,606105819),j=E(j,O,F,M,I[P+3],ce,3250441966),M=E(M,j,O,F,I[P+4],W,4118548399),F=E(F,M,j,O,I[P+5],X,1200080426),O=E(O,F,M,j,I[P+6],te,2821735955),j=E(j,O,F,M,I[P+7],ce,4249261313),M=E(M,j,O,F,I[P+8],W,1770035416),F=E(F,M,j,O,I[P+9],X,2336552879),O=E(O,F,M,j,I[P+10],te,4294925233),j=E(j,O,F,M,I[P+11],ce,2304563134),M=E(M,j,O,F,I[P+12],W,1804603682),F=E(F,M,j,O,I[P+13],X,4254626195),O=E(O,F,M,j,I[P+14],te,2792965006),j=E(j,O,F,M,I[P+15],ce,1236535329),M=T(M,j,O,F,I[P+1],J,4129170786),F=T(F,M,j,O,I[P+6],St,3225465664),O=T(O,F,M,j,I[P+11],et,643717713),j=T(j,O,F,M,I[P+0],Et,3921069994),M=T(M,j,O,F,I[P+5],J,3593408605),F=T(F,M,j,O,I[P+10],St,38016083),O=T(O,F,M,j,I[P+15],et,3634488961),j=T(j,O,F,M,I[P+4],Et,3889429448),M=T(M,j,O,F,I[P+9],J,568446438),F=T(F,M,j,O,I[P+14],St,3275163606),O=T(O,F,M,j,I[P+3],et,4107603335),j=T(j,O,F,M,I[P+8],Et,1163531501),M=T(M,j,O,F,I[P+13],J,2850285829),F=T(F,M,j,O,I[P+2],St,4243563512),O=T(O,F,M,j,I[P+7],et,1735328473),j=T(j,O,F,M,I[P+12],Et,2368359562),M=w(M,j,O,F,I[P+5],Ke,4294588738),F=w(F,M,j,O,I[P+8],ue,2272392833),O=w(O,F,M,j,I[P+11],ie,1839030562),j=w(j,O,F,M,I[P+14],qn,4259657740),M=w(M,j,O,F,I[P+1],Ke,2763975236),F=w(F,M,j,O,I[P+4],ue,1272893353),O=w(O,F,M,j,I[P+7],ie,4139469664),j=w(j,O,F,M,I[P+10],qn,3200236656),M=w(M,j,O,F,I[P+13],Ke,681279174),F=w(F,M,j,O,I[P+0],ue,3936430074),O=w(O,F,M,j,I[P+3],ie,3572445317),j=w(j,O,F,M,I[P+6],qn,76029189),M=w(M,j,O,F,I[P+9],Ke,3654602809),F=w(F,M,j,O,I[P+12],ue,3873151461),O=w(O,F,M,j,I[P+15],ie,530742520),j=w(j,O,F,M,I[P+2],qn,3299628645),M=x(M,j,O,F,I[P+0],pn,4096336452),F=x(F,M,j,O,I[P+7],_n,1126891415),O=x(O,F,M,j,I[P+14],vn,2878612391),j=x(j,O,F,M,I[P+5],mn,4237533241),M=x(M,j,O,F,I[P+12],pn,1700485571),F=x(F,M,j,O,I[P+3],_n,2399980690),O=x(O,F,M,j,I[P+10],vn,4293915773),j=x(j,O,F,M,I[P+1],mn,2240044497),M=x(M,j,O,F,I[P+8],pn,1873313359),F=x(F,M,j,O,I[P+15],_n,4264355552),O=x(O,F,M,j,I[P+6],vn,2734768916),j=x(j,O,F,M,I[P+13],mn,1309151649),M=x(M,j,O,F,I[P+4],pn,4149444226),F=x(F,M,j,O,I[P+11],_n,3174756917),O=x(O,F,M,j,I[P+2],vn,718787259),j=x(j,O,F,M,I[P+9],mn,3951481745),M=g(M,ee),j=g(j,Ne),O=g(O,Me),F=g(F,le);var hr=q(M)+q(j)+q(O)+q(F);return hr.toLowerCase()},ke.closeMediaStream=function(_){if(_)try{var v;if(_.getTracks){v=_.getTracks();var g=t(v),S;try{for(g.s();!(S=g.n()).done;){var C=S.value;C.stop()}}catch(L){g.e(L)}finally{g.f()}}else{v=_.getAudioTracks();var A=t(v),H;try{for(A.s();!(H=A.n()).done;){var E=H.value;E.stop()}}catch(L){A.e(L)}finally{A.f()}v=_.getVideoTracks();var T=t(v),w;try{for(T.s();!(w=T.n()).done;){var x=w.value;x.stop()}}catch(L){T.e(L)}finally{T.f()}}}catch{(typeof _.stop=="function"||e(_.stop)==="object")&&_.stop()}},ke.cloneArray=function(_){return _&&_.slice()||[]},ke.cloneObject=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _&&Object.assign({},_)||v},ke}var Ht={},ET={get exports(){return Ht},set exports(e){Ht=e}},Mr=typeof Reflect=="object"?Reflect:null,op=Mr&&typeof Mr.apply=="function"?Mr.apply:function(t,l,i){return Function.prototype.apply.call(t,l,i)},ys;Mr&&typeof Mr.ownKeys=="function"?ys=Mr.ownKeys:Object.getOwnPropertySymbols?ys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ys=function(t){return Object.getOwnPropertyNames(t)};function CT(e){console&&console.warn&&console.warn(e)}var Tm=Number.isNaN||function(t){return t!==t};function he(){he.init.call(this)}ET.exports=he;Ht.once=IT;he.EventEmitter=he;he.prototype._events=void 0;he.prototype._eventsCount=0;he.prototype._maxListeners=void 0;var up=10;function xo(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(he,"defaultMaxListeners",{enumerable:!0,get:function(){return up},set:function(e){if(typeof e!="number"||e<0||Tm(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");up=e}});he.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};he.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Tm(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Sm(e){return e._maxListeners===void 0?he.defaultMaxListeners:e._maxListeners}he.prototype.getMaxListeners=function(){return Sm(this)};he.prototype.emit=function(t){for(var l=[],i=1;i<arguments.length;i++)l.push(arguments[i]);var s=t==="error",u=this._events;if(u!==void 0)s=s&&u.error===void 0;else if(!s)return!1;if(s){var n;if(l.length>0&&(n=l[0]),n instanceof Error)throw n;var d=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw d.context=n,d}var h=u[t];if(h===void 0)return!1;if(typeof h=="function")op(h,this,l);else for(var c=h.length,_=Am(h,c),i=0;i<c;++i)op(_[i],this,l);return!0};function Em(e,t,l,i){var s,u,n;if(xo(l),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,l.listener?l.listener:l),u=e._events),n=u[t]),n===void 0)n=u[t]=l,++e._eventsCount;else if(typeof n=="function"?n=u[t]=i?[l,n]:[n,l]:i?n.unshift(l):n.push(l),s=Sm(e),s>0&&n.length>s&&!n.warned){n.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=n.length,CT(d)}return e}he.prototype.addListener=function(t,l){return Em(this,t,l,!1)};he.prototype.on=he.prototype.addListener;he.prototype.prependListener=function(t,l){return Em(this,t,l,!0)};function wT(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Cm(e,t,l){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:l},s=wT.bind(i);return s.listener=l,i.wrapFn=s,s}he.prototype.once=function(t,l){return xo(l),this.on(t,Cm(this,t,l)),this};he.prototype.prependOnceListener=function(t,l){return xo(l),this.prependListener(t,Cm(this,t,l)),this};he.prototype.removeListener=function(t,l){var i,s,u,n,d;if(xo(l),s=this._events,s===void 0)return this;if(i=s[t],i===void 0)return this;if(i===l||i.listener===l)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,i.listener||l));else if(typeof i!="function"){for(u=-1,n=i.length-1;n>=0;n--)if(i[n]===l||i[n].listener===l){d=i[n].listener,u=n;break}if(u<0)return this;u===0?i.shift():RT(i,u),i.length===1&&(s[t]=i[0]),s.removeListener!==void 0&&this.emit("removeListener",t,d||l)}return this};he.prototype.off=he.prototype.removeListener;he.prototype.removeAllListeners=function(t){var l,i,s;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var u=Object.keys(i),n;for(s=0;s<u.length;++s)n=u[s],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(l=i[t],typeof l=="function")this.removeListener(t,l);else if(l!==void 0)for(s=l.length-1;s>=0;s--)this.removeListener(t,l[s]);return this};function wm(e,t,l){var i=e._events;if(i===void 0)return[];var s=i[t];return s===void 0?[]:typeof s=="function"?l?[s.listener||s]:[s]:l?AT(s):Am(s,s.length)}he.prototype.listeners=function(t){return wm(this,t,!0)};he.prototype.rawListeners=function(t){return wm(this,t,!1)};he.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Rm.call(e,t)};he.prototype.listenerCount=Rm;function Rm(e){var t=this._events;if(t!==void 0){var l=t[e];if(typeof l=="function")return 1;if(l!==void 0)return l.length}return 0}he.prototype.eventNames=function(){return this._eventsCount>0?ys(this._events):[]};function Am(e,t){for(var l=new Array(t),i=0;i<t;++i)l[i]=e[i];return l}function RT(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function AT(e){for(var t=new Array(e.length),l=0;l<t.length;++l)t[l]=e[l].listener||e[l];return t}function IT(e,t){return new Promise(function(l,i){function s(n){e.removeListener(t,u),i(n)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",s),l([].slice.call(arguments))}Im(e,t,u,{once:!0}),t!=="error"&&kT(e,s,{once:!0})})}function kT(e,t,l){typeof e.on=="function"&&Im(e,"error",t,l)}function Im(e,t,l,i){if(typeof e.on=="function")i.once?e.once(t,l):e.on(t,l);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(u){i.once&&e.removeEventListener(t,s),l(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Wr={},OT={get exports(){return Wr},set exports(e){Wr=e}},Pu,ap;function NT(){if(ap)return Pu;ap=1;var e=1e3,t=e*60,l=t*60,i=l*24,s=i*7,u=i*365.25;Pu=function(_,v){v=v||{};var g=typeof _;if(g==="string"&&_.length>0)return n(_);if(g==="number"&&isFinite(_))return v.long?h(_):d(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function n(_){if(_=String(_),!(_.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(v){var g=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return g*u;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*i;case"hours":case"hour":case"hrs":case"hr":case"h":return g*l;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function d(_){var v=Math.abs(_);return v>=i?Math.round(_/i)+"d":v>=l?Math.round(_/l)+"h":v>=t?Math.round(_/t)+"m":v>=e?Math.round(_/e)+"s":_+"ms"}function h(_){var v=Math.abs(_);return v>=i?c(_,v,i,"day"):v>=l?c(_,v,l,"hour"):v>=t?c(_,v,t,"minute"):v>=e?c(_,v,e,"second"):_+" ms"}function c(_,v,g,S){var C=v>=g*1.5;return Math.round(_/g)+" "+S+(C?"s":"")}return Pu}function xT(e){l.debug=l,l.default=l,l.coerce=h,l.disable=u,l.enable=s,l.enabled=n,l.humanize=NT(),l.destroy=c,Object.keys(e).forEach(_=>{l[_]=e[_]}),l.names=[],l.skips=[],l.formatters={};function t(_){let v=0;for(let g=0;g<_.length;g++)v=(v<<5)-v+_.charCodeAt(g),v|=0;return l.colors[Math.abs(v)%l.colors.length]}l.selectColor=t;function l(_){let v,g=null,S,C;function A(...H){if(!A.enabled)return;const E=A,T=Number(new Date),w=T-(v||T);E.diff=w,E.prev=v,E.curr=T,v=T,H[0]=l.coerce(H[0]),typeof H[0]!="string"&&H.unshift("%O");let x=0;H[0]=H[0].replace(/%([a-zA-Z%])/g,(q,z)=>{if(q==="%%")return"%";x++;const I=l.formatters[z];if(typeof I=="function"){const P=H[x];q=I.call(E,P),H.splice(x,1),x--}return q}),l.formatArgs.call(E,H),(E.log||l.log).apply(E,H)}return A.namespace=_,A.useColors=l.useColors(),A.color=l.selectColor(_),A.extend=i,A.destroy=l.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(S!==l.namespaces&&(S=l.namespaces,C=l.enabled(_)),C),set:H=>{g=H}}),typeof l.init=="function"&&l.init(A),A}function i(_,v){const g=l(this.namespace+(typeof v>"u"?":":v)+_);return g.log=this.log,g}function s(_){l.save(_),l.namespaces=_,l.names=[],l.skips=[];let v;const g=(typeof _=="string"?_:"").split(/[\s,]+/),S=g.length;for(v=0;v<S;v++)g[v]&&(_=g[v].replace(/\*/g,".*?"),_[0]==="-"?l.skips.push(new RegExp("^"+_.slice(1)+"$")):l.names.push(new RegExp("^"+_+"$")))}function u(){const _=[...l.names.map(d),...l.skips.map(d).map(v=>"-"+v)].join(",");return l.enable(""),_}function n(_){if(_[_.length-1]==="*")return!0;let v,g;for(v=0,g=l.skips.length;v<g;v++)if(l.skips[v].test(_))return!1;for(v=0,g=l.names.length;v<g;v++)if(l.names[v].test(_))return!0;return!1}function d(_){return _.toString().substring(2,_.toString().length-2).replace(/\.\*\?$/,"*")}function h(_){return _ instanceof Error?_.stack||_.message:_}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}var PT=xT;(function(e,t){t.formatArgs=i,t.save=s,t.load=u,t.useColors=l,t.storage=n(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;h.splice(1,0,c,"color: inherit");let _=0,v=0;h[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(_++,g==="%c"&&(v=_))}),h.splice(v,0,c)}t.log=console.debug||console.log||(()=>{});function s(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function u(){let h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h={}.DEBUG),h}function n(){try{return localStorage}catch{}}e.exports=PT(t);const{formatters:d}=e.exports;d.j=function(h){try{return JSON.stringify(h)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(OT,Wr);function bT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function DT(e,t,l){return t&&cp(e.prototype,t),l&&cp(e,l),e}var vr=Wr,mr="JsSIP",je=function(){function e(t){bT(this,e),t?(this._debug=vr.default("".concat(mr,":").concat(t)),this._warn=vr.default("".concat(mr,":WARN:").concat(t)),this._error=vr.default("".concat(mr,":ERROR:").concat(t))):(this._debug=vr.default(mr),this._warn=vr.default("".concat(mr,":WARN")),this._error=vr.default("".concat(mr,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return DT(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}(),Qt={},km={},eo={},UT={get exports(){return eo},set exports(e){eo=e}},fp=UT.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(fp).forEach(function(e){var t=fp[e];t.forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})});(function(e){var t=function(d){return String(Number(d))===d?Number(d):d},l=function(d,h,c,_){if(_&&!c)h[_]=t(d[1]);else for(var v=0;v<c.length;v+=1)d[v+1]!=null&&(h[c[v]]=t(d[v+1]))},i=function(d,h,c){var _=d.name&&d.names;d.push&&!h[d.push]?h[d.push]=[]:_&&!h[d.name]&&(h[d.name]={});var v=d.push?{}:_?h[d.name]:h;l(c.match(d.reg),v,d.names,d.name),d.push&&h[d.push].push(v)},s=eo,u=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(d){var h={},c=[],_=h;return d.split(/(\r\n|\r|\n)/).filter(u).forEach(function(v){var g=v[0],S=v.slice(2);g==="m"&&(c.push({rtp:[],fmtp:[]}),_=c[c.length-1]);for(var C=0;C<(s[g]||[]).length;C+=1){var A=s[g][C];if(A.reg.test(S))return i(A,_,S)}}),h.media=c,h};var n=function(d,h){var c=h.split(/=(.+)/,2);return c.length===2?d[c[0]]=t(c[1]):c.length===1&&h.length>1&&(d[c[0]]=void 0),d};e.parseParams=function(d){return d.split(/;\s?/).reduce(n,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(d){return d.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(d){for(var h=[],c=d.split(" ").map(t),_=0;_<c.length;_+=3)h.push({component:c[_],ip:c[_+1],port:c[_+2]});return h},e.parseImageAttributes=function(d){return d.split(" ").map(function(h){return h.substring(1,h.length-1).split(",").reduce(n,{})})},e.parseSimulcastStreamList=function(d){return d.split(";").map(function(h){return h.split(",").map(function(c){var _,v=!1;return c[0]!=="~"?_=t(c):(_=t(c.substring(1,c.length)),v=!0),{scid:_,paused:v}})})}})(km);var bu=eo,LT=/%[sdv%]/g,MT=function(e){var t=1,l=arguments,i=l.length;return e.replace(LT,function(s){if(t>=i)return s;var u=l[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(u);case"%d":return Number(u);case"%v":return""}})},hl=function(e,t,l){var i=t.format instanceof Function?t.format(t.push?l:l[t.name]):t.format,s=[e+"="+i];if(t.names)for(var u=0;u<t.names.length;u+=1){var n=t.names[u];t.name?s.push(l[t.name][n]):s.push(l[t.names[u]])}else s.push(l[t.name]);return MT.apply(null,s)},FT=["v","o","s","i","u","e","p","c","b","t","r","z","a"],HT=["i","c","b","a"],$T=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(u){u.payloads==null&&(u.payloads="")});var l=t.outerOrder||FT,i=t.innerOrder||HT,s=[];return l.forEach(function(u){bu[u].forEach(function(n){n.name in e&&e[n.name]!=null?s.push(hl(u,n,e)):n.push in e&&e[n.push]!=null&&e[n.push].forEach(function(d){s.push(hl(u,n,d))})})}),e.media.forEach(function(u){s.push(hl("m",bu.m[0],u)),i.forEach(function(n){bu[n].forEach(function(d){d.name in u&&u[d.name]!=null?s.push(hl(n,d,u)):d.push in u&&u[d.push]!=null&&u[d.push].forEach(function(h){s.push(hl(n,d,h))})})})}),s.join(`\r
`)+`\r
`},dr=km,jT=$T;Qt.write=jT;Qt.parse=dr.parse;Qt.parseParams=dr.parseParams;Qt.parseFmtpConfig=dr.parseFmtpConfig;Qt.parsePayloads=dr.parsePayloads;Qt.parseRemoteCandidates=dr.parseRemoteCandidates;Qt.parseImageAttributes=dr.parseImageAttributes;Qt.parseSimulcastStreamList=dr.parseSimulcastStreamList;function Ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ts=function(l){return typeof l}:Ts=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ts(e)}function ef(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}function Ga(e,t){return Ga=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Ga(e,t)}function tf(e){var t=BT();return function(){var i=to(e),s;if(t){var u=to(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return zT(this,s)}}function zT(e,t){return t&&(Ts(t)==="object"||typeof t=="function")?t:qT(e)}function qT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},to(e)}function At(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=VT(e))||t&&e&&typeof e.length=="number"){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function VT(e,t){if(e){if(typeof e=="string")return dp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return dp(e,t)}}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Po(e,t,l){return t&&hp(e.prototype,t),l&&hp(e,l),e}var Om=Qt,WT=je,Ve=De,Pe=Ze(),pp=Zc(),GT=Kt(),Du=new WT("SIPMessage"),Nm=function(){function e(t,l,i,s,u,n){if(si(this,e),!t||!l||!i)return null;s=s||{},this.ua=i,this.headers={},this.method=t,this.ruri=l,this.body=n,this.extraHeaders=Pe.cloneArray(u),this.ua.configuration.extra_headers&&(this.extraHeaders=this.extraHeaders.concat(this.ua.configuration.extra_headers)),s.route_set?this.setHeader("route",s.route_set):i.configuration.use_preloaded_route&&this.setHeader("route","<".concat(i.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",Ve.MAX_FORWARDS);var d=s.to_uri||l,h=s.to_tag?{tag:s.to_tag}:null,c=typeof s.to_display_name<"u"?s.to_display_name:null;this.to=new pp(d,c,h),this.setHeader("to",this.to.toString());var _=s.from_uri||i.configuration.uri,v={tag:s.from_tag||Pe.newTag()},g;typeof s.from_display_name<"u"?g=s.from_display_name:i.configuration.display_name?g=i.configuration.display_name:g=null,this.from=new pp(_,g,v),this.setHeader("from",this.from.toString());var S=s.call_id||i.configuration.jssip_id+Pe.createRandomToken(15);this.call_id=S,this.setHeader("call-id",S);var C=s.cseq||Math.floor(Math.random()*1e4);this.cseq=C,this.setHeader("cseq","".concat(C," ").concat(t))}return Po(e,[{key:"setHeader",value:function(l,i){for(var s=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),u=0;u<this.extraHeaders.length;u++)s.test(this.extraHeaders[u])&&this.extraHeaders.splice(u,1);this.headers[Pe.headerize(l)]=Array.isArray(i)?i:[i]}},{key:"getHeader",value:function(l){var i=this.headers[Pe.headerize(l)];if(i){if(i[0])return i[0]}else{var s=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),u=At(this.extraHeaders),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;if(s.test(d))return d.substring(d.indexOf(":")+1).trim()}}catch(h){u.e(h)}finally{u.f()}}}},{key:"getHeaders",value:function(l){var i=this.headers[Pe.headerize(l)],s=[];if(i){var u=At(i),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;s.push(d)}}catch(g){u.e(g)}finally{u.f()}return s}else{var h=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),c=At(this.extraHeaders),_;try{for(c.s();!(_=c.n()).done;){var v=_.value;h.test(v)&&s.push(v.substring(v.indexOf(":")+1).trim())}}catch(g){c.e(g)}finally{c.f()}return s}}},{key:"hasHeader",value:function(l){if(this.headers[Pe.headerize(l)])return!0;var i=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),s=At(this.extraHeaders),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;if(i.test(n))return!0}}catch(d){s.e(d)}finally{s.f()}return!1}},{key:"parseSDP",value:function(l){return!l&&this.sdp?this.sdp:(this.sdp=Om.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){var l="".concat(this.method," ").concat(this.ruri,` SIP/2.0\r
`);for(var i in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,i)){var s=At(this.headers[i]),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;l+="".concat(i,": ").concat(n,`\r
`)}}catch(S){s.e(S)}finally{s.f()}}var d=At(this.extraHeaders),h;try{for(d.s();!(h=d.n()).done;){var c=h.value;l+="".concat(c.trim(),`\r
`)}}catch(S){d.e(S)}finally{d.f()}var _=[];switch(this.method){case Ve.REGISTER:_.push("path","gruu");break;case Ve.INVITE:this.ua.configuration.session_timers&&_.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&_.push("gruu"),_.push("ice","replaces");break;case Ve.UPDATE:this.ua.configuration.session_timers&&_.push("timer"),_.push("ice");break}_.push("outbound");var v=this.ua.configuration.user_agent||Ve.USER_AGENT;if(l+="Allow: ".concat(Ve.ALLOWED_METHODS,`\r
`),l+="Supported: ".concat(_,`\r
`),l+="User-Agent: ".concat(v,`\r
`),this.body){var g=Pe.str_utf8_length(this.body);l+="Content-Length: ".concat(g,`\r
\r
`),l+=this.body}else l+=`Content-Length: 0\r
\r
`;return l}},{key:"clone",value:function(){var l=new e(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(i){l.headers[i]=this.headers[i].slice()},this),l.body=this.body,l.extraHeaders=Pe.cloneArray(this.extraHeaders),l.to=this.to,l.from=this.from,l.call_id=this.call_id,l.cseq=this.cseq,l}}]),e}(),KT=function(e){ef(l,e);var t=tf(l);function l(i,s,u,n,d){var h;return si(this,l),h=t.call(this,Ve.INVITE,i,s,u,n,d),h.transaction=null,h}return Po(l,[{key:"cancel",value:function(s){this.transaction.cancel(s)}},{key:"clone",value:function(){var s=new l(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(u){s.headers[u]=this.headers[u].slice()},this),s.body=this.body,s.extraHeaders=Pe.cloneArray(this.extraHeaders),s.to=this.to,s.from=this.from,s.call_id=this.call_id,s.cseq=this.cseq,s.transaction=this.transaction,s}}]),l}(Nm),xm=function(){function e(){si(this,e),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return Po(e,[{key:"addHeader",value:function(l,i){var s={raw:i};l=Pe.headerize(l),this.headers[l]?this.headers[l].push(s):this.headers[l]=[s]}},{key:"getHeader",value:function(l){var i=this.headers[Pe.headerize(l)];if(i){if(i[0])return i[0].raw}else return}},{key:"getHeaders",value:function(l){var i=this.headers[Pe.headerize(l)],s=[];if(!i)return[];var u=At(i),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;s.push(d.raw)}}catch(h){u.e(h)}finally{u.f()}return s}},{key:"hasHeader",value:function(l){return!!this.headers[Pe.headerize(l)]}},{key:"parseHeader",value:function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l=Pe.headerize(l),this.headers[l]){if(i>=this.headers[l].length){Du.debug('not so many "'.concat(l,'" headers present'));return}}else{Du.debug('header "'.concat(l,'" not present'));return}var s=this.headers[l][i],u=s.raw;if(s.parsed)return s.parsed;var n=GT.parse(u,l.replace(/-/g,"_"));if(n===-1){this.headers[l].splice(i,1),Du.debug('error parsing "'.concat(l,'" header field with value "').concat(u,'"'));return}else return s.parsed=n,n}},{key:"s",value:function(l,i){return this.parseHeader(l,i)}},{key:"setHeader",value:function(l,i){var s={raw:i};this.headers[Pe.headerize(l)]=[s]}},{key:"parseSDP",value:function(l){return!l&&this.sdp?this.sdp:(this.sdp=Om.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){return this.data}}]),e}(),QT=function(e){ef(l,e);var t=tf(l);function l(i){var s;return si(this,l),s=t.call(this),s.ua=i,s.headers={},s.ruri=null,s.transport=null,s.server_transaction=null,s}return Po(l,[{key:"reply",value:function(s,u,n,d,h,c){var _=[],v=this.getHeader("To");if(s=s||null,u=u||null,!s||s<100||s>699)throw new TypeError("Invalid status_code: ".concat(s));if(u&&typeof u!="string"&&!(u instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(u));u=u||Ve.REASON_PHRASE[s]||"",n=Pe.cloneArray(n),this.ua.configuration.extra_headers&&(n=n.concat(this.ua.configuration.extra_headers));var g="SIP/2.0 ".concat(s," ").concat(u,`\r
`);if(this.method===Ve.INVITE&&s>100&&s<=200){var S=this.getHeaders("record-route"),C=At(S),A;try{for(C.s();!(A=C.n()).done;){var H=A.value;g+="Record-Route: ".concat(H,`\r
`)}}catch(P){C.e(P)}finally{C.f()}}var E=this.getHeaders("via"),T=At(E),w;try{for(T.s();!(w=T.n()).done;){var x=w.value;g+="Via: ".concat(x,`\r
`)}}catch(P){T.e(P)}finally{T.f()}!this.to_tag&&s>100?v+=";tag=".concat(Pe.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(v+=";tag=".concat(this.to_tag)),g+="To: ".concat(v,`\r
`),g+="From: ".concat(this.getHeader("From"),`\r
`),g+="Call-ID: ".concat(this.call_id,`\r
`),g+="CSeq: ".concat(this.cseq," ").concat(this.method,`\r
`);var L=At(n),q;try{for(L.s();!(q=L.n()).done;){var z=q.value;g+="".concat(z.trim(),`\r
`)}}catch(P){L.e(P)}finally{L.f()}switch(this.method){case Ve.INVITE:this.ua.configuration.session_timers&&_.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&_.push("gruu"),_.push("ice","replaces");break;case Ve.UPDATE:this.ua.configuration.session_timers&&_.push("timer"),d&&_.push("ice"),_.push("replaces")}if(_.push("outbound"),this.method===Ve.OPTIONS?(g+="Allow: ".concat(Ve.ALLOWED_METHODS,`\r
`),g+="Accept: ".concat(Ve.ACCEPTED_BODY_TYPES,`\r
`)):s===405?g+="Allow: ".concat(Ve.ALLOWED_METHODS,`\r
`):s===415&&(g+="Accept: ".concat(Ve.ACCEPTED_BODY_TYPES,`\r
`)),g+="Supported: ".concat(_,`\r
`),d){var I=Pe.str_utf8_length(d);g+=`Content-Type: application/sdp\r
`,g+="Content-Length: ".concat(I,`\r
\r
`),g+=d}else g+="Content-Length: ".concat(0,`\r
\r
`);this.server_transaction.receiveResponse(s,g,h,c)}},{key:"reply_sl",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.getHeaders("via");if(!s||s<100||s>699)throw new TypeError("Invalid status_code: ".concat(s));if(u&&typeof u!="string"&&!(u instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(u));u=u||Ve.REASON_PHRASE[s]||"";var d="SIP/2.0 ".concat(s," ").concat(u,`\r
`),h=At(n),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;d+="Via: ".concat(_,`\r
`)}}catch(A){h.e(A)}finally{h.f()}var v=this.getHeader("To");if(!this.to_tag&&s>100?v+=";tag=".concat(Pe.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(v+=";tag=".concat(this.to_tag)),d+="To: ".concat(v,`\r
`),d+="From: ".concat(this.getHeader("From"),`\r
`),d+="Call-ID: ".concat(this.call_id,`\r
`),d+="CSeq: ".concat(this.cseq," ").concat(this.method,`\r
`),this.ua.configuration.extra_headers){var g=At(this.ua.configuration.extra_headers),S;try{for(g.s();!(S=g.n()).done;){var C=S.value;d+="".concat(C.trim(),`\r
`)}}catch(A){g.e(A)}finally{g.f()}}d+="Content-Length: ".concat(0,`\r
\r
`),this.transport.send(d)}}]),l}(xm),YT=function(e){ef(l,e);var t=tf(l);function l(){var i;return si(this,l),i=t.call(this),i.headers={},i.status_code=null,i.reason_phrase=null,i}return l}(xm),hn={OutgoingRequest:Nm,InitialOutgoingInviteRequest:KT,IncomingRequest:QT,IncomingResponse:YT};function XT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _p(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function JT(e,t,l){return t&&_p(e.prototype,t),l&&_p(e,l),e}var ZT=je,Jt=Ze(),Pt=new ZT("DigestAuthentication"),eS=function(){function e(t){XT(this,e),this._credentials=t,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}return JT(e,[{key:"get",value:function(l){switch(l){case"realm":return this._realm;case"ha1":return this._ha1;default:Pt.warn('get() | cannot get "%s" parameter',l);return}}},{key:"authenticate",value:function(l,i){var s=l.method,u=l.ruri,n=l.body,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(this._algorithm=i.algorithm,this._realm=i.realm,this._nonce=i.nonce,this._opaque=i.opaque,this._stale=i.stale,this._algorithm){if(this._algorithm!=="MD5")return Pt.warn('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return Pt.warn("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return Pt.warn("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return Pt.warn("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return Pt.warn('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(i.qop)if(i.qop.indexOf("auth-int")>-1)this._qop="auth-int";else if(i.qop.indexOf("auth")>-1)this._qop="auth";else return Pt.warn('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;else this._qop=null;this._method=s,this._uri=u,this._cnonce=d||Jt.createRandomToken(12),this._nc+=1;var h=Number(this._nc).toString(16);this._ncHex="00000000".substr(0,8-h.length)+h,this._nc===4294967296&&(this._nc=1,this._ncHex="00000001"),this._credentials.password?this._ha1=Jt.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._ha1=this._credentials.ha1;var c,_;return this._qop==="auth"?(c="".concat(this._method,":").concat(this._uri),_=Jt.calculateMD5(c),Pt.debug('authenticate() | using qop=auth [a2:"%s"]',c),this._response=Jt.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(_))):this._qop==="auth-int"?(c="".concat(this._method,":").concat(this._uri,":").concat(Jt.calculateMD5(n||"")),_=Jt.calculateMD5(c),Pt.debug('authenticate() | using qop=auth-int [a2:"%s"]',c),this._response=Jt.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(_))):this._qop===null&&(c="".concat(this._method,":").concat(this._uri),_=Jt.calculateMD5(c),Pt.debug('authenticate() | using qop=null [a2:"%s"]',c),this._response=Jt.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(_))),Pt.debug("authenticate() | response generated"),!0}},{key:"toString",value:function(){var l=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return l.push("algorithm=".concat(this._algorithm)),l.push('username="'.concat(this._credentials.username,'"')),l.push('realm="'.concat(this._realm,'"')),l.push('nonce="'.concat(this._nonce,'"')),l.push('uri="'.concat(this._uri,'"')),l.push('response="'.concat(this._response,'"')),this._opaque&&l.push('opaque="'.concat(this._opaque,'"')),this._qop&&(l.push("qop=".concat(this._qop)),l.push('cnonce="'.concat(this._cnonce,'"')),l.push("nc=".concat(this._ncHex))),"Digest ".concat(l.join(", "))}}]),e}(),Zt=500,tS=4e3,vp=5e3,Pm={T1:Zt,T2:tS,T4:vp,TIMER_B:64*Zt,TIMER_D:0*Zt,TIMER_F:64*Zt,TIMER_H:64*Zt,TIMER_I:0*Zt,TIMER_J:0*Zt,TIMER_K:0*vp,TIMER_L:64*Zt,TIMER_M:64*Zt,PROVISIONAL_RESPONSE_INTERVAL:6e4};function Ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(l){return typeof l}:Ss=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ss(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ui(e,t,l){return t&&mp(e.prototype,t),l&&mp(e,l),e}function ai(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}function Ka(e,t){return Ka=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Ka(e,t)}function ci(e){var t=rS();return function(){var i=no(e),s;if(t){var u=no(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return nS(this,s)}}function nS(e,t){return t&&(Ss(t)==="object"||typeof t=="function")?t:Mn(e)}function Mn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},no(e)}var fi=Ht.EventEmitter,di=je,Dl=De,gp=hn,Gt=Pm,yp=new di("NonInviteClientTransaction"),Gi=new di("InviteClientTransaction"),lS=new di("AckClientTransaction"),Tp=new di("NonInviteServerTransaction"),Ki=new di("InviteServerTransaction"),V={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},iS=function(e){ai(l,e);var t=ci(l);function l(i,s,u,n){var d;oi(this,l),d=t.call(this),d.type=V.NON_INVITE_CLIENT,d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.ua=i,d.transport=s,d.request=u,d.eventHandlers=n;var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d.ua.newTransaction(Mn(d)),d}return ui(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"send",value:function(){var s=this;this.stateChanged(V.STATUS_TRYING),this.F=setTimeout(function(){s.timer_F()},Gt.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){yp.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){yp.debug("Timer F expired for transaction ".concat(this.id)),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(s){var u=this,n=s.status_code;if(n<200)switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(s);break}else switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),clearTimeout(this.F),n===408?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(s),this.K=setTimeout(function(){u.timer_K()},Gt.TIMER_K);break;case V.STATUS_COMPLETED:break}}},{key:"C",get:function(){return V}}]),l}(fi),sS=function(e){ai(l,e);var t=ci(l);function l(i,s,u,n){var d;oi(this,l),d=t.call(this),d.type=V.INVITE_CLIENT,d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.ua=i,d.transport=s,d.request=u,d.eventHandlers=n,u.transaction=Mn(d);var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d.ua.newTransaction(Mn(d)),d}return ui(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"send",value:function(){var s=this;this.stateChanged(V.STATUS_CALLING),this.B=setTimeout(function(){s.timer_B()},Gt.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==V.STATUS_ACCEPTED&&(Gi.debug("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){Gi.debug("Timer M expired for transaction ".concat(this.id)),this.state===V.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){Gi.debug("Timer B expired for transaction ".concat(this.id)),this.state===V.STATUS_CALLING&&(this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){Gi.debug("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(s){var u=this,n=new gp.OutgoingRequest(Dl.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});n.setHeader("from",this.request.getHeader("from")),n.setHeader("via",this.request.getHeader("via")),n.setHeader("to",s.getHeader("to")),this.D=setTimeout(function(){u.timer_D()},Gt.TIMER_D),this.transport.send(n)}},{key:"cancel",value:function(s){if(this.state===V.STATUS_PROCEEDING){var u=new gp.OutgoingRequest(Dl.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});u.setHeader("from",this.request.getHeader("from")),u.setHeader("via",this.request.getHeader("via")),u.setHeader("to",this.request.getHeader("to")),s&&u.setHeader("reason",s),this.transport.send(u)}}},{key:"receiveResponse",value:function(s){var u=this,n=s.status_code;if(n>=100&&n<=199)switch(this.state){case V.STATUS_CALLING:this.stateChanged(V.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(s);break;case V.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(s);break}else if(n>=200&&n<=299)switch(this.state){case V.STATUS_CALLING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_ACCEPTED),this.M=setTimeout(function(){u.timer_M()},Gt.TIMER_M),this.eventHandlers.onReceiveResponse(s);break;case V.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(s);break}else if(n>=300&&n<=699)switch(this.state){case V.STATUS_CALLING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),this.sendACK(s),this.eventHandlers.onReceiveResponse(s);break;case V.STATUS_COMPLETED:this.sendACK(s);break}}},{key:"C",get:function(){return V}}]),l}(fi),oS=function(e){ai(l,e);var t=ci(l);function l(i,s,u,n){var d;oi(this,l),d=t.call(this),d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.transport=s,d.request=u,d.eventHandlers=n;var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d}return ui(l,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){lS.debug("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return V}}]),l}(fi),uS=function(e){ai(l,e);var t=ci(l);function l(i,s,u){var n;return oi(this,l),n=t.call(this),n.type=V.NON_INVITE_SERVER,n.id=u.via_branch,n.ua=i,n.transport=s,n.request=u,n.last_response="",u.server_transaction=Mn(n),n.state=V.STATUS_TRYING,i.newTransaction(Mn(n)),n}return ui(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"timer_J",value:function(){Tp.debug("Timer J expired for transaction ".concat(this.id)),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,Tp.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(s,u,n,d){var h=this;if(s===100)switch(this.state){case V.STATUS_TRYING:this.stateChanged(V.STATUS_PROCEEDING),this.transport.send(u)||this.onTransportError();break;case V.STATUS_PROCEEDING:this.last_response=u,this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break}else if(s>=200&&s<=699)switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),this.last_response=u,this.J=setTimeout(function(){h.timer_J()},Gt.TIMER_J),this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break;case V.STATUS_COMPLETED:break}}},{key:"C",get:function(){return V}}]),l}(fi),aS=function(e){ai(l,e);var t=ci(l);function l(i,s,u){var n;return oi(this,l),n=t.call(this),n.type=V.INVITE_SERVER,n.id=u.via_branch,n.ua=i,n.transport=s,n.request=u,n.last_response="",u.server_transaction=Mn(n),n.state=V.STATUS_PROCEEDING,i.newTransaction(Mn(n)),n.resendProvisionalTimer=null,u.reply(100),n}return ui(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"timer_H",value:function(){Ki.debug("Timer H expired for transaction ".concat(this.id)),this.state===V.STATUS_COMPLETED&&Ki.debug("ACK not received, dialog will be terminated"),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){Ki.debug("Timer L expired for transaction ".concat(this.id)),this.state===V.STATUS_ACCEPTED&&(this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,Ki.debug("transport error occurred, deleting transaction ".concat(this.id)),this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(s,u,n,d){var h=this;if(s>=100&&s<=199)switch(this.state){case V.STATUS_PROCEEDING:this.transport.send(u)||this.onTransportError(),this.last_response=u;break}if(s>100&&s<=199&&this.state===V.STATUS_PROCEEDING)this.resendProvisionalTimer===null&&(this.resendProvisionalTimer=setInterval(function(){h.resend_provisional()},Gt.PROVISIONAL_RESPONSE_INTERVAL));else if(s>=200&&s<=299)switch(this.state){case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_ACCEPTED),this.last_response=u,this.L=setTimeout(function(){h.timer_L()},Gt.TIMER_L),this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case V.STATUS_ACCEPTED:this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break}else if(s>=300&&s<=699)switch(this.state){case V.STATUS_PROCEEDING:this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(u)?(this.stateChanged(V.STATUS_COMPLETED),this.H=setTimeout(function(){h.timer_H()},Gt.TIMER_H),n&&n()):(this.onTransportError(),d&&d());break}}},{key:"C",get:function(){return V}}]),l}(fi);function cS(e,t){var l=e._transactions,i;switch(t.method){case Dl.INVITE:if(i=l.ist[t.via_branch],i){switch(i.state){case V.STATUS_PROCEEDING:i.transport.send(i.last_response);break;case V.STATUS_ACCEPTED:break}return!0}break;case Dl.ACK:if(i=l.ist[t.via_branch],i){if(i.state===V.STATUS_ACCEPTED)return!1;if(i.state===V.STATUS_COMPLETED)return i.state=V.STATUS_CONFIRMED,i.I=setTimeout(function(){i.timer_I()},Gt.TIMER_I),!0}else return!1;break;case Dl.CANCEL:return i=l.ist[t.via_branch],i?(t.reply_sl(200),i.state!==V.STATUS_PROCEEDING):(t.reply_sl(481),!0);default:if(i=l.nist[t.via_branch],i){switch(i.state){case V.STATUS_TRYING:break;case V.STATUS_PROCEEDING:case V.STATUS_COMPLETED:i.transport.send(i.last_response);break}return!0}break}}var hi={C:V,NonInviteClientTransaction:iS,InviteClientTransaction:sS,AckClientTransaction:oS,NonInviteServerTransaction:uS,InviteServerTransaction:aS,checkTransaction:cS};function fS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dS(e,t,l){return t&&Sp(e.prototype,t),l&&Sp(e,l),e}var hS=je,Ep=De,pS=eS,Uu=hi,_S=new hS("RequestSender"),Lu={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}},pi=function(){function e(t,l,i){fS(this,e),this._ua=t,this._eventHandlers=i,this._method=l.method,this._request=l,this._auth=null,this._challenged=!1,this._staled=!1;for(var s in Lu)Object.prototype.hasOwnProperty.call(Lu,s)&&(this._eventHandlers[s]||(this._eventHandlers[s]=Lu[s]));t.status===t.C.STATUS_USER_CLOSED&&(this._method!==Ep.BYE||this._method!==Ep.ACK)&&this._eventHandlers.onTransportError()}return dS(e,[{key:"send",value:function(){var l=this,i={onRequestTimeout:function(){l._eventHandlers.onRequestTimeout()},onTransportError:function(){l._eventHandlers.onTransportError()},onReceiveResponse:function(u){l._receiveResponse(u)}};switch(this._method){case"INVITE":this.clientTransaction=new Uu.InviteClientTransaction(this._ua,this._ua.transport,this._request,i);break;case"ACK":this.clientTransaction=new Uu.AckClientTransaction(this._ua,this._ua.transport,this._request,i);break;default:this.clientTransaction=new Uu.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,i)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(l){var i,s,u=l.status_code;if((u===401||u===407)&&(this._ua.configuration.password!==null||this._ua.configuration.ha1!==null)){if(l.status_code===401?(i=l.parseHeader("www-authenticate"),s="authorization"):(i=l.parseHeader("proxy-authenticate"),s="proxy-authorization"),!i){_S.debug("".concat(l.status_code," with wrong or missing challenge, cannot authenticate")),this._eventHandlers.onReceiveResponse(l);return}if(!this._challenged||!this._staled&&i.stale===!0){if(this._auth||(this._auth=new pS({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,i)){this._eventHandlers.onReceiveResponse(l);return}this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),i.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(s,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(l)}else this._eventHandlers.onReceiveResponse(l)}}]),e}();function vS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mS(e,t,l){return t&&Cp(e.prototype,t),l&&Cp(e,l),e}var gS=je,Mu=Ze(),Gn=De,wp=hn,Rp=pi,pl=new gS("Registrator"),Qi=10,yS=function(){function e(t,l){vS(this,e),this._reg_id=1,this._ua=t,this._transport=l,this._registrar=t.configuration.registrar_server,this._expires=t.configuration.register_expires,this._call_id=Mu.createRandomToken(22),this._cseq=0,this._to_uri=t.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._sipInstance='"<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"'),this._contact+=";reg-id=".concat(this._reg_id),this._contact+=";+sip.instance=".concat(this._sipInstance)}return mS(e,[{key:"setExtraHeaders",value:function(l){Array.isArray(l)||(l=[]),this._extraHeaders=l.slice()}},{key:"setExtraContactParams",value:function(l){l instanceof Object||(l={}),this._extraContactParams="";for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)){var s=l[i];this._extraContactParams+=";".concat(i),s&&(this._extraContactParams+="=".concat(s))}}},{key:"register",value:function(){var l=this;if(this._registering){pl.debug("Register request in progress...");return}var i=this._extraHeaders.slice();i.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),i.push("Expires: ".concat(this._expires));var s=new wp.OutgoingRequest(Gn.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},i),u=new Rp(this._ua,s,{onRequestTimeout:function(){l._registrationFailure(null,Gn.causes.REQUEST_TIMEOUT)},onTransportError:function(){l._registrationFailure(null,Gn.causes.CONNECTION_ERROR)},onAuthenticated:function(){l._cseq+=1},onReceiveResponse:function(d){if(d.cseq===l._cseq)switch(l._registrationTimer!==null&&(clearTimeout(l._registrationTimer),l._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(d.status_code):break;case/^2[0-9]{2}$/.test(d.status_code):{if(l._registering=!1,!d.hasHeader("Contact")){pl.debug("no Contact header in response to REGISTER, response ignored");break}var h=d.headers.Contact.reduce(function(S,C){return S.concat(C.parsed)},[]),c=h.find(function(S){return l._sipInstance===S.getParam("+sip.instance")&&l._reg_id===parseInt(S.getParam("reg-id"))});if(c||(c=h.find(function(S){return S.uri.user===l._ua.contact.uri.user})),!c){pl.debug("no Contact header pointing to us, response ignored");break}var _=c.getParam("expires");!_&&d.hasHeader("expires")&&(_=d.getHeader("expires")),_||(_=l._expires),_=Number(_),_<Qi&&(_=Qi);var v=_>64?_*1e3/2+Math.floor((_/2-32)*1e3*Math.random()):_*1e3-5e3;l._registrationTimer=setTimeout(function(){l._registrationTimer=null,l._ua.listeners("registrationExpiring").length===0?l.register():l._ua.emit("registrationExpiring")},v),c.hasParam("temp-gruu")&&(l._ua.contact.temp_gruu=c.getParam("temp-gruu").replace(/"/g,"")),c.hasParam("pub-gruu")&&(l._ua.contact.pub_gruu=c.getParam("pub-gruu").replace(/"/g,"")),l._registered||(l._registered=!0,l._ua.registered({response:d}));break}case/^423$/.test(d.status_code):{d.hasHeader("min-expires")?(l._expires=Number(d.getHeader("min-expires")),l._expires<Qi&&(l._expires=Qi),l.register()):(pl.debug("423 response received for REGISTER without Min-Expires"),l._registrationFailure(d,Gn.causes.SIP_FAILURE_CODE));break}default:{var g=Mu.sipErrorCause(d.status_code);l._registrationFailure(d,g)}}}});this._registering=!0,u.send()}},{key:"unregister",value:function(){var l=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._registered){pl.debug("already unregistered");return}this._registered=!1,this._registrationTimer!==null&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var s=this._extraHeaders.slice();i.all?s.push("Contact: *".concat(this._extraContactParams)):s.push("Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),s.push("Expires: 0");var u=new wp.OutgoingRequest(Gn.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},s),n=new Rp(this._ua,u,{onRequestTimeout:function(){l._unregistered(null,Gn.causes.REQUEST_TIMEOUT)},onTransportError:function(){l._unregistered(null,Gn.causes.CONNECTION_ERROR)},onAuthenticated:function(){l._cseq+=1},onReceiveResponse:function(h){switch(!0){case/^1[0-9]{2}$/.test(h.status_code):break;case/^2[0-9]{2}$/.test(h.status_code):l._unregistered(h);break;default:{var c=Mu.sipErrorCause(h.status_code);l._unregistered(h,c)}}}});n.send()}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,this._registrationTimer!==null&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(l,i){this._registering=!1,this._ua.registrationFailed({response:l||null,cause:i}),this._registered&&(this._registered=!1,this._ua.unregistered({response:l||null,cause:i}))}},{key:"_unregistered",value:function(l,i){this._registering=!1,this._registered=!1,this._ua.unregistered({response:l||null,cause:i||null})}},{key:"registered",get:function(){return this._registered}}]),e}();function TS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function SS(e,t,l){return t&&Ap(e.prototype,t),l&&Ap(e,l),e}var Fu=De,Yi=hi,ES=pi,Hu={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}},CS=function(){function e(t,l,i){TS(this,e),this._dialog=t,this._ua=t._ua,this._request=l,this._eventHandlers=i,this._reattempt=!1,this._reattemptTimer=null;for(var s in Hu)Object.prototype.hasOwnProperty.call(Hu,s)&&(this._eventHandlers[s]||(this._eventHandlers[s]=Hu[s]))}return SS(e,[{key:"send",value:function(){var l=this,i=new ES(this._ua,this._request,{onRequestTimeout:function(){l._eventHandlers.onRequestTimeout()},onTransportError:function(){l._eventHandlers.onTransportError()},onAuthenticated:function(n){l._eventHandlers.onAuthenticated(n)},onReceiveResponse:function(n){l._receiveResponse(n)}});if(i.send(),(this._request.method===Fu.INVITE||this._request.method===Fu.UPDATE&&this._request.body)&&i.clientTransaction.state!==Yi.C.STATUS_TERMINATED){this._dialog.uac_pending_reply=!0;var s=function u(){(i.clientTransaction.state===Yi.C.STATUS_ACCEPTED||i.clientTransaction.state===Yi.C.STATUS_COMPLETED||i.clientTransaction.state===Yi.C.STATUS_TERMINATED)&&(i.clientTransaction.removeListener("stateChanged",u),l._dialog.uac_pending_reply=!1)};i.clientTransaction.on("stateChanged",s)}}},{key:"_receiveResponse",value:function(l){var i=this;l.status_code===408||l.status_code===481?this._eventHandlers.onDialogError(l):l.method===Fu.INVITE&&l.status_code===491?this._reattempt?l.status_code>=200&&l.status_code<300?this._eventHandlers.onSuccessResponse(l):l.status_code>=300&&this._eventHandlers.onErrorResponse(l):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){i._dialog.isTerminated()||(i._reattempt=!0,i.send())},1e3)):l.status_code>=200&&l.status_code<300?this._eventHandlers.onSuccessResponse(l):l.status_code>=300&&this._eventHandlers.onErrorResponse(l)}},{key:"request",get:function(){return this._request}}]),e}();function wS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ip(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kp(e,t,l){return t&&Ip(e.prototype,t),l&&Ip(e,l),e}var RS=je,Op=hn,yn=De,_l=hi,AS=CS,$u=Ze(),ju=new RS("Dialog"),Tn={STATUS_EARLY:1,STATUS_CONFIRMED:2,STATUS_TERMINATED:3},IS=function(){kp(e,null,[{key:"C",get:function(){return Tn}}]);function e(t,l,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Tn.STATUS_CONFIRMED;if(wS(this,e),this._owner=t,this._ua=t._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!l.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};l instanceof Op.IncomingResponse&&(s=l.status_code<200?Tn.STATUS_EARLY:Tn.STATUS_CONFIRMED);var u=l.parseHeader("contact");i==="UAS"?(this._id={call_id:l.call_id,local_tag:l.to_tag,remote_tag:l.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=s,this._remote_seqnum=l.cseq,this._local_uri=l.parseHeader("to").uri,this._remote_uri=l.parseHeader("from").uri,this._remote_target=u.uri,this._route_set=l.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):i==="UAC"&&(this._id={call_id:l.call_id,local_tag:l.from_tag,remote_tag:l.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=s,this._local_seqnum=l.cseq,this._local_uri=l.parseHeader("from").uri,this._remote_uri=l.parseHeader("to").uri,this._remote_target=u.uri,this._route_set=l.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),ju.debug("new ".concat(i," dialog created with status ").concat(this._state===Tn.STATUS_EARLY?"EARLY":"CONFIRMED"))}return kp(e,[{key:"isTerminated",value:function(){return this._status===Tn.STATUS_TERMINATED}},{key:"update",value:function(l,i){this._state=Tn.STATUS_CONFIRMED,ju.debug("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),i==="UAC"&&(this._route_set=l.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){ju.debug("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this),this._state=Tn.STATUS_TERMINATED}},{key:"sendRequest",value:function(l){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=$u.cloneArray(s.extraHeaders),n=$u.cloneObject(s.eventHandlers),d=s.body||null,h=this._createRequest(l,u,d);n.onAuthenticated=function(){i._local_seqnum+=1};var c=new AS(this,h,n);return c.send(),h}},{key:"receiveRequest",value:function(l){this._checkInDialogRequest(l)&&(l.method===yn.ACK&&this._ack_seqnum!==null?this._ack_seqnum=null:l.method===yn.INVITE&&(this._ack_seqnum=l.cseq),this._owner.receiveRequest(l))}},{key:"_createRequest",value:function(l,i,s){i=$u.cloneArray(i),this._local_seqnum||(this._local_seqnum=Math.floor(Math.random()*1e4));var u=l===yn.CANCEL||l===yn.ACK?this._local_seqnum:this._local_seqnum+=1,n=new Op.OutgoingRequest(l,this._remote_target,this._ua,{cseq:u,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},i,s);return n}},{key:"_checkInDialogRequest",value:function(l){var i=this;if(!this._remote_seqnum)this._remote_seqnum=l.cseq;else if(l.cseq<this._remote_seqnum)if(l.method===yn.ACK){if(this._ack_seqnum===null||l.cseq!==this._ack_seqnum)return!1}else return l.reply(500),!1;else l.cseq>this._remote_seqnum&&(this._remote_seqnum=l.cseq);if(l.method===yn.INVITE||l.method===yn.UPDATE&&l.body){if(this._uac_pending_reply===!0)l.reply(491);else if(this._uas_pending_reply===!0){var s=(Math.random()*10|0)+1;return l.reply(500,null,["Retry-After:".concat(s)]),!1}else{this._uas_pending_reply=!0;var u=function n(){(l.server_transaction.state===_l.C.STATUS_ACCEPTED||l.server_transaction.state===_l.C.STATUS_COMPLETED||l.server_transaction.state===_l.C.STATUS_TERMINATED)&&(l.server_transaction.removeListener("stateChanged",n),i._uas_pending_reply=!1)};l.server_transaction.on("stateChanged",u)}l.hasHeader("contact")&&l.server_transaction.on("stateChanged",function(){l.server_transaction.state===_l.C.STATUS_ACCEPTED&&(i._remote_target=l.parseHeader("contact").uri)})}else l.method===yn.NOTIFY&&l.hasHeader("contact")&&l.server_transaction.on("stateChanged",function(){l.server_transaction.state===_l.C.STATUS_COMPLETED&&(i._remote_target=l.parseHeader("contact").uri)});return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(l){this._local_seqnum=l}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(l){this._uac_pending_reply=l}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),e}(),ro={},kS={get exports(){return ro},set exports(e){ro=e}};function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(l){return typeof l}:Es=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Es(e)}function OS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Np(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function NS(e,t,l){return t&&Np(e.prototype,t),l&&Np(e,l),e}function xS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}function Qa(e,t){return Qa=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Qa(e,t)}function PS(e){var t=US();return function(){var i=lo(e),s;if(t){var u=lo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return bS(this,s)}}function bS(e,t){return t&&(Es(t)==="object"||typeof t=="function")?t:DS(e)}function DS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function US(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function lo(e){return lo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},lo(e)}var LS=Ht.EventEmitter,MS=je,FS=De,HS=jn,xp=Ze(),$S=new MS("RTCSession:DTMF"),bm={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};kS.exports=function(e){xS(l,e);var t=PS(l);function l(i){var s;return OS(this,l),s=t.call(this),s._session=i,s._direction=null,s._tone=null,s._duration=null,s._request=null,s}return NS(l,[{key:"send",value:function(s){var u=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s===void 0)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new HS.InvalidStateError(this._session.status);var d=xp.cloneArray(n.extraHeaders);if(this.eventHandlers=xp.cloneObject(n.eventHandlers),typeof s=="string")s=s.toUpperCase();else if(typeof s=="number")s=s.toString();else throw new TypeError("Invalid tone: ".concat(s));if(s.match(/^[0-9A-DR#*]$/))this._tone=s;else throw new TypeError("Invalid tone: ".concat(s));this._duration=n.duration,d.push("Content-Type: application/dtmf-relay");var h="Signal=".concat(this._tone,`\r
`);h+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(FS.INFO,{extraHeaders:d,eventHandlers:{onSuccessResponse:function(_){u.emit("succeeded",{originator:"remote",response:_})},onErrorResponse:function(_){u.eventHandlers.onFailed&&u.eventHandlers.onFailed(),u.emit("failed",{originator:"remote",response:_})},onRequestTimeout:function(){u._session.onRequestTimeout()},onTransportError:function(){u._session.onTransportError()},onDialogError:function(){u._session.onDialogError()}},body:h})}},{key:"init_incoming",value:function(s){var u=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,n=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=s,s.reply(200),s.body){var d=s.body.split(`
`);d.length>=1&&u.test(d[0])&&(this._tone=d[0].replace(u,"$2")),d.length>=2&&n.test(d[1])&&(this._duration=parseInt(d[1].replace(n,"$2"),10))}this._duration||(this._duration=bm.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:s}):$S.debug("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}]),l}(LS);ro.C=bm;function Cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(l){return typeof l}:Cs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Cs(e)}function jS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zS(e,t,l){return t&&Pp(e.prototype,t),l&&Pp(e,l),e}function qS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ya(e,t)}function Ya(e,t){return Ya=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Ya(e,t)}function BS(e){var t=GS();return function(){var i=io(e),s;if(t){var u=io(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return VS(this,s)}}function VS(e,t){return t&&(Cs(t)==="object"||typeof t=="function")?t:WS(e)}function WS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},io(e)}var KS=Ht.EventEmitter,QS=De,YS=jn,XS=Ze(),JS=function(e){qS(l,e);var t=BS(l);function l(i){var s;return jS(this,l),s=t.call(this),s._session=i,s._direction=null,s._contentType=null,s._body=null,s}return zS(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this._direction="outgoing",s===void 0)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new YS.InvalidStateError(this._session.status);this._contentType=s,this._body=u;var h=XS.cloneArray(d.extraHeaders);h.push("Content-Type: ".concat(s)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(QS.INFO,{extraHeaders:h,eventHandlers:{onSuccessResponse:function(_){n.emit("succeeded",{originator:"remote",response:_})},onErrorResponse:function(_){n.emit("failed",{originator:"remote",response:_})},onTransportError:function(){n._session.onTransportError()},onRequestTimeout:function(){n._session.onRequestTimeout()},onDialogError:function(){n._session.onDialogError()}},body:u})}},{key:"init_incoming",value:function(s){this._direction="incoming",this.request=s,s.reply(200),this._contentType=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,this._body=s.body,this._session.newInfo({originator:"remote",info:this,request:s})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}]),l}(KS);function ZS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e1(e,t,l){return t&&bp(e.prototype,t),l&&bp(e,l),e}var t1=je,Dp=De,n1=new t1("RTCSession:ReferNotifier"),zu={event_type:"refer",body_type:"message/sipfrag;version=2.0",expires:300},r1=function(){function e(t,l,i){ZS(this,e),this._session=t,this._id=l,this._expires=i||zu.expires,this._active=!0,this.notify(100)}return e1(e,[{key:"notify",value:function(l,i){if(n1.debug("notify()"),this._active!==!1){i=i||Dp.REASON_PHRASE[l]||"";var s;l>=200?s="terminated;reason=noresource":s="active;expires=".concat(this._expires),this._session.sendRequest(Dp.NOTIFY,{extraHeaders:["Event: ".concat(zu.event_type,";id=").concat(this._id),"Subscription-State: ".concat(s),"Content-Type: ".concat(zu.body_type)],body:"SIP/2.0 ".concat(l," ").concat(i),eventHandlers:{onErrorResponse:function(){this._active=!1}}})}}}]),e}();function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(l){return typeof l}:ws=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ws(e)}function l1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i1(e,t,l){return t&&Up(e.prototype,t),l&&Up(e,l),e}function s1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}function Xa(e,t){return Xa=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Xa(e,t)}function o1(e){var t=c1();return function(){var i=so(e),s;if(t){var u=so(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return u1(this,s)}}function u1(e,t){return t&&(ws(t)==="object"||typeof t=="function")?t:a1(e)}function a1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},so(e)}var f1=Ht.EventEmitter,d1=je,vl=De,h1=Kt(),Lp=Ze(),Kn=new d1("RTCSession:ReferSubscriber"),p1=function(e){s1(l,e);var t=o1(l);function l(i){var s;return l1(this,l),s=t.call(this),s._id=null,s._session=i,s}return i1(l,[{key:"sendRefer",value:function(s){var u=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Kn.debug("sendRefer()");var d=Lp.cloneArray(n.extraHeaders),h=Lp.cloneObject(n.eventHandlers);for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&this.on(c,h[c]);var _=null;n.replaces&&(_=n.replaces._request.call_id,_+=";to-tag=".concat(n.replaces._to_tag),_+=";from-tag=".concat(n.replaces._from_tag),_=encodeURIComponent(_));var v="Refer-To: <".concat(s).concat(_?"?Replaces=".concat(_):"",">");if(d.push(v),!d.some(function(C){return C.toLowerCase().startsWith("referred-by:")})){var g="Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">");d.push(g)}d.push("Contact: ".concat(this._session.contact));var S=this._session.sendRequest(vl.REFER,{extraHeaders:d,eventHandlers:{onSuccessResponse:function(A){u._requestSucceeded(A)},onErrorResponse:function(A){u._requestFailed(A,vl.causes.REJECTED)},onTransportError:function(){u._requestFailed(null,vl.causes.CONNECTION_ERROR)},onRequestTimeout:function(){u._requestFailed(null,vl.causes.REQUEST_TIMEOUT)},onDialogError:function(){u._requestFailed(null,vl.causes.DIALOG_ERROR)}}});this._id=S.cseq}},{key:"receiveNotify",value:function(s){if(Kn.debug("receiveNotify()"),!!s.body){var u=h1.parse(s.body.trim().split(`\r
`,1)[0],"Status_Line");if(u===-1){Kn.debug('receiveNotify() | error parsing NOTIFY body: "'.concat(s.body,'"'));return}switch(!0){case/^100$/.test(u.status_code):this.emit("trying",{request:s,status_line:u});break;case/^1[0-9]{2}$/.test(u.status_code):this.emit("progress",{request:s,status_line:u});break;case/^2[0-9]{2}$/.test(u.status_code):this.emit("accepted",{request:s,status_line:u});break;default:this.emit("failed",{request:s,status_line:u});break}}}},{key:"_requestSucceeded",value:function(s){Kn.debug("REFER succeeded"),Kn.debug('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:s})}},{key:"_requestFailed",value:function(s,u){Kn.debug("REFER failed"),Kn.debug('emit "requestFailed"'),this.emit("requestFailed",{response:s||null,cause:u})}},{key:"id",get:function(){return this._id}}]),l}(f1);function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(l){return typeof l}:Rs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Rs(e)}function en(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=_1(e))||t&&e&&typeof e.length=="number"){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function _1(e,t){if(e){if(typeof e=="string")return Mp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Mp(e,t)}}function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function v1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Hp(e,t,l){return t&&Fp(e.prototype,t),l&&Fp(e,l),e}function m1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}function Ja(e,t){return Ja=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Ja(e,t)}function g1(e){var t=S1();return function(){var i=oo(e),s;if(t){var u=oo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return y1(this,s)}}function y1(e,t){return t&&(Rs(t)==="object"||typeof t=="function")?t:T1(e)}function T1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},oo(e)}var E1=Ht.EventEmitter,$p=Qt,C1=je,B=De,Qn=jn,jp=hi,Se=Ze(),ml=Pm,w1=hn,Xi=IS,R1=pi,pt=ro,zp=JS,A1=r1,I1=p1,qp=zn(),b=new C1("RTCSession"),U={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},Ji=["audio","video"],k1=function(e){m1(l,e);var t=g1(l);Hp(l,null,[{key:"C",get:function(){return U}}]);function l(i){var s;return v1(this,l),b.debug("new"),s=t.call(this),s._id=null,s._ua=i,s._status=U.STATUS_NULL,s._dialog=null,s._earlyDialogs={},s._contact=null,s._from_tag=null,s._to_tag=null,s._connection=null,s._connectionPromiseQueue=Promise.resolve(),s._request=null,s._is_canceled=!1,s._cancel_reason="",s._is_confirmed=!1,s._late_sdp=!1,s._rtcOfferConstraints=null,s._rtcAnswerConstraints=null,s._localMediaStream=null,s._localMediaStreamLocallyGenerated=!1,s._rtcReady=!0,s._iceReady=!1,s._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},s._direction=null,s._local_identity=null,s._remote_identity=null,s._start_time=null,s._end_time=null,s._tones=null,s._audioMuted=!1,s._videoMuted=!1,s._localHold=!1,s._remoteHold=!1,s._sessionTimers={enabled:s._ua.configuration.session_timers,refreshMethod:s._ua.configuration.session_timers_refresh_method,defaultExpires:B.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},s._referSubscribers={},s._data={},s}return Hp(l,[{key:"isInProgress",value:function(){switch(this._status){case U.STATUS_NULL:case U.STATUS_INVITE_SENT:case U.STATUS_1XX_RECEIVED:case U.STATUS_INVITE_RECEIVED:case U.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case U.STATUS_ANSWERED:case U.STATUS_WAITING_FOR_ACK:case U.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case U.STATUS_CANCELED:case U.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;b.debug("connect()");var d=s,h=Se.cloneObject(u.eventHandlers),c=Se.cloneArray(u.extraHeaders),_=Se.cloneObject(u.mediaConstraints,{audio:!0,video:!0}),v=u.mediaStream||null,g=Se.cloneObject(u.pcConfig,{iceServers:[]}),S=u.rtcConstraints||null,C=u.rtcOfferConstraints||null;if(this._rtcOfferConstraints=C,this._rtcAnswerConstraints=u.rtcAnswerConstraints||null,this._data=u.data||this._data,s===void 0)throw new TypeError("Not enough arguments");if(this._status!==U.STATUS_NULL)throw new Qn.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new Qn.NotSupportedError("WebRTC not supported");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(d));this._sessionTimers.enabled&&Se.isDecimal(u.sessionTimersExpires)&&(u.sessionTimersExpires>=B.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=u.sessionTimersExpires:this._sessionTimers.defaultExpires=B.SESSION_EXPIRES);for(var A in h)Object.prototype.hasOwnProperty.call(h,A)&&this.on(A,h[A]);this._from_tag=Se.newTag();var H=u.anonymous||!1,E={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:H,outbound:!0}),H?(E.from_display_name="Anonymous",E.from_uri=new qp("sip","anonymous","anonymous.invalid"),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),c.push("Privacy: id")):u.fromUserName&&(E.from_uri=new qp("sip",u.fromUserName,this._ua.configuration.uri.host),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),u.fromDisplayName&&(E.from_display_name=u.fromDisplayName),c.push("Contact: ".concat(this._contact)),c.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&c.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new w1.InitialOutgoingInviteRequest(s,this._ua,E,c),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(g,S),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,n&&n(this),this._newRTCSession("local",this._request),this._sendInitialRequest(_,C,v)}},{key:"init_incoming",value:function(s,u){var n=this;b.debug("init_incoming()");var d,h=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0;if(s.body&&h!=="application/sdp"){s.reply(415);return}if(this._status=U.STATUS_INVITE_RECEIVED,this._from_tag=s.from_tag,this._id=s.call_id+this._from_tag,this._request=s,this._contact=this._ua.contact.toString(),s.hasHeader("expires")&&(d=s.getHeader("expires")*1e3),s.to_tag=Se.newTag(),!this._createDialog(s,"UAS",!0)){s.reply(500,"Missing Contact header field");return}s.body?this._late_sdp=!1:this._late_sdp=!0,this._status=U.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){s.reply(408),n._failed("local",null,B.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),d&&(this._timers.expiresTimer=setTimeout(function(){n._status===U.STATUS_WAITING_FOR_ANSWER&&(s.reply(487),n._failed("system",null,B.causes.EXPIRES))},d)),this._direction="incoming",this._local_identity=s.to,this._remote_identity=s.from,u&&u(this),this._newRTCSession("remote",s),this._status!==U.STATUS_TERMINATED&&(s.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))}},{key:"answer",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.debug("answer()");var n=this._request,d=Se.cloneArray(u.extraHeaders),h=Se.cloneObject(u.mediaConstraints),c=u.mediaStream||null,_=Se.cloneObject(u.pcConfig,{iceServers:[]}),v=u.rtcConstraints||null,g=u.rtcAnswerConstraints||null,S=Se.cloneObject(u.rtcOfferConstraints),C,A=!1,H=!1,E=!1,T=!1;if(this._rtcAnswerConstraints=g,this._rtcOfferConstraints=u.rtcOfferConstraints||null,this._data=u.data||this._data,this._direction!=="incoming")throw new Qn.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==U.STATUS_WAITING_FOR_ANSWER)throw new Qn.InvalidStateError(this._status);if(this._sessionTimers.enabled&&Se.isDecimal(u.sessionTimersExpires)&&(u.sessionTimersExpires>=B.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=u.sessionTimersExpires:this._sessionTimers.defaultExpires=B.SESSION_EXPIRES),this._status=U.STATUS_ANSWERED,!this._createDialog(n,"UAS")){n.reply(500,"Error creating dialog");return}clearTimeout(this._timers.userNoAnswerTimer),d.unshift("Contact: ".concat(this._contact));var w=n.parseSDP();Array.isArray(w.media)||(w.media=[w.media]);var x=en(w.media),L;try{for(x.s();!(L=x.n()).done;){var q=L.value;q.type==="audio"&&(A=!0,(!q.direction||q.direction==="sendrecv")&&(E=!0)),q.type==="video"&&(H=!0,(!q.direction||q.direction==="sendrecv")&&(T=!0))}}catch(le){x.e(le)}finally{x.f()}if(c&&h.audio===!1){C=c.getAudioTracks();var z=en(C),I;try{for(z.s();!(I=z.n()).done;){var P=I.value;c.removeTrack(P)}}catch(le){z.e(le)}finally{z.f()}}if(c&&h.video===!1){C=c.getVideoTracks();var ee=en(C),Ne;try{for(ee.s();!(Ne=ee.n()).done;){var Me=Ne.value;c.removeTrack(Me)}}catch(le){ee.e(le)}finally{ee.f()}}!c&&h.audio===void 0&&(h.audio=E),!c&&h.video===void 0&&(h.video=T),!c&&!A&&!S.offerToReceiveAudio&&(h.audio=!1),!c&&!H&&!S.offerToReceiveVideo&&(h.video=!1),this._createRTCConnection(_,v),Promise.resolve().then(function(){if(c)return c;if(h.audio||h.video)return s._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(h).catch(function(le){throw s._status===U.STATUS_TERMINATED?new Error("terminated"):(n.reply(480),s._failed("local",null,B.causes.USER_DENIED_MEDIA_ACCESS),b.warn('emit "getusermediafailed" [error:%o]',le),s.emit("getusermediafailed",le),new Error("getUserMedia() failed"))})}).then(function(le){if(s._status===U.STATUS_TERMINATED)throw new Error("terminated");s._localMediaStream=le,le&&le.getTracks().forEach(function(M){s._connection.addTrack(M,le)})}).then(function(){if(!s._late_sdp){var le={originator:"remote",type:"offer",sdp:n.body};b.debug('emit "sdp"'),s.emit("sdp",le);var M=new RTCSessionDescription({type:"offer",sdp:le.sdp});return s._connectionPromiseQueue=s._connectionPromiseQueue.then(function(){return s._connection.setRemoteDescription(M)}).catch(function(j){throw n.reply(488),s._failed("system",null,B.causes.WEBRTC_ERROR),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',j),s.emit("peerconnection:setremotedescriptionfailed",j),new Error("peerconnection.setRemoteDescription() failed")}),s._connectionPromiseQueue}}).then(function(){if(s._status===U.STATUS_TERMINATED)throw new Error("terminated");return s._connecting(n),s._late_sdp?s._createLocalDescription("offer",s._rtcOfferConstraints).catch(function(){throw n.reply(500),new Error("_createLocalDescription() failed")}):s._createLocalDescription("answer",g).catch(function(){throw n.reply(500),new Error("_createLocalDescription() failed")})}).then(function(le){if(s._status===U.STATUS_TERMINATED)throw new Error("terminated");s._handleSessionTimersInIncomingRequest(n,d),n.reply(200,null,d,le,function(){s._status=U.STATUS_WAITING_FOR_ACK,s._setInvite2xxTimer(n,le),s._setACKTimer(),s._accepted("local")},function(){s._failed("system",null,B.causes.CONNECTION_ERROR)})}).catch(function(le){s._status!==U.STATUS_TERMINATED&&b.warn(le)})}},{key:"terminate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.debug("terminate()");var n=u.cause||B.causes.BYE,d=Se.cloneArray(u.extraHeaders),h=u.body,c,_=u.status_code,v=u.reason_phrase;if(this._status===U.STATUS_TERMINATED)throw new Qn.InvalidStateError(this._status);switch(this._status){case U.STATUS_NULL:case U.STATUS_INVITE_SENT:case U.STATUS_1XX_RECEIVED:if(b.debug("canceling session"),_&&(_<200||_>=700))throw new TypeError("Invalid status_code: ".concat(_));_&&(v=v||B.REASON_PHRASE[_]||"",c="SIP ;cause=".concat(_,' ;text="').concat(v,'"')),this._status===U.STATUS_NULL||this._status===U.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=c):this._status===U.STATUS_1XX_RECEIVED&&this._request.cancel(c),this._status=U.STATUS_CANCELED,this._failed("local",null,B.causes.CANCELED);break;case U.STATUS_WAITING_FOR_ANSWER:case U.STATUS_ANSWERED:if(b.debug("rejecting session"),_=_||480,_<300||_>=700)throw new TypeError("Invalid status_code: ".concat(_));this._request.reply(_,v,d,h),this._failed("local",null,B.causes.REJECTED);break;case U.STATUS_WAITING_FOR_ACK:case U.STATUS_CONFIRMED:if(b.debug("terminating session"),v=u.reason_phrase||B.REASON_PHRASE[_]||"",_&&(_<200||_>=700))throw new TypeError("Invalid status_code: ".concat(_));if(_&&d.push("Reason: SIP ;cause=".concat(_,'; text="').concat(v,'"')),this._status===U.STATUS_WAITING_FOR_ACK&&this._direction==="incoming"&&this._request.server_transaction.state!==jp.C.STATUS_TERMINATED){var g=this._dialog;this.receiveRequest=function(S){var C=S.method;C===B.ACK&&(s.sendRequest(B.BYE,{extraHeaders:d,body:h}),g.terminate())},this._request.server_transaction.on("stateChanged",function(){s._request.server_transaction.state===jp.C.STATUS_TERMINATED&&(s.sendRequest(B.BYE,{extraHeaders:d,body:h}),g.terminate())}),this._ended("local",null,n),this._dialog=g,this._ua.newDialog(g)}else this.sendRequest(B.BYE,{extraHeaders:d,body:h}),this._ended("local",null,n)}}},{key:"sendDTMF",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.debug("sendDTMF() | tones: %s",s);var n=0,d=u.duration||null,h=u.interToneGap||null,c=u.transportType||B.DTMF_TRANSPORT.INFO;if(s===void 0)throw new TypeError("Not enough arguments");if(this._status!==U.STATUS_CONFIRMED&&this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_1XX_RECEIVED)throw new Qn.InvalidStateError(this._status);if(c!==B.DTMF_TRANSPORT.INFO&&c!==B.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(c));if(typeof s=="number"&&(s=s.toString()),!s||typeof s!="string"||!s.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(s));if(d&&!Se.isDecimal(d))throw new TypeError("Invalid tone duration: ".concat(d));if(d?d<pt.C.MIN_DURATION?(b.debug('"duration" value is lower than the minimum allowed, setting it to '.concat(pt.C.MIN_DURATION," milliseconds")),d=pt.C.MIN_DURATION):d>pt.C.MAX_DURATION?(b.debug('"duration" value is greater than the maximum allowed, setting it to '.concat(pt.C.MAX_DURATION," milliseconds")),d=pt.C.MAX_DURATION):d=Math.abs(d):d=pt.C.DEFAULT_DURATION,u.duration=d,h&&!Se.isDecimal(h))throw new TypeError("Invalid interToneGap: ".concat(h));if(h?h<pt.C.MIN_INTER_TONE_GAP?(b.debug('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(pt.C.MIN_INTER_TONE_GAP," milliseconds")),h=pt.C.MIN_INTER_TONE_GAP):h=Math.abs(h):h=pt.C.DEFAULT_INTER_TONE_GAP,c===B.DTMF_TRANSPORT.RFC2833){var _=this._getDTMFRTPSender();_&&(s=_.toneBuffer+s,_.insertDTMF(s,d,h));return}if(this._tones){this._tones+=s;return}this._tones=s,v.call(this);function v(){var g=this,S;if(this._status===U.STATUS_TERMINATED||!this._tones||n>=this._tones.length){this._tones=null;return}var C=this._tones[n];if(n+=1,C===",")S=2e3;else{var A=new pt(this);u.eventHandlers={onFailed:function(){g._tones=null}},A.send(C,u),S=d+h}setTimeout(v.bind(this),S)}}},{key:"sendInfo",value:function(s,u){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(b.debug("sendInfo()"),this._status!==U.STATUS_CONFIRMED&&this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_1XX_RECEIVED)throw new Qn.InvalidStateError(this._status);var d=new zp(this);d.send(s,u,n)}},{key:"mute",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{audio:!0,video:!1};b.debug("mute()");var u=!1,n=!1;this._audioMuted===!1&&s.audio&&(u=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),this._videoMuted===!1&&s.video&&(n=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),(u===!0||n===!0)&&this._onmute({audio:u,video:n})}},{key:"unmute",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{audio:!0,video:!0};b.debug("unmute()");var u=!1,n=!1;this._audioMuted===!0&&s.audio&&(u=!0,this._audioMuted=!1,this._localHold===!1&&this._toggleMuteAudio(!1)),this._videoMuted===!0&&s.video&&(n=!0,this._videoMuted=!1,this._localHold===!1&&this._toggleMuteVideo(!1)),(u===!0||n===!0)&&this._onunmute({audio:u,video:n})}},{key:"hold",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(b.debug("hold()"),this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED||this._localHold===!0||!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var d={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:B.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:d,extraHeaders:u.extraHeaders}),!0}},{key:"unhold",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(b.debug("unhold()"),this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED||this._localHold===!1||!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var d={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:B.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:d,extraHeaders:u.extraHeaders}),!0}},{key:"renegotiate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;b.debug("renegotiate()");var d=u.rtcOfferConstraints||null;if(this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED||!this._isReadyToReOffer())return!1;var h={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:B.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:h,rtcOfferConstraints:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:h,rtcOfferConstraints:d,extraHeaders:u.extraHeaders}),!0}},{key:"refer",value:function(s,u){var n=this;b.debug("refer()");var d=s;if(this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED)return!1;if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(d));var h=new I1(this);h.sendRefer(s,u);var c=h.id;return this._referSubscribers[c]=h,h.on("requestFailed",function(){delete n._referSubscribers[c]}),h.on("accepted",function(){delete n._referSubscribers[c]}),h.on("failed",function(){delete n._referSubscribers[c]}),h}},{key:"sendRequest",value:function(s,u){return b.debug("sendRequest()"),this._dialog.sendRequest(s,u)}},{key:"receiveRequest",value:function(s){var u=this;if(b.debug("receiveRequest()"),s.method===B.CANCEL)(this._status===U.STATUS_WAITING_FOR_ANSWER||this._status===U.STATUS_ANSWERED)&&(this._status=U.STATUS_CANCELED,this._request.reply(487),this._failed("remote",s,B.causes.CANCELED));else switch(s.method){case B.ACK:if(this._status!==U.STATUS_WAITING_FOR_ACK)return;if(this._status=U.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!s.body){this.terminate({cause:B.causes.MISSING_SDP,status_code:400});break}var n={originator:"remote",type:"answer",sdp:s.body};b.debug('emit "sdp"'),this.emit("sdp",n);var d=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._connection.setRemoteDescription(d)}).then(function(){u._is_confirmed||u._confirmed("remote",s)}).catch(function(c){u.terminate({cause:B.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',c),u.emit("peerconnection:setremotedescriptionfailed",c)})}else this._is_confirmed||this._confirmed("remote",s);break;case B.BYE:this._status===U.STATUS_CONFIRMED||this._status===U.STATUS_WAITING_FOR_ACK?(s.reply(200),this._ended("remote",s,B.causes.BYE)):this._status===U.STATUS_INVITE_RECEIVED||this._status===U.STATUS_WAITING_FOR_ANSWER?(s.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",s,B.causes.BYE)):s.reply(403,"Wrong Status");break;case B.INVITE:this._status===U.STATUS_CONFIRMED?s.hasHeader("replaces")?this._receiveReplaces(s):this._receiveReinvite(s):s.reply(403,"Wrong Status");break;case B.INFO:if(this._status===U.STATUS_1XX_RECEIVED||this._status===U.STATUS_WAITING_FOR_ANSWER||this._status===U.STATUS_ANSWERED||this._status===U.STATUS_WAITING_FOR_ACK||this._status===U.STATUS_CONFIRMED){var h=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0;h&&h.match(/^application\/dtmf-relay/i)?new pt(this).init_incoming(s):h!==void 0?new zp(this).init_incoming(s):s.reply(415)}else s.reply(403,"Wrong Status");break;case B.UPDATE:this._status===U.STATUS_CONFIRMED?this._receiveUpdate(s):s.reply(403,"Wrong Status");break;case B.REFER:this._status===U.STATUS_CONFIRMED?this._receiveRefer(s):s.reply(403,"Wrong Status");break;case B.NOTIFY:this._status===U.STATUS_CONFIRMED?this._receiveNotify(s):s.reply(403,"Wrong Status");break;default:s.reply(501)}}},{key:"onTransportError",value:function(){b.warn("onTransportError()"),this._status!==U.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:B.causes.CONNECTION_ERROR,cause:B.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){b.warn("onRequestTimeout()"),this._status!==U.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:B.causes.REQUEST_TIMEOUT,cause:B.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){b.warn("onDialogError()"),this._status!==U.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:B.causes.DIALOG_ERROR,cause:B.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(s){b.debug("newDTMF()"),this.emit("newDTMF",s)}},{key:"newInfo",value:function(s){b.debug("newInfo()"),this.emit("newInfo",s)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?this._dialog.uac_pending_reply===!0||this._dialog.uas_pending_reply===!0?(b.debug("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):!0:(b.debug("_isReadyToReOffer() | session not established yet"),!1):(b.debug("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(b.debug("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(b.debug("close() | closing local MediaStream"),Se.closeMediaStream(this._localMediaStream)),this._status!==U.STATUS_TERMINATED){if(this._status=U.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(d){b.warn("close() | error closing the RTCPeerConnection: %o",d)}for(var s in this._timers)Object.prototype.hasOwnProperty.call(this._timers,s)&&clearTimeout(this._timers[s]);clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog);for(var u in this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,u)&&(this._earlyDialogs[u].terminate(),delete this._earlyDialogs[u]);for(var n in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,n)&&delete this._referSubscribers[n];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(s,u){var n=ml.T1;function d(){this._status===U.STATUS_WAITING_FOR_ACK&&(s.reply(200,null,["Contact: ".concat(this._contact)],u),n<ml.T2&&(n=n*2,n>ml.T2&&(n=ml.T2)),this._timers.invite2xxTimer=setTimeout(d.bind(this),n))}this._timers.invite2xxTimer=setTimeout(d.bind(this),n)}},{key:"_setACKTimer",value:function(){var s=this;this._timers.ackTimer=setTimeout(function(){s._status===U.STATUS_WAITING_FOR_ACK&&(b.debug("no ACK received, terminating the session"),clearTimeout(s._timers.invite2xxTimer),s.sendRequest(B.BYE),s._ended("remote",null,B.causes.NO_ACK))},ml.TIMER_H)}},{key:"_createRTCConnection",value:function(s,u){var n=this;this._connection=new RTCPeerConnection(s,u),this._connection.addEventListener("iceconnectionstatechange",function(){var d=n._connection.iceConnectionState;d==="failed"&&n.terminate({cause:B.causes.RTP_TIMEOUT,status_code:408,reason_phrase:B.causes.RTP_TIMEOUT})}),b.debug('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(s,u){var n=this;if(b.debug("createLocalDescription()"),s!=="offer"&&s!=="answer")throw new Error('createLocalDescription() | invalid type "'.concat(s,'"'));var d=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return s==="offer"?d.createOffer(u).catch(function(h){return b.warn('emit "peerconnection:createofferfailed" [error:%o]',h),n.emit("peerconnection:createofferfailed",h),Promise.reject(h)}):d.createAnswer(u).catch(function(h){return b.warn('emit "peerconnection:createanswerfailed" [error:%o]',h),n.emit("peerconnection:createanswerfailed",h),Promise.reject(h)})}).then(function(h){return d.setLocalDescription(h).catch(function(c){return n._rtcReady=!0,b.warn('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',c),n.emit("peerconnection:setlocaldescriptionfailed",c),Promise.reject(c)})}).then(function(){var h=u&&u.iceRestart;if(d.iceGatheringState==="complete"&&!h||d.iceGatheringState==="gathering"&&n._iceReady){n._rtcReady=!0;var c={originator:"local",type:s,sdp:d.localDescription.sdp};return b.debug('emit "sdp"'),n.emit("sdp",c),Promise.resolve(c.sdp)}return new Promise(function(_){var v=!1,g,S;n._iceReady=!1;var C=function(){d.removeEventListener("icecandidate",g),d.removeEventListener("icegatheringstatechange",S),v=!0,n._rtcReady=!0,n._iceReady=!0;var H={originator:"local",type:s,sdp:d.localDescription.sdp};b.debug('emit "sdp"'),n.emit("sdp",H),_(H.sdp)};d.addEventListener("icecandidate",g=function(H){var E=H.candidate;E?n.emit("icecandidate",{candidate:E,ready:C}):v||C()}),d.addEventListener("icegatheringstatechange",S=function(){d.iceGatheringState==="complete"&&!v&&C()})})})}},{key:"_createDialog",value:function(s,u,n){var d=u==="UAS"?s.to_tag:s.from_tag,h=u==="UAS"?s.from_tag:s.to_tag,c=s.call_id+d+h,_=this._earlyDialogs[c];if(n)return _?!0:(_=new Xi(this,s,u,Xi.C.STATUS_EARLY),_.error?(b.debug(_.error),this._failed("remote",s,B.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[c]=_,!0));if(this._from_tag=s.from_tag,this._to_tag=s.to_tag,_)return _.update(s,u),this._dialog=_,delete this._earlyDialogs[c],!0;var v=new Xi(this,s,u);return v.error?(b.debug(v.error),this._failed("remote",s,B.causes.INTERNAL_ERROR),!1):(this._dialog=v,!0)}},{key:"_receiveReinvite",value:function(s){var u=this;b.debug("receiveReinvite()");var n=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,d={request:s,callback:void 0,reject:c.bind(this)},h=!1;function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h=!0;var g=v.status_code||403,S=v.reason_phrase||"",C=Se.cloneArray(v.extraHeaders);if(this._status!==U.STATUS_CONFIRMED)return!1;if(g<300||g>=700)throw new TypeError("Invalid status_code: ".concat(g));s.reply(g,S,C)}if(this.emit("reinvite",d),h)return;if(this._late_sdp=!1,!s.body){this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._createLocalDescription("offer",u._rtcOfferConstraints)}).then(function(v){_.call(u,v)}).catch(function(){s.reply(500)});return}if(n!=="application/sdp"){b.debug("invalid Content-Type"),s.reply(415);return}this._processInDialogSdpOffer(s).then(function(v){u._status!==U.STATUS_TERMINATED&&_.call(u,v)}).catch(function(v){b.warn(v)});function _(v){var g=this,S=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(s,S),this._late_sdp&&(v=this._mangleOffer(v)),s.reply(200,null,S,v,function(){g._status=U.STATUS_WAITING_FOR_ACK,g._setInvite2xxTimer(s,v),g._setACKTimer()}),typeof d.callback=="function"&&d.callback()}}},{key:"_receiveUpdate",value:function(s){var u=this;b.debug("receiveUpdate()");var n=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,d={request:s,callback:void 0,reject:c.bind(this)},h=!1;function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h=!0;var g=v.status_code||403,S=v.reason_phrase||"",C=Se.cloneArray(v.extraHeaders);if(this._status!==U.STATUS_CONFIRMED)return!1;if(g<300||g>=700)throw new TypeError("Invalid status_code: ".concat(g));s.reply(g,S,C)}if(this.emit("update",d),h)return;if(!s.body){_.call(this,null);return}if(n!=="application/sdp"){b.debug("invalid Content-Type"),s.reply(415);return}this._processInDialogSdpOffer(s).then(function(v){u._status!==U.STATUS_TERMINATED&&_.call(u,v)}).catch(function(v){b.warn(v)});function _(v){var g=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(s,g),s.reply(200,null,g,v),typeof d.callback=="function"&&d.callback()}}},{key:"_processInDialogSdpOffer",value:function(s){var u=this;b.debug("_processInDialogSdpOffer()");var n=s.parseSDP(),d=!1,h=en(n.media),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;if(Ji.indexOf(_.type)!==-1){var v=_.direction||n.direction||"sendrecv";if(v==="sendonly"||v==="inactive")d=!0;else{d=!1;break}}}}catch(C){h.e(C)}finally{h.f()}var g={originator:"remote",type:"offer",sdp:s.body};b.debug('emit "sdp"'),this.emit("sdp",g);var S=new RTCSessionDescription({type:"offer",sdp:g.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(u._status===U.STATUS_TERMINATED)throw new Error("terminated");return u._connection.setRemoteDescription(S).catch(function(C){throw s.reply(488),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',C),u.emit("peerconnection:setremotedescriptionfailed",C),C})}).then(function(){if(u._status===U.STATUS_TERMINATED)throw new Error("terminated");u._remoteHold===!0&&d===!1?(u._remoteHold=!1,u._onunhold("remote")):u._remoteHold===!1&&d===!0&&(u._remoteHold=!0,u._onhold("remote"))}).then(function(){if(u._status===U.STATUS_TERMINATED)throw new Error("terminated");return u._createLocalDescription("answer",u._rtcAnswerConstraints).catch(function(C){throw s.reply(500),b.warn('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',C),C})}).catch(function(C){b.warn("_processInDialogSdpOffer() failed [error: %o]",C)}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(s){var u=this;if(b.debug("receiveRefer()"),!s.refer_to){b.debug("no Refer-To header field present in REFER"),s.reply(400);return}if(s.refer_to.uri.scheme!==B.SIP){b.debug("Refer-To header field points to a non-SIP URI scheme"),s.reply(416);return}s.reply(202);var n=new A1(this,s.cseq);b.debug('emit "refer"'),this.emit("refer",{request:s,accept:function(_,v){d.call(u,_,v)},reject:function(){h.call(u)}});function d(c){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c=typeof c=="function"?c:null,this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED)return!1;var v=new l(this._ua);if(v.on("progress",function(S){var C=S.response;n.notify(C.status_code,C.reason_phrase)}),v.on("accepted",function(S){var C=S.response;n.notify(C.status_code,C.reason_phrase)}),v.on("_failed",function(S){var C=S.message,A=S.cause;C?n.notify(C.status_code,C.reason_phrase):n.notify(487,A)}),s.refer_to.uri.hasHeader("replaces")){var g=decodeURIComponent(s.refer_to.uri.getHeader("replaces"));_.extraHeaders=Se.cloneArray(_.extraHeaders),_.extraHeaders.push("Replaces: ".concat(g))}v.connect(s.refer_to.uri.toAor(),_,c)}function h(){n.notify(603)}}},{key:"_receiveNotify",value:function(s){switch(b.debug("receiveNotify()"),s.event||s.reply(400),s.event.event){case"refer":{var u,n;if(s.event.params&&s.event.params.id)u=s.event.params.id,n=this._referSubscribers[u];else if(Object.keys(this._referSubscribers).length===1)n=this._referSubscribers[Object.keys(this._referSubscribers)[0]];else{s.reply(400,"Missing event id parameter");return}if(!n){s.reply(481,"Subscription does not exist");return}n.receiveNotify(s),s.reply(200);break}default:s.reply(489)}}},{key:"_receiveReplaces",value:function(s){var u=this;b.debug("receiveReplaces()");function n(h){var c=this;if(this._status!==U.STATUS_WAITING_FOR_ACK&&this._status!==U.STATUS_CONFIRMED)return!1;var _=new l(this._ua);_.on("confirmed",function(){c.terminate()}),_.init_incoming(s,h)}function d(){b.debug("Replaced INVITE rejected by the user"),s.reply(486)}this.emit("replaces",{request:s,accept:function(c){n.call(u,c)},reject:function(){d.call(u)}})}},{key:"_sendInitialRequest",value:function(s,u,n){var d=this,h=new R1(this._ua,this._request,{onRequestTimeout:function(){d.onRequestTimeout()},onTransportError:function(){d.onTransportError()},onAuthenticated:function(_){d._request=_},onReceiveResponse:function(_){d._receiveInviteResponse(_)}});Promise.resolve().then(function(){if(n)return n;if(s.audio||s.video)return d._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(s).catch(function(c){throw d._status===U.STATUS_TERMINATED?new Error("terminated"):(d._failed("local",null,B.causes.USER_DENIED_MEDIA_ACCESS),b.warn('emit "getusermediafailed" [error:%o]',c),d.emit("getusermediafailed",c),c)})}).then(function(c){if(d._status===U.STATUS_TERMINATED)throw new Error("terminated");return d._localMediaStream=c,c&&c.getTracks().forEach(function(_){d._connection.addTrack(_,c)}),d._connecting(d._request),d._createLocalDescription("offer",u).catch(function(_){throw d._failed("local",null,B.causes.WEBRTC_ERROR),_})}).then(function(c){if(d._is_canceled||d._status===U.STATUS_TERMINATED)throw new Error("terminated");d._request.body=c,d._status=U.STATUS_INVITE_SENT,b.debug('emit "sending" [request:%o]',d._request),d.emit("sending",{request:d._request}),h.send()}).catch(function(c){d._status!==U.STATUS_TERMINATED&&b.warn(c)})}},{key:"_getDTMFRTPSender",value:function(){var s=this._connection.getSenders().find(function(u){return u.track&&u.track.kind==="audio"});if(!(s&&s.dtmf)){b.warn("sendDTMF() | no local audio track to send DTMF with");return}return s.dtmf}},{key:"_receiveInviteResponse",value:function(s){var u=this;if(b.debug("receiveInviteResponse()"),this._dialog&&s.status_code>=200&&s.status_code<=299)if(this._dialog.id.call_id===s.call_id&&this._dialog.id.local_tag===s.from_tag&&this._dialog.id.remote_tag===s.to_tag){this.sendRequest(B.ACK);return}else{var n=new Xi(this,s,"UAC");if(n.error!==void 0){b.debug(n.error);return}this.sendRequest(B.ACK),this.sendRequest(B.BYE);return}if(this._is_canceled){s.status_code>=100&&s.status_code<200?this._request.cancel(this._cancel_reason):s.status_code>=200&&s.status_code<299&&this._acceptAndTerminate(s);return}if(!(this._status!==U.STATUS_INVITE_SENT&&this._status!==U.STATUS_1XX_RECEIVED))switch(!0){case/^100$/.test(s.status_code):this._status=U.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(s.status_code):{if(!s.to_tag){b.debug("1xx response received without to tag");break}if(s.hasHeader("contact")&&!this._createDialog(s,"UAC",!0))break;if(this._status=U.STATUS_1XX_RECEIVED,!s.body){this._progress("remote",s);break}var d={originator:"remote",type:"answer",sdp:s.body};b.debug('emit "sdp"'),this.emit("sdp",d);var h=new RTCSessionDescription({type:"answer",sdp:d.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._connection.setRemoteDescription(h)}).then(function(){return u._progress("remote",s)}).catch(function(g){b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',g),u.emit("peerconnection:setremotedescriptionfailed",g)});break}case/^2[0-9]{2}$/.test(s.status_code):{if(this._status=U.STATUS_CONFIRMED,!s.body){this._acceptAndTerminate(s,400,B.causes.MISSING_SDP),this._failed("remote",s,B.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(s,"UAC"))break;var c={originator:"remote",type:"answer",sdp:s.body};b.debug('emit "sdp"'),this.emit("sdp",c);var _=new RTCSessionDescription({type:"answer",sdp:c.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(u._connection.signalingState==="stable")return u._connection.createOffer(u._rtcOfferConstraints).then(function(g){return u._connection.setLocalDescription(g)}).catch(function(g){u._acceptAndTerminate(s,500,g.toString()),u._failed("local",s,B.causes.WEBRTC_ERROR)})}).then(function(){u._connection.setRemoteDescription(_).then(function(){u._handleSessionTimersInIncomingResponse(s),u._accepted("remote",s),u.sendRequest(B.ACK),u._confirmed("local",null)}).catch(function(g){u._acceptAndTerminate(s,488,"Not Acceptable Here"),u._failed("remote",s,B.causes.BAD_MEDIA_DESCRIPTION),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',g),u.emit("peerconnection:setremotedescriptionfailed",g)})});break}default:{var v=Se.sipErrorCause(s.status_code);this._failed("remote",s,v)}}}},{key:"_sendReinvite",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.debug("sendReinvite()");var n=Se.cloneArray(u.extraHeaders),d=Se.cloneObject(u.eventHandlers),h=u.rtcOfferConstraints||this._rtcOfferConstraints||null,c=!1;n.push("Contact: ".concat(this._contact)),n.push("Content-Type: application/sdp"),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return s._createLocalDescription("offer",h)}).then(function(g){g=s._mangleOffer(g);var S={originator:"local",type:"offer",sdp:g};b.debug('emit "sdp"'),s.emit("sdp",S),s.sendRequest(B.INVITE,{extraHeaders:n,body:g,eventHandlers:{onSuccessResponse:function(A){_.call(s,A),c=!0},onErrorResponse:function(A){v.call(s,A)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}})}).catch(function(){v()});function _(g){var S=this;if(this._status!==U.STATUS_TERMINATED&&(this.sendRequest(B.ACK),!c)){if(this._handleSessionTimersInIncomingResponse(g),g.body){if(!g.hasHeader("Content-Type")||g.getHeader("Content-Type").toLowerCase()!=="application/sdp"){v.call(this);return}}else{v.call(this);return}var C={originator:"remote",type:"answer",sdp:g.body};b.debug('emit "sdp"'),this.emit("sdp",C);var A=new RTCSessionDescription({type:"answer",sdp:C.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return S._connection.setRemoteDescription(A)}).then(function(){d.succeeded&&d.succeeded(g)}).catch(function(H){v.call(S),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',H),S.emit("peerconnection:setremotedescriptionfailed",H)})}}function v(g){d.failed&&d.failed(g)}}},{key:"_sendUpdate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.debug("sendUpdate()");var n=Se.cloneArray(u.extraHeaders),d=Se.cloneObject(u.eventHandlers),h=u.rtcOfferConstraints||this._rtcOfferConstraints||null,c=u.sdpOffer||!1,_=!1;n.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),c?(n.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return s._createLocalDescription("offer",h)}).then(function(S){S=s._mangleOffer(S);var C={originator:"local",type:"offer",sdp:S};b.debug('emit "sdp"'),s.emit("sdp",C),s.sendRequest(B.UPDATE,{extraHeaders:n,body:S,eventHandlers:{onSuccessResponse:function(H){v.call(s,H),_=!0},onErrorResponse:function(H){g.call(s,H)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}})}).catch(function(){g.call(s)})):this.sendRequest(B.UPDATE,{extraHeaders:n,eventHandlers:{onSuccessResponse:function(C){v.call(s,C)},onErrorResponse:function(C){g.call(s,C)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}});function v(S){var C=this;if(this._status!==U.STATUS_TERMINATED&&!_)if(this._handleSessionTimersInIncomingResponse(S),c){if(S.body){if(!S.hasHeader("Content-Type")||S.getHeader("Content-Type").toLowerCase()!=="application/sdp"){g.call(this);return}}else{g.call(this);return}var A={originator:"remote",type:"answer",sdp:S.body};b.debug('emit "sdp"'),this.emit("sdp",A);var H=new RTCSessionDescription({type:"answer",sdp:A.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return C._connection.setRemoteDescription(H)}).then(function(){d.succeeded&&d.succeeded(S)}).catch(function(E){g.call(C),b.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',E),C.emit("peerconnection:setremotedescriptionfailed",E)})}else d.succeeded&&d.succeeded(S)}function g(S){d.failed&&d.failed(S)}}},{key:"_acceptAndTerminate",value:function(s,u,n){b.debug("acceptAndTerminate()");var d=[];u&&(n=n||B.REASON_PHRASE[u]||"",d.push("Reason: SIP ;cause=".concat(u,'; text="').concat(n,'"'))),(this._dialog||this._createDialog(s,"UAC"))&&(this.sendRequest(B.ACK),this.sendRequest(B.BYE,{extraHeaders:d})),this._status=U.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(s){if(!this._localHold&&!this._remoteHold)return s;if(s=$p.parse(s),this._localHold&&!this._remoteHold){b.debug("mangleOffer() | me on hold, mangling offer");var u=en(s.media),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;Ji.indexOf(d.type)!==-1&&(d.direction?d.direction==="sendrecv"?d.direction="sendonly":d.direction==="recvonly"&&(d.direction="inactive"):d.direction="sendonly")}}catch(C){u.e(C)}finally{u.f()}}else if(this._localHold&&this._remoteHold){b.debug("mangleOffer() | both on hold, mangling offer");var h=en(s.media),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;Ji.indexOf(_.type)!==-1&&(_.direction="inactive")}}catch(C){h.e(C)}finally{h.f()}}else if(this._remoteHold){b.debug("mangleOffer() | remote on hold, mangling offer");var v=en(s.media),g;try{for(v.s();!(g=v.n()).done;){var S=g.value;Ji.indexOf(S.type)!==-1&&(S.direction?S.direction==="sendrecv"?S.direction="recvonly":S.direction==="recvonly"&&(S.direction="inactive"):S.direction="recvonly")}}catch(C){v.e(C)}finally{v.f()}}return $p.write(s)}},{key:"_setLocalMediaStatus",value:function(){var s=!0,u=!0;(this._localHold||this._remoteHold)&&(s=!1,u=!1),this._audioMuted&&(s=!1),this._videoMuted&&(u=!1),this._toggleMuteAudio(!s),this._toggleMuteVideo(!u)}},{key:"_handleSessionTimersInIncomingRequest",value:function(s,u){if(this._sessionTimers.enabled){var n;s.session_expires&&s.session_expires>=B.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=s.session_expires,n=s.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,n="uas"),u.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(n)),this._sessionTimers.refresher=n==="uas",this._runSessionTimer()}}},{key:"_handleSessionTimersInIncomingResponse",value:function(s){if(this._sessionTimers.enabled){var u;s.session_expires&&s.session_expires>=B.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=s.session_expires,u=s.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,u="uac"),this._sessionTimers.refresher=u==="uac",this._runSessionTimer()}}},{key:"_runSessionTimer",value:function(){var s=this,u=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.refresher?this._sessionTimers.timer=setTimeout(function(){s._status!==U.STATUS_TERMINATED&&s._isReadyToReOffer()&&(b.debug("runSessionTimer() | sending session refresh request"),s._sessionTimers.refreshMethod===B.UPDATE?s._sendUpdate():s._sendReinvite())},u*500):this._sessionTimers.timer=setTimeout(function(){s._status!==U.STATUS_TERMINATED&&(b.warn("runSessionTimer() | timer expired, terminating the session"),s.terminate({cause:B.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},u*1100)}},{key:"_toggleMuteAudio",value:function(s){var u=this._connection.getSenders().filter(function(c){return c.track&&c.track.kind==="audio"}),n=en(u),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;h.track.enabled=!s}}catch(c){n.e(c)}finally{n.f()}}},{key:"_toggleMuteVideo",value:function(s){var u=this._connection.getSenders().filter(function(c){return c.track&&c.track.kind==="video"}),n=en(u),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;h.track.enabled=!s}}catch(c){n.e(c)}finally{n.f()}}},{key:"_newRTCSession",value:function(s,u){b.debug("newRTCSession()"),this._ua.newRTCSession(this,{originator:s,session:this,request:u})}},{key:"_connecting",value:function(s){b.debug("session connecting"),b.debug('emit "connecting"'),this.emit("connecting",{request:s})}},{key:"_progress",value:function(s,u){b.debug("session progress"),b.debug('emit "progress"'),this.emit("progress",{originator:s,response:u||null})}},{key:"_accepted",value:function(s,u){b.debug("session accepted"),this._start_time=new Date,b.debug('emit "accepted"'),this.emit("accepted",{originator:s,response:u||null})}},{key:"_confirmed",value:function(s,u){b.debug("session confirmed"),this._is_confirmed=!0,b.debug('emit "confirmed"'),this.emit("confirmed",{originator:s,ack:u||null})}},{key:"_ended",value:function(s,u,n){b.debug("session ended"),this._end_time=new Date,this._close(),b.debug('emit "ended"'),this.emit("ended",{originator:s,message:u||null,cause:n})}},{key:"_failed",value:function(s,u,n){b.debug("session failed"),b.debug('emit "_failed"'),this.emit("_failed",{originator:s,message:u||null,cause:n}),this._close(),b.debug('emit "failed"'),this.emit("failed",{originator:s,message:u||null,cause:n})}},{key:"_onhold",value:function(s){b.debug("session onhold"),this._setLocalMediaStatus(),b.debug('emit "hold"'),this.emit("hold",{originator:s})}},{key:"_onunhold",value:function(s){b.debug("session onunhold"),this._setLocalMediaStatus(),b.debug('emit "unhold"'),this.emit("unhold",{originator:s})}},{key:"_onmute",value:function(s){var u=s.audio,n=s.video;b.debug("session onmute"),this._setLocalMediaStatus(),b.debug('emit "muted"'),this.emit("muted",{audio:u,video:n})}},{key:"_onunmute",value:function(s){var u=s.audio,n=s.video;b.debug("session onunmute"),this._setLocalMediaStatus(),b.debug('emit "unmuted"'),this.emit("unmuted",{audio:u,video:n})}},{key:"C",get:function(){return U}},{key:"causes",get:function(){return B.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(s){this._data=s}},{key:"status",get:function(){return this._status}}]),l}(E1);function As(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(l){return typeof l}:As=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},As(e)}function O1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function N1(e,t,l){return t&&Bp(e.prototype,t),l&&Bp(e,l),e}function x1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}function Za(e,t){return Za=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Za(e,t)}function P1(e){var t=U1();return function(){var i=uo(e),s;if(t){var u=uo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return b1(this,s)}}function b1(e,t){return t&&(As(t)==="object"||typeof t=="function")?t:D1(e)}function D1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},uo(e)}var L1=Ht.EventEmitter,M1=je,qu=De,F1=hn,gl=Ze(),H1=pi,Vp=jn,$1=zn(),Zi=new M1("Message"),j1=function(e){x1(l,e);var t=P1(l);function l(i){var s;return O1(this,l),s=t.call(this),s._ua=i,s._request=null,s._closed=!1,s._direction=null,s._local_identity=null,s._remote_identity=null,s._is_replied=!1,s._data={},s}return N1(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=s;if(s===void 0||u===void 0)throw new TypeError("Not enough arguments");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(h));var c=gl.cloneArray(d.extraHeaders),_=gl.cloneObject(d.eventHandlers),v=d.contentType||"text/plain",g={};d.fromUserName&&(g.from_uri=new $1("sip",d.fromUserName,this._ua.configuration.uri.host),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),d.fromDisplayName&&(g.from_display_name=d.fromDisplayName);for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&this.on(S,_[S]);c.push("Content-Type: ".concat(v)),this._request=new F1.OutgoingRequest(qu.MESSAGE,s,this._ua,g,c),u&&(this._request.body=u);var C=new H1(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(H){n._receiveResponse(H)}});this._newMessage("local",this._request),C.send()}},{key:"init_incoming",value:function(s){this._request=s,this._newMessage("remote",s),this._is_replied||(this._is_replied=!0,s.reply(200)),this._close()}},{key:"accept",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=gl.cloneArray(s.extraHeaders),n=s.body;if(this._direction!=="incoming")throw new Vp.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,u,n)}},{key:"reject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.status_code||480,n=s.reason_phrase,d=gl.cloneArray(s.extraHeaders),h=s.body;if(this._direction!=="incoming")throw new Vp.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(u<300||u>=700)throw new TypeError("Invalid status_code: ".concat(u));this._is_replied=!0,this._request.reply(u,n,d,h)}},{key:"_receiveResponse",value:function(s){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(s.status_code):break;case/^2[0-9]{2}$/.test(s.status_code):this._succeeded("remote",s);break;default:{var u=gl.sipErrorCause(s.status_code);this._failed("remote",s,u);break}}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,qu.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,qu.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(s,u){s==="remote"?(this._direction="incoming",this._local_identity=u.to,this._remote_identity=u.from):s==="local"&&(this._direction="outgoing",this._local_identity=u.from,this._remote_identity=u.to),this._ua.newMessage(this,{originator:s,message:this,request:u})}},{key:"_failed",value:function(s,u,n){Zi.debug("MESSAGE failed"),this._close(),Zi.debug('emit "failed"'),this.emit("failed",{originator:s,response:u||null,cause:n})}},{key:"_succeeded",value:function(s,u){Zi.debug("MESSAGE succeeded"),this._close(),Zi.debug('emit "succeeded"'),this.emit("succeeded",{originator:s,response:u})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),l}(L1);function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(l){return typeof l}:Is=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Is(e)}function z1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function q1(e,t,l){return t&&Wp(e.prototype,t),l&&Wp(e,l),e}function B1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},ec(e,t)}function V1(e){var t=K1();return function(){var i=ao(e),s;if(t){var u=ao(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return W1(this,s)}}function W1(e,t){return t&&(Is(t)==="object"||typeof t=="function")?t:G1(e)}function G1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ao(e){return ao=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},ao(e)}var Q1=Ht.EventEmitter,Y1=je,Bu=De,X1=hn,yl=Ze(),J1=pi,Gp=jn,es=new Y1("Options"),Z1=function(e){B1(l,e);var t=V1(l);function l(i){var s;return z1(this,l),s=t.call(this),s._ua=i,s._request=null,s._closed=!1,s._direction=null,s._local_identity=null,s._remote_identity=null,s._is_replied=!1,s._data={},s}return q1(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=s;if(s===void 0)throw new TypeError("A target is required for OPTIONS");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(h));var c=yl.cloneArray(d.extraHeaders),_=yl.cloneObject(d.eventHandlers),v=d.contentType||"application/sdp";for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&this.on(g,_[g]);c.push("Content-Type: ".concat(v)),this._request=new X1.OutgoingRequest(Bu.OPTIONS,s,this._ua,null,c),u&&(this._request.body=u);var S=new J1(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(A){n._receiveResponse(A)}});this._newOptions("local",this._request),S.send()}},{key:"init_incoming",value:function(s){this._request=s,this._newOptions("remote",s),this._is_replied||(this._is_replied=!0,s.reply(200)),this._close()}},{key:"accept",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=yl.cloneArray(s.extraHeaders),n=s.body;if(this._direction!=="incoming")throw new Gp.NotSupportedError('"accept" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");this._is_replied=!0,this._request.reply(200,null,u,n)}},{key:"reject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.status_code||480,n=s.reason_phrase,d=yl.cloneArray(s.extraHeaders),h=s.body;if(this._direction!=="incoming")throw new Gp.NotSupportedError('"reject" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");if(u<300||u>=700)throw new TypeError("Invalid status_code: ".concat(u));this._is_replied=!0,this._request.reply(u,n,d,h)}},{key:"_receiveResponse",value:function(s){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(s.status_code):break;case/^2[0-9]{2}$/.test(s.status_code):this._succeeded("remote",s);break;default:{var u=yl.sipErrorCause(s.status_code);this._failed("remote",s,u);break}}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,Bu.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,Bu.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newOptions",value:function(s,u){s==="remote"?(this._direction="incoming",this._local_identity=u.to,this._remote_identity=u.from):s==="local"&&(this._direction="outgoing",this._local_identity=u.from,this._remote_identity=u.to),this._ua.newOptions(this,{originator:s,message:this,request:u})}},{key:"_failed",value:function(s,u,n){es.debug("OPTIONS failed"),this._close(),es.debug('emit "failed"'),this.emit("failed",{originator:s,response:u||null,cause:n})}},{key:"_succeeded",value:function(s,u){es.debug("OPTIONS succeeded"),this._close(),es.debug('emit "succeeded"'),this.emit("succeeded",{originator:s,response:u})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),l}(Q1),nf={},eE=je,Vu=Ze(),tE=Kt(),Tl=new eE("Socket");nf.isSocket=function(e){if(Array.isArray(e))return!1;if(typeof e>"u")return Tl.warn("undefined JsSIP.Socket instance"),!1;try{if(!Vu.isString(e.url))throw Tl.warn("missing or invalid JsSIP.Socket url property"),new Error("Missing or invalid JsSIP.Socket url property");if(!Vu.isString(e.via_transport))throw Tl.warn("missing or invalid JsSIP.Socket via_transport property"),new Error("Missing or invalid JsSIP.Socket via_transport property");if(tE.parse(e.sip_uri,"SIP_URI")===-1)throw Tl.warn("missing or invalid JsSIP.Socket sip_uri property"),new Error("missing or invalid JsSIP.Socket sip_uri property")}catch{return!1}try{["connect","disconnect","send"].forEach(function(t){if(!Vu.isFunction(e[t]))throw Tl.warn("missing or invalid JsSIP.Socket method: ".concat(t)),new Error("Missing or invalid JsSIP.Socket method: ".concat(t))})}catch{return!1}return!0};function nE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rE(e,t,l){return t&&Kp(e.prototype,t),l&&Kp(e,l),e}var lE=je,iE=nf,Qp=De,ot=new lE("Transport"),Ct={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:Qp.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:Qp.CONNECTION_RECOVERY_MAX_INTERVAL}},sE=function(){function e(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.recovery_options;nE(this,e),ot.debug("new()"),this.status=Ct.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=l,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(i){ot.warn("cannot use TextDecoder: ".concat(i))}if(typeof t>"u")throw new TypeError("Invalid argument. undefined 'sockets' argument");t instanceof Array||(t=[t]),t.forEach(function(i){if(!iE.isSocket(i.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(i.weight&&!Number(i.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:i.socket,weight:i.weight||0,status:Ct.SOCKET_STATUS_READY})},this),this._getSocket()}return rE(e,[{key:"connect",value:function(){if(ot.debug("connect()"),this.isConnected()){ot.debug("Transport is already connected");return}else if(this.isConnecting()){ot.debug("Transport is connecting");return}this.close_requested=!1,this.status=Ct.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect())}},{key:"disconnect",value:function(){ot.debug("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=Ct.STATUS_DISCONNECTED,this.recovery_timer!==null&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(l){if(ot.debug("send()"),!this.isConnected())return ot.warn("unable to send message, transport is not connected"),!1;var i=l.toString();return ot.debug(`sending message:

`.concat(i,`
`)),this.socket.send(i)}},{key:"isConnected",value:function(){return this.status===Ct.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===Ct.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var l=this;this.recover_attempts+=1;var i=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);i<this.recovery_options.min_interval?i=this.recovery_options.min_interval:i>this.recovery_options.max_interval&&(i=this.recovery_options.max_interval),ot.debug("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(i," seconds")),this.recovery_timer=setTimeout(function(){!l.close_requested&&!(l.isConnected()||l.isConnecting())&&(l._getSocket(),l.connect())},i*1e3)}},{key:"_getSocket",value:function(){var l=[];if(this.sockets.forEach(function(s){s.status!==Ct.SOCKET_STATUS_ERROR&&(l.length===0?l.push(s):s.weight>l[0].weight?l=[s]:s.weight===l[0].weight&&l.push(s))}),l.length===0){this.sockets.forEach(function(s){s.status=Ct.SOCKET_STATUS_READY}),this._getSocket();return}var i=Math.floor(Math.random()*l.length);this.socket=l[i].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=Ct.STATUS_CONNECTED,this.recovery_timer!==null&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(l,i,s){this.status=Ct.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:l,code:i,reason:s}),!this.close_requested&&(this.sockets.forEach(function(u){this.socket===u.socket&&(u.status=Ct.SOCKET_STATUS_ERROR)},this),this._reconnect(l))}},{key:"_onData",value:function(l){if(l===`\r
`){ot.debug("received message with CRLF Keep Alive response");return}else if(typeof l!="string"){try{this.textDecoder?l=this.textDecoder.decode(l):l=String.fromCharCode.apply(null,new Uint8Array(l))}catch{ot.debug("received binary message failed to be converted into string, message discarded");return}ot.debug(`received binary message:

`.concat(l,`
`))}else ot.debug(`received text message:

`.concat(l,`
`));this.ondata({transport:this,message:l})}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}]),e}(),Dm={};function Yp(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=oE(e))||t&&e&&typeof e.length=="number"){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function oE(e,t){if(e){if(typeof e=="string")return Xp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Xp(e,t)}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var uE=je,tc=Kt(),nc=hn,ts=new uE("Parser");Dm.parseMessage=function(e,t){var l,i,s=e.indexOf(`\r
`);if(s===-1){ts.warn("parseMessage() | no CRLF found, not a SIP message");return}var u=e.substring(0,s),n=tc.parse(u,"Request_Response");if(n===-1){ts.warn('parseMessage() | error parsing first line of SIP message: "'.concat(u,'"'));return}else n.status_code?(l=new nc.IncomingResponse,l.status_code=n.status_code,l.reason_phrase=n.reason_phrase):(l=new nc.IncomingRequest(t),l.method=n.method,l.ruri=n.uri);l.data=e;for(var d=s+2;;){if(s=aE(e,d),s===-2){i=d+2;break}else if(s===-1){ts.warn("parseMessage() | malformed message");return}if(n=cE(l,e,d,s),n!==!0){ts.warn("parseMessage() |",n.error);return}d=s+2}if(l.hasHeader("content-length")){var h=l.getHeader("content-length");l.body=e.substr(i,h)}else l.body=e.substring(i);return l};function aE(e,t){var l=t,i=0,s=0;if(e.substring(l,l+2).match(/(^\r\n)/))return-2;for(;i===0;){if(s=e.indexOf(`\r
`,l),s===-1)return s;!e.substring(s+2,s+4).match(/(^\r\n)/)&&e.charAt(s+2).match(/(^\s+)/)?l=s+2:i=s}return i}function cE(e,t,l,i){var s,u=t.indexOf(":",l),n=t.substring(l,u).trim(),d=t.substring(u+1,i).trim();switch(n.toLowerCase()){case"via":case"v":e.addHeader("via",d),e.getHeaders("via").length===1?(s=e.parseHeader("Via"),s&&(e.via=s,e.via_branch=s.branch)):s=0;break;case"from":case"f":e.setHeader("from",d),s=e.parseHeader("from"),s&&(e.from=s,e.from_tag=s.getParam("tag"));break;case"to":case"t":e.setHeader("to",d),s=e.parseHeader("to"),s&&(e.to=s,e.to_tag=s.getParam("tag"));break;case"record-route":if(s=tc.parse(d,"Record_Route"),s===-1)s=void 0;else{var h=Yp(s),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;e.addHeader("record-route",d.substring(_.possition,_.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=_.parsed}}catch(C){h.e(C)}finally{h.f()}}break;case"call-id":case"i":e.setHeader("call-id",d),s=e.parseHeader("call-id"),s&&(e.call_id=d);break;case"contact":case"m":if(s=tc.parse(d,"Contact"),s===-1)s=void 0;else{var v=Yp(s),g;try{for(v.s();!(g=v.n()).done;){var S=g.value;e.addHeader("contact",d.substring(S.possition,S.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=S.parsed}}catch(C){v.e(C)}finally{v.f()}}break;case"content-length":case"l":e.setHeader("content-length",d),s=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",d),s=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",d),s=e.parseHeader("cseq"),s&&(e.cseq=s.value),e instanceof nc.IncomingResponse&&(e.method=s.method);break;case"max-forwards":e.setHeader("max-forwards",d),s=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",d),s=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",d),s=e.parseHeader("proxy-authenticate");break;case"session-expires":case"x":e.setHeader("session-expires",d),s=e.parseHeader("session-expires"),s&&(e.session_expires=s.expires,e.session_expires_refresher=s.refresher);break;case"refer-to":case"r":e.setHeader("refer-to",d),s=e.parseHeader("refer-to"),s&&(e.refer_to=s);break;case"replaces":e.setHeader("replaces",d),s=e.parseHeader("replaces"),s&&(e.replaces=s);break;case"event":case"o":e.setHeader("event",d),s=e.parseHeader("event"),s&&(e.event=s);break;default:e.addHeader(n,d),s=0}return s===void 0?{error:'error parsing header "'.concat(n,'"')}:!0}function ks(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=fE(e))||t&&e&&typeof e.length=="number"){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function fE(e,t){if(e){if(typeof e=="string")return Jp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Jp(e,t)}}function Jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var dE=je,Um=De,Zp=hn,rf=Ze(),lf=new dE("sanityCheck"),hE=[CE],pE=[mE,gE,yE,TE],_E=[SE,EE],pe,qt,Lm,vE=function(e,t,l){pe=e,qt=t,Lm=l;var i=ks(hE),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;if(u()===!1)return!1}}catch(g){i.e(g)}finally{i.f()}if(pe instanceof Zp.IncomingRequest){var n=ks(pE),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;if(h()===!1)return!1}}catch(g){n.e(g)}finally{n.f()}}else if(pe instanceof Zp.IncomingResponse){var c=ks(_E),_;try{for(c.s();!(_=c.n()).done;){var v=_.value;if(v()===!1)return!1}}catch(g){c.e(g)}finally{c.f()}}return!0};function mE(){if(pe.s("to").uri.scheme!=="sip")return ei(416),!1}function gE(){if(!pe.to_tag&&pe.call_id.substr(0,5)===qt.configuration.jssip_id)return ei(482),!1}function yE(){var e=rf.str_utf8_length(pe.body),t=pe.getHeader("content-length");if(e<t)return ei(400),!1}function TE(){var e=pe.from_tag,t=pe.call_id,l=pe.cseq,i;if(!pe.to_tag)if(pe.method===Um.INVITE){if(qt._transactions.ist[pe.via_branch])return!1;for(var s in qt._transactions.ist)if(Object.prototype.hasOwnProperty.call(qt._transactions.ist,s)&&(i=qt._transactions.ist[s],i.request.from_tag===e&&i.request.call_id===t&&i.request.cseq===l))return ei(482),!1}else{if(qt._transactions.nist[pe.via_branch])return!1;for(var u in qt._transactions.nist)if(Object.prototype.hasOwnProperty.call(qt._transactions.nist,u)&&(i=qt._transactions.nist[u],i.request.from_tag===e&&i.request.call_id===t&&i.request.cseq===l))return ei(482),!1}}function SE(){if(pe.getHeaders("via").length>1)return lf.debug("more than one Via header field present in the response, dropping the response"),!1}function EE(){var e=rf.str_utf8_length(pe.body),t=pe.getHeader("content-length");if(e<t)return lf.debug("message body length is lower than the value in Content-Length header field, dropping the response"),!1}function CE(){for(var e=["from","to","call_id","cseq","via"],t=0,l=e;t<l.length;t++){var i=l[t];if(!pe.hasHeader(i))return lf.debug("missing mandatory header field : ".concat(i,", dropping the response")),!1}}function ei(e){var t=pe.getHeaders("via"),l,i="SIP/2.0 ".concat(e," ").concat(Um.REASON_PHRASE[e],`\r
`),s=ks(t),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;i+="Via: ".concat(n,`\r
`)}}catch(d){s.e(d)}finally{s.f()}l=pe.getHeader("To"),pe.to_tag||(l+=";tag=".concat(rf.newTag())),i+="To: ".concat(l,`\r
`),i+="From: ".concat(pe.getHeader("From"),`\r
`),i+="Call-ID: ".concat(pe.call_id,`\r
`),i+="CSeq: ".concat(pe.cseq," ").concat(pe.method,`\r
`),i+=`\r
`,Lm.send(i)}var sf={};function e_(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=wE(e))||t&&e&&typeof e.length=="number"){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function wE(e,t){if(e){if(typeof e=="string")return t_(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return t_(e,t)}}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var Nr=Ze(),nr=De,Wu=Kt(),n_=zn(),Gu=nf,Ku=jn;sf.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:nr.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:nr.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:nr.CONNECTION_RECOVERY_MIN_INTERVAL,extra_headers:null,via_host:"".concat(Nr.createRandomToken(12),".invalid")};var ns={mandatory:{sockets:function(t){var l=[];if(Gu.isSocket(t))l.push({socket:t});else if(Array.isArray(t)&&t.length){var i=e_(t),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;Object.prototype.hasOwnProperty.call(u,"socket")&&Gu.isSocket(u.socket)?l.push(u):Gu.isSocket(u)&&l.push({socket:u})}}catch(n){i.e(n)}finally{i.f()}}else return;return l},uri:function(t){/^sip:/i.test(t)||(t="".concat(nr.SIP,":").concat(t));var l=n_.parse(t);if(l)return l.user?l:void 0}},optional:{authorization_user:function(t){if(Wu.parse('"'.concat(t,'"'),"quoted_string")!==-1)return t},authorization_jwt:function(t){if(typeof t=="string")return t},user_agent:function(t){if(typeof t=="string")return t},connection_recovery_max_interval:function(t){if(Nr.isDecimal(t)){var l=Number(t);if(l>0)return l}},connection_recovery_min_interval:function(t){if(Nr.isDecimal(t)){var l=Number(t);if(l>0)return l}},contact_uri:function(t){if(typeof t=="string"){var l=Wu.parse(t,"SIP_URI");if(l!==-1)return l}},display_name:function(t){return t},instance_id:function(t){if(/^uuid:/i.test(t)&&(t=t.substr(5)),Wu.parse(t,"uuid")!==-1)return t},no_answer_timeout:function(t){if(Nr.isDecimal(t)){var l=Number(t);if(l>0)return l}},session_timers:function(t){if(typeof t=="boolean")return t},session_timers_refresh_method:function(t){if(typeof t=="string"&&(t=t.toUpperCase(),t===nr.INVITE||t===nr.UPDATE))return t},session_timers_force_refresher:function(t){if(typeof t=="boolean")return t},password:function(t){return String(t)},realm:function(t){return String(t)},ha1:function(t){return String(t)},register:function(t){if(typeof t=="boolean")return t},register_expires:function(t){if(Nr.isDecimal(t)){var l=Number(t);if(l>0)return l}},registrar_server:function(t){/^sip:/i.test(t)||(t="".concat(nr.SIP,":").concat(t));var l=n_.parse(t);if(l)return l.user?void 0:l},use_preloaded_route:function(t){if(typeof t=="boolean")return t},extra_headers:function(t){var l=[];if(Array.isArray(t)&&t.length){var i=e_(t),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;typeof u=="string"&&l.push(u)}}catch(n){i.e(n)}finally{i.f()}}else return;return l}}};sf.load=function(e,t){for(var l in ns.mandatory)if(t.hasOwnProperty(l)){var i=t[l],s=ns.mandatory[l](i);if(s!==void 0)e[l]=s;else throw new Ku.ConfigurationError(l,i)}else throw new Ku.ConfigurationError(l);for(var u in ns.optional)if(t.hasOwnProperty(u)){var n=t[u];if(Nr.isEmpty(n))continue;var d=ns.optional[u](n);if(d!==void 0)e[u]=d;else throw new Ku.ConfigurationError(u,n)}};function Os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(l){return typeof l}:Os=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Os(e)}function RE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l_(e,t,l){return t&&r_(e.prototype,t),l&&r_(e,l),e}function AE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}function rc(e,t){return rc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},rc(e,t)}function IE(e){var t=OE();return function(){var i=co(e),s;if(t){var u=co(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return kE(this,s)}}function kE(e,t){return t&&(Os(t)==="object"||typeof t=="function")?t:Mm(e)}function Mm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},co(e)}var NE=Ht.EventEmitter,xE=je,ze=De,PE=yS,i_=k1,s_=j1,o_=Z1,Qu=hi,bE=sE,rs=Ze(),DE=jn,UE=zn(),LE=Dm,Yu=hn,ME=vE,Xu=sf,me=new xE("UA"),Be={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2},FE=function(e){AE(l,e);var t=IE(l);l_(l,null,[{key:"C",get:function(){return Be}}]);function l(i){var s;if(RE(this,l),me.debug("new() [configuration:%o]",i),s=t.call(this),s._cache={credentials:{}},s._configuration=Object.assign({},Xu.settings),s._dynConfiguration={},s._dialogs={},s._applicants={},s._sessions={},s._transport=null,s._contact=null,s._status=Be.STATUS_INIT,s._error=null,s._transactions={nist:{},nict:{},ist:{},ict:{}},s._data={},s._closeTimer=null,i===void 0)throw new TypeError("Not enough arguments");try{s._loadConfig(i)}catch(u){throw s._status=Be.STATUS_NOT_READY,s._error=Be.CONFIGURATION_ERROR,u}return s._registrator=new PE(Mm(s)),s}return l_(l,[{key:"start",value:function(){me.debug("start()"),this._status===Be.STATUS_INIT?this._transport.connect():this._status===Be.STATUS_USER_CLOSED?(me.debug("restarting UA"),this._closeTimer!==null&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=Be.STATUS_INIT,this._transport.connect()):this._status===Be.STATUS_READY?me.debug("UA is in READY status, not restarted"):me.debug("ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){me.debug("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(s){me.debug("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(s)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(s,u){me.debug("call()");var n=new i_(this);return n.connect(s,u),n}},{key:"sendMessage",value:function(s,u,n){me.debug("sendMessage()");var d=new s_(this);return d.send(s,u,n),d}},{key:"sendOptions",value:function(s,u,n){me.debug("sendOptions()");var d=new o_(this);return d.send(s,u,n),d}},{key:"terminateSessions",value:function(s){me.debug("terminateSessions()");for(var u in this._sessions)this._sessions[u].isEnded()||this._sessions[u].terminate(s)}},{key:"stop",value:function(){var s=this;if(me.debug("stop()"),this._dynConfiguration={},this._status===Be.STATUS_USER_CLOSED){me.debug("UA already closed");return}this._registrator.close();var u=Object.keys(this._sessions).length;for(var n in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,n)){me.debug("closing session ".concat(n));try{this._sessions[n].terminate()}catch{}}for(var d in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,d))try{this._applicants[d].close()}catch{}this._status=Be.STATUS_USER_CLOSED;var h=Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length;h===0&&u===0?this._transport.disconnect():this._closeTimer=setTimeout(function(){s._closeTimer=null,s._transport.disconnect()},2e3)}},{key:"normalizeTarget",value:function(s){return rs.normalizeTarget(s,this._configuration.hostport_params)}},{key:"get",value:function(s){switch(s){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:me.warn('get() | cannot get "%s" parameter in runtime',s);return}}},{key:"set",value:function(s,u){switch(s){case"authorization_user":{this._configuration.authorization_user=String(u);break}case"password":{this._configuration.password=String(u);break}case"realm":{this._configuration.realm=String(u);break}case"ha1":{this._configuration.ha1=String(u),this._configuration.password=null;break}case"authorization_jwt":{this._configuration.authorization_jwt=String(u);break}case"display_name":{this._configuration.display_name=u;break}default:return me.warn('set() | cannot set "%s" parameter in runtime',s),!1}return!0}},{key:"newTransaction",value:function(s){this._transactions[s.type][s.id]=s,this.emit("newTransaction",{transaction:s})}},{key:"destroyTransaction",value:function(s){delete this._transactions[s.type][s.id],this.emit("transactionDestroyed",{transaction:s})}},{key:"newDialog",value:function(s){this._dialogs[s.id]=s}},{key:"destroyDialog",value:function(s){delete this._dialogs[s.id]}},{key:"newMessage",value:function(s,u){this._applicants[s]=s,this.emit("newMessage",u)}},{key:"newOptions",value:function(s,u){this._applicants[s]=s,this.emit("newOptions",u)}},{key:"destroyMessage",value:function(s){delete this._applicants[s]}},{key:"newRTCSession",value:function(s,u){this._sessions[s.id]=s,this.emit("newRTCSession",u)}},{key:"destroyRTCSession",value:function(s){delete this._sessions[s.id]}},{key:"registered",value:function(s){this.emit("registered",s)}},{key:"unregistered",value:function(s){this.emit("unregistered",s)}},{key:"registrationFailed",value:function(s){this.emit("registrationFailed",s)}},{key:"receiveRequest",value:function(s){var u=s.method;if(s.ruri.user!==this._configuration.uri.user&&s.ruri.user!==this._contact.uri.user){me.debug("Request-URI does not point to us"),s.method!==ze.ACK&&s.reply_sl(404);return}if(s.ruri.scheme===ze.SIPS){s.reply_sl(416);return}if(!Qu.checkTransaction(this,s)){if(u===ze.INVITE?new Qu.InviteServerTransaction(this,this._transport,s):u!==ze.ACK&&u!==ze.CANCEL&&new Qu.NonInviteServerTransaction(this,this._transport,s),u===ze.OPTIONS){if(this.listeners("newOptions").length===0){s.reply(200);return}var n=new o_(this);n.init_incoming(s)}else if(u===ze.MESSAGE){if(this.listeners("newMessage").length===0){s.reply(405);return}var d=new s_(this);d.init_incoming(s)}else if(u===ze.INVITE&&!s.to_tag&&this.listeners("newRTCSession").length===0){s.reply(405);return}var h,c;if(s.to_tag)h=this._findDialog(s.call_id,s.from_tag,s.to_tag),h?h.receiveRequest(s):u===ze.NOTIFY?(c=this._findSession(s),c?c.receiveRequest(s):(me.debug("received NOTIFY request for a non existent subscription"),s.reply(481,"Subscription does not exist"))):u!==ze.ACK&&s.reply(481);else switch(u){case ze.INVITE:if(window.RTCPeerConnection)if(s.hasHeader("replaces")){var _=s.replaces;h=this._findDialog(_.call_id,_.from_tag,_.to_tag),h?(c=h.owner,c.isEnded()?s.reply(603):c.receiveRequest(s)):s.reply(481)}else c=new i_(this),c.init_incoming(s);else me.warn("INVITE received but WebRTC is not supported"),s.reply(488);break;case ze.BYE:s.reply(481);break;case ze.CANCEL:c=this._findSession(s),c?c.receiveRequest(s):me.debug("received CANCEL request for a non existent session");break;case ze.ACK:break;case ze.NOTIFY:this.emit("sipEvent",{event:s.event,request:s}),s.reply(200);break;default:s.reply(405);break}}}},{key:"_findSession",value:function(s){var u=s.call_id,n=s.from_tag,d=s.to_tag,h=u+n,c=this._sessions[h],_=u+d,v=this._sessions[_];return c||v||null}},{key:"_findDialog",value:function(s,u,n){var d=s+u+n,h=this._dialogs[d];return h||(d=s+n+u,h=this._dialogs[d],h||null)}},{key:"_loadConfig",value:function(s){try{Xu.load(this._configuration,s)}catch(_){throw _}this._configuration.display_name===0&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=rs.newUUID()),this._configuration.jssip_id=rs.createRandomToken(5);var u=this._configuration.uri.clone();u.user=null,this._configuration.hostport_params=u.toString().replace(/^sip:/i,"");try{this._transport=new bE(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=HE.bind(this),this._transport.onconnect=$E.bind(this),this._transport.ondisconnect=jE.bind(this),this._transport.ondata=zE.bind(this)}catch(_){throw me.warn(_),new DE.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var n=this._configuration.uri.clone();n.user=null,n.clearParams(),n.clearHeaders(),this._configuration.registrar_server=n}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new UE("sip",rs.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=v.anonymous||null,S=v.outbound||null,C="<";return g?C+=this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":C+=this.pub_gruu||this.uri.toString(),S&&(g?!this.temp_gruu:!this.pub_gruu)&&(C+=";ob"),C+=">",C}};var d=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register"];for(var h in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,h)&&(d.indexOf(h)!==-1?Object.defineProperty(this._configuration,h,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,h,{writable:!1,configurable:!1}));me.debug("configuration parameters after validation:");for(var c in this._configuration)if(Object.prototype.hasOwnProperty.call(Xu.settings,c))switch(c){case"uri":case"registrar_server":me.debug("- ".concat(c,": ").concat(this._configuration[c]));break;case"password":case"ha1":case"authorization_jwt":me.debug("- ".concat(c,": NOT SHOWN"));break;default:me.debug("- ".concat(c,": ").concat(JSON.stringify(this._configuration[c])))}}},{key:"C",get:function(){return Be}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),l}(NE);function HE(e){this.emit("connecting",e)}function $E(e){this._status!==Be.STATUS_USER_CLOSED&&(this._status=Be.STATUS_READY,this._error=null,this.emit("connected",e),this._dynConfiguration.register&&this._registrator.register())}function jE(e){for(var t=["nict","ict","nist","ist"],l=0,i=t;l<i.length;l++){var s=i[l];for(var u in this._transactions[s])Object.prototype.hasOwnProperty.call(this._transactions[s],u)&&this._transactions[s][u].onTransportError()}this.emit("disconnected",e),this._registrator.onTransportClosed(),this._status!==Be.STATUS_USER_CLOSED&&(this._status=Be.STATUS_NOT_READY,this._error=Be.NETWORK_ERROR)}function zE(e){var t=e.transport,l=e.message;if(l=LE.parseMessage(l,this),!!l&&!(this._status===Be.STATUS_USER_CLOSED&&l instanceof Yu.IncomingRequest)&&ME(l,this,t)){if(l instanceof Yu.IncomingRequest)l.transport=t,this.receiveRequest(l);else if(l instanceof Yu.IncomingResponse){var i;switch(l.method){case ze.INVITE:i=this._transactions.ict[l.via_branch],i&&i.receiveResponse(l);break;case ze.ACK:break;default:i=this._transactions.nict[l.via_branch],i&&i.receiveResponse(l);break}}}}function qE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function BE(e,t,l){return t&&u_(e.prototype,t),l&&u_(e,l),e}var VE=je,WE=Kt(),tt=new VE("WebSocketInterface"),GE=function(){function e(t){qE(this,e),tt.debug('new() [url:"%s"]',t),this._url=t,this._sip_uri=null,this._via_transport=null,this._ws=null;var l=WE.parse(t,"absoluteURI");if(l===-1)throw tt.warn("invalid WebSocket URI: ".concat(t)),new TypeError("Invalid argument: ".concat(t));if(l.scheme!=="wss"&&l.scheme!=="ws")throw tt.warn("invalid WebSocket URI scheme: ".concat(l.scheme)),new TypeError("Invalid argument: ".concat(t));this._sip_uri="sip:".concat(l.host).concat(l.port?":".concat(l.port):"",";transport=ws"),this._via_transport=l.scheme.toUpperCase()}return BE(e,[{key:"connect",value:function(){if(tt.debug("connect()"),this.isConnected()){tt.debug("WebSocket ".concat(this._url," is already connected"));return}else if(this.isConnecting()){tt.debug("WebSocket ".concat(this._url," is connecting"));return}this._ws&&this.disconnect(),tt.debug("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(l){this._onError(l)}}},{key:"disconnect",value:function(){tt.debug("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(l){return tt.debug("send()"),this.isConnected()?(this._ws.send(l),!0):(tt.warn("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){tt.debug("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(l){var i=l.wasClean,s=l.code,u=l.reason;tt.debug("WebSocket ".concat(this._url," closed")),i===!1&&tt.debug("WebSocket abrupt disconnection"),this.ondisconnect(!i,s,u)}},{key:"_onMessage",value:function(l){var i=l.data;tt.debug("received WebSocket message"),this.ondata(i)}},{key:"_onError",value:function(l){tt.warn("WebSocket ".concat(this._url," error: "),l)}},{key:"via_transport",get:function(){return this._via_transport},set:function(l){this._via_transport=l.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}]),e}(),lc=gm,KE=De,QE=jn,YE=Ze(),XE=FE,JE=zn(),ZE=Zc(),eC=Kt(),tC=GE,nC=Wr("JsSIP");nC("version %s",lc.version);var a_={C:KE,Exceptions:QE,Utils:YE,UA:XE,URI:JE,NameAddrHeader:ZE,WebSocketInterface:tC,Grammar:eC,debug:Wr,get name(){return lc.title},get version(){return lc.version}};class rC{constructor(t,l,i,s){Xt(this,"webrtc");Xt(this,"uri");Xt(this,"password");Xt(this,"coolPhone");Xt(this,"jsSoc");Xt(this,"stream",{incomming:{stream:void 0,recorder:void 0,chunks:[]},outgoing:{stream:void 0,recorder:void 0,chunks:[]}});Xt(this,"events");Xt(this,"session");this.webrtc=t,this.password=i,this.uri=l,this.jsSoc=new a_.WebSocketInterface(this.webrtc),this.events=s;const u={...Z0,sockets:[this.jsSoc],uri:this.uri,password:this.password};this.coolPhone=new a_.UA(u),this.coolPhone.on("registrationExpiring",n=>{console.log("regestration expering")}),this.coolPhone.on("connected",n=>{this.onConnected(n)}),this.coolPhone.on("disconnected",n=>{this.onDisconnected(n),this.events.eventUnregistered()}),this.coolPhone.on("newRTCSession",n=>{this.newRTCSession(n)}),this.coolPhone.on("registered",n=>{console.log("registered",n),this.events.eventRegistered()}),this.coolPhone.on("unregistered",n=>{console.log("unregistered",n),this.events.eventUnregistered()}),this.coolPhone.on("registrationFailed",n=>{this.events.eventUnregistered(),console.log("registration failed",n)})}onConnected(t){console.log("connected",t)}onDisconnected(t){console.error("sip disconnected",t),this.events.eventUnregistered()}newRTCSession(t){this.session=t,t.originator=="remote"&&(alert("incomming call"),console.log("incomming call",t),this.events.eventOnCallReceive()),t.session.connection.addEventListener("addstream",l=>{const i=document.createElement("audio");i.srcObject=l.stream,i.play(),this.stream.incomming.stream=l.stream,this.stream.incomming.recorder=new MediaRecorder(l.stream),this.stream.incomming.recorder.start()}),t.session.on("accepted",()=>{}),t.session.on("ended",async()=>{var l,i,s,u;(l=this.stream.incomming.recorder)==null||l.stop(),(i=this.stream.outgoing.recorder)==null||i.stop(),this.stream.incomming.recorder&&(this.stream.incomming.recorder.ondataavailable=n=>{this.setAudio(n.data,"incomming_call")}),this.stream.outgoing.recorder&&(this.stream.outgoing.recorder.ondataavailable=n=>{this.setAudio(n.data,"outgoing_call")}),this.events.eventOnCallDisconnected(),(s=this.stream.incomming.stream)==null||s.getTracks().forEach(n=>n.stop()),(u=this.stream.outgoing.stream)==null||u.getTracks().forEach(n=>n.stop())}),t.session.on("peerconnection",l=>{l.peerconnection.addEventListener("addstream",i=>{this.stream.incomming.stream=i.stream,this.stream.incomming.recorder=new MediaRecorder(i.stream),this.stream.incomming.recorder.start();const s=document.createElement("audio");s.src=window.URL.createObjectURL(i.stream),s.play()})})}start(){this.coolPhone.start(),this.coolPhone.register()}call(t){const l={progress:function(i){console.log("call is in progress",i)},failed:function(i){console.log("call failed with cause: ",i)},ended:function(i){console.log("call ended with cause: ",i)},confirmed:function(i){console.log("call confirmed",i)}};navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(i=>{const s={eventHandlers:l,mediaStream:i};this.stream.outgoing.stream=i,this.stream.outgoing.recorder=new MediaRecorder(i),this.stream.outgoing.recorder.start(),this.coolPhone.call(t,s)})}setAudio(t,l){console.log(t,l);const i=URL.createObjectURL(t);let s=document.getElementById(l);s.src=i}acceptCall(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(t=>{var i;let l={mediaConstraints:{audio:!0,video:!1},mediaStream:t};this.stream.outgoing.stream=t,this.stream.outgoing.recorder=new MediaRecorder(t),this.stream.outgoing.recorder.start(),(i=this.session)==null||i.session.answer(l)})}endCall(){var t;(t=this.session)==null||t.session.terminate(),this.session=void 0}hold(){var t;(t=this.session)==null||t.session.hold()}unhold(){var t;(t=this.session)==null||t.session.unhold()}mute(){var t;(t=this.session)==null||t.session.mute()}unmute(){var t;(t=this.session)==null||t.session.unmute()}kill(){this.coolPhone.unregister(),this.jsSoc.disconnect()}}const lC="_connect_16okw_1",iC="_connection_status_16okw_11",sC="_audio_player_16okw_18",ls={connect:lC,connection_status:iC,audio_player:sC},oC={resistration_status:"unregistered",call_status:void 0};function uC(e,t){switch(t.type){case"register":return{...e,resistration_status:"registered"};case"unregister":return{...e,resistration_status:"unregistered"};case"call/incomming":return{...e,call_status:"incomming"};case"call/outgoing":return{...e,call_status:"outgoing"};case"call/connected":return{...e,call_status:"on_call"};case"call/ended":return{...e,call_status:"call_ended"};default:return e}}function aC(){const[e,t]=rn.useState(),[l,i]=rn.useReducer(uC,oC),[s,u]=rn.useReducer((h,c)=>{switch(c.type){case"RTCaddress":return{...h,RTCaddress:c.payload};case"callAddress":return{...h,call:c.payload};case"password":return{...h,password:c.payload};case"user":return{...h,user:c.payload};default:return h}},{RTCaddress:tr.RTCaddress,user:tr.user,password:tr.password,call:tr.call});function n(){if(s){const h=new rC(s.RTCaddress,s.user,s.password,{eventRegistered:()=>{console.log(" connected call event"),i({type:"register"})},eventUnregistered:()=>{console.log(" disconnected call event"),i({type:"unregister"})},eventOnCallReceive:()=>{console.log("call receiving")},eventOnCallDisconnected:()=>{console.log("call disconnected")}});h.start(),t(h)}else t(void 0)}function d(){s.call&&(e==null||e.call(s.call))}return rn.useEffect(()=>()=>{e==null||e.kill()},[]),fe.jsxs("div",{className:"App",children:[fe.jsxs("div",{className:ls.connection_status,children:["connection status :"," ",fe.jsxs("span",{"data-success":l.resistration_status==="registered",children:[" ",l.resistration_status]})]}),fe.jsxs("div",{className:ls.connect,children:[fe.jsx("label",{htmlFor:"rtc",children:"RTCaddress :"}),fe.jsx("input",{type:"text",value:s.RTCaddress,onChange:h=>{u({type:"RTCaddress",payload:h.target.value})}}),fe.jsx("label",{htmlFor:"rtc",children:"user :"}),fe.jsx("input",{type:"text",value:s.user,onChange:h=>{u({type:"user",payload:h.target.value})}}),fe.jsx("label",{htmlFor:"password",children:"password :"}),fe.jsx("input",{type:"text",value:s.password,onChange:h=>{u({type:"password",payload:h.target.value})}}),fe.jsxs("button",{onClick:()=>{n()},children:[" ","connect"]})]}),fe.jsxs("div",{children:[fe.jsx("label",{htmlFor:"call",children:" call :"}),fe.jsx("input",{type:"text",value:s.call,onChange:h=>{u({type:"callAddress",payload:h.target.value})}}),fe.jsx("button",{disabled:l.resistration_status==="unregistered",onClick:d,children:"Call📞"}),fe.jsxs("div",{children:[fe.jsx("button",{onClick:()=>{e==null||e.endCall()},children:"End Call❌"}),fe.jsx("button",{onClick:()=>{e==null||e.mute()},children:"mute🙊"}),fe.jsx("button",{onClick:()=>{e==null||e.unmute()},children:"unmute🔊"}),fe.jsx("button",{onClick:()=>{e==null||e.hold()},children:"hold🙈🙉🙊"}),fe.jsx("button",{onClick:()=>{e==null||e.unhold()},children:"unhold"})]})]}),fe.jsxs("div",{children:[" ","receive call event TODO!",fe.jsx("button",{onClick:()=>{e==null||e.acceptCall()},children:"Accept call"})]}),fe.jsxs("div",{className:ls.audio_player,children:["Incomming Call ↙️",fe.jsx("audio",{id:"incomming_call",src:"",controls:!0})]}),fe.jsxs("div",{className:ls.audio_player,children:["Outgoing Call ↗️",fe.jsx("audio",{id:"outgoing_call",src:"",controls:!0})]})]})}Ju.createRoot(document.getElementById("root")).render(fe.jsx(zg.StrictMode,{children:fe.jsx(aC,{})}));
